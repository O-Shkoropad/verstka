var Prototype={Version:"1.7.3",Browser:(function(){var b=navigator.userAgent;var a=Object.prototype.toString.call(window.opera)=="[object Opera]";return{IE:!!window.attachEvent&&!a,Opera:a,WebKit:b.indexOf("AppleWebKit/")>-1,Gecko:b.indexOf("Gecko")>-1&&b.indexOf("KHTML")===-1,MobileSafari:/Apple.*Mobile/.test(b)}})(),BrowserFeatures:{XPath:!!document.evaluate,SelectorsAPI:!!document.querySelector,ElementExtensions:(function(){var a=window.Element||window.HTMLElement;return !!(a&&a.prototype)})(),SpecificElementExtensions:(function(){if(typeof window.HTMLDivElement!=="undefined"){return true}var c=document.createElement("div"),b=document.createElement("form"),a=false;if(c.__proto__&&(c.__proto__!==b.__proto__)){a=true}c=b=null;return a})()},ScriptFragment:"<script[^>]*>([\\S\\s]*?)<\/script\\s*>",JSONFilter:/^\/\*-secure-([\s\S]*)\*\/\s*$/,emptyFunction:function(){},K:function(a){return a}};if(Prototype.Browser.MobileSafari){Prototype.BrowserFeatures.SpecificElementExtensions=false}var Class=(function(){var d=(function(){for(var e in {toString:1}){if(e==="toString"){return false}}return true})();function a(){}function b(){var h=null,g=$A(arguments);if(Object.isFunction(g[0])){h=g.shift()}function e(){this.initialize.apply(this,arguments)}Object.extend(e,Class.Methods);e.superclass=h;e.subclasses=[];if(h){a.prototype=h.prototype;e.prototype=new a;h.subclasses.push(e)}for(var f=0,j=g.length;f<j;f++){e.addMethods(g[f])}if(!e.prototype.initialize){e.prototype.initialize=Prototype.emptyFunction}e.prototype.constructor=e;return e}function c(l){var g=this.superclass&&this.superclass.prototype,f=Object.keys(l);if(d){if(l.toString!=Object.prototype.toString){f.push("toString")}if(l.valueOf!=Object.prototype.valueOf){f.push("valueOf")}}for(var e=0,h=f.length;e<h;e++){var k=f[e],j=l[k];if(g&&Object.isFunction(j)&&j.argumentNames()[0]=="$super"){var m=j;j=(function(i){return function(){return g[i].apply(this,arguments)}})(k).wrap(m);j.valueOf=(function(i){return function(){return i.valueOf.call(i)}})(m);j.toString=(function(i){return function(){return i.toString.call(i)}})(m)}this.prototype[k]=j}return this}return{create:b,Methods:{addMethods:c}}})();(function(){var y=Object.prototype.toString,k=Object.prototype.hasOwnProperty,z="Null",B="Undefined",K="Boolean",w="Number",v="String",I="Object",i="[object Function]",d="[object Boolean]",j="[object Number]",f="[object String]",b="[object Array]",H="[object Date]",e=window.JSON&&typeof JSON.stringify==="function"&&JSON.stringify(0)==="0"&&typeof JSON.stringify(Prototype.K)==="undefined";var q=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];var a=(function(){for(var L in {toString:1}){if(L==="toString"){return false}}return true})();function D(M){switch(M){case null:return z;case (void 0):return B}var L=typeof M;switch(L){case"boolean":return K;case"number":return w;case"string":return v}return I}function h(L,N){for(var M in N){L[M]=N[M]}return L}function l(L){try{if(o(L)){return"undefined"}if(L===null){return"null"}return L.inspect?L.inspect():String(L)}catch(M){if(M instanceof RangeError){return"..."}throw M}}function A(L){return m("",{"":L},[])}function m(U,R,S){var T=R[U];if(D(T)===I&&typeof T.toJSON==="function"){T=T.toJSON(U)}var N=y.call(T);switch(N){case j:case d:case f:T=T.valueOf()}switch(T){case null:return"null";case true:return"true";case false:return"false"}var Q=typeof T;switch(Q){case"string":return T.inspect(true);case"number":return isFinite(T)?String(T):"null";case"object":for(var M=0,L=S.length;M<L;M++){if(S[M]===T){throw new TypeError("Cyclic reference to '"+T+"' in object")}}S.push(T);var P=[];if(N===b){for(var M=0,L=T.length;M<L;M++){var O=m(M,T,S);P.push(typeof O==="undefined"?"null":O)}P="["+P.join(",")+"]"}else{var V=Object.keys(T);for(var M=0,L=V.length;M<L;M++){var U=V[M],O=m(U,T,S);if(typeof O!=="undefined"){P.push(U.inspect(true)+":"+O)}}P="{"+P.join(",")+"}"}S.pop();return P}}function J(L){return JSON.stringify(L)}function C(L){return $H(L).toQueryString()}function p(L){return L&&L.toHTML?L.toHTML():String.interpret(L)}function x(L){if(D(L)!==I){throw new TypeError()}var N=[];for(var O in L){if(k.call(L,O)){N.push(O)}}if(a){for(var M=0;O=q[M];M++){if(k.call(L,O)){N.push(O)}}}return N}function G(L){var M=[];for(var N in L){M.push(L[N])}return M}function s(L){return h({},L)}function E(L){return !!(L&&L.nodeType==1)}function u(L){return y.call(L)===b}var c=(typeof Array.isArray=="function")&&Array.isArray([])&&!Array.isArray({});if(c){u=Array.isArray}function r(L){return L instanceof Hash}function n(L){return y.call(L)===i}function g(L){return y.call(L)===f}function F(L){return y.call(L)===j}function t(L){return y.call(L)===H}function o(L){return typeof L==="undefined"}h(Object,{extend:h,inspect:l,toJSON:e?J:A,toQueryString:C,toHTML:p,keys:Object.keys||x,values:G,clone:s,isElement:E,isArray:u,isHash:r,isFunction:n,isString:g,isNumber:F,isDate:t,isUndefined:o})})();Object.extend(Function.prototype,(function(){var l=Array.prototype.slice;function d(p,m){var o=p.length,n=m.length;while(n--){p[o+n]=m[n]}return p}function j(n,m){n=l.call(n,0);return d(n,m)}function g(){var m=this.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");return m.length==1&&!m[0]?[]:m}function h(o){if(arguments.length<2&&Object.isUndefined(arguments[0])){return this}if(!Object.isFunction(this)){throw new TypeError("The object is not callable.")}var q=function(){};var m=this,n=l.call(arguments,1);var p=function(){var r=j(n,arguments);var s=this instanceof p?this:o;return m.apply(s,r)};q.prototype=this.prototype;p.prototype=new q();return p}function f(o){var m=this,n=l.call(arguments,1);return function(q){var p=d([q||window.event],n);return m.apply(o,p)}}function k(){if(!arguments.length){return this}var m=this,n=l.call(arguments,0);return function(){var o=j(n,arguments);return m.apply(this,o)}}function e(o){var m=this,n=l.call(arguments,1);o=o*1000;return window.setTimeout(function(){return m.apply(m,n)},o)}function a(){var m=d([0.01],arguments);return this.delay.apply(this,m)}function c(n){var m=this;return function(){var o=d([m.bind(this)],arguments);return n.apply(this,o)}}function b(){if(this._methodized){return this._methodized}var m=this;return this._methodized=function(){var n=d([this],arguments);return m.apply(null,n)}}var i={argumentNames:g,bindAsEventListener:f,curry:k,delay:e,defer:a,wrap:c,methodize:b};if(!Function.prototype.bind){i.bind=h}return i})());(function(c){function b(){return this.getUTCFullYear()+"-"+(this.getUTCMonth()+1).toPaddedString(2)+"-"+this.getUTCDate().toPaddedString(2)+"T"+this.getUTCHours().toPaddedString(2)+":"+this.getUTCMinutes().toPaddedString(2)+":"+this.getUTCSeconds().toPaddedString(2)+"Z"}function a(){return this.toISOString()}if(!c.toISOString){c.toISOString=b}if(!c.toJSON){c.toJSON=a}})(Date.prototype);RegExp.prototype.match=RegExp.prototype.test;RegExp.escape=function(a){return String(a).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")};var PeriodicalExecuter=Class.create({initialize:function(b,a){this.callback=b;this.frequency=a;this.currentlyExecuting=false;this.registerCallback()},registerCallback:function(){this.timer=setInterval(this.onTimerEvent.bind(this),this.frequency*1000)},execute:function(){this.callback(this)},stop:function(){if(!this.timer){return}clearInterval(this.timer);this.timer=null},onTimerEvent:function(){if(!this.currentlyExecuting){try{this.currentlyExecuting=true;this.execute();this.currentlyExecuting=false}catch(a){this.currentlyExecuting=false;throw a}}}});Object.extend(String,{interpret:function(a){return a==null?"":String(a)},specialChar:{"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\\":"\\\\"}});Object.extend(String.prototype,(function(){var NATIVE_JSON_PARSE_SUPPORT=window.JSON&&typeof JSON.parse==="function"&&JSON.parse('{"test": true}').test;function prepareReplacement(replacement){if(Object.isFunction(replacement)){return replacement}var template=new Template(replacement);return function(match){return template.evaluate(match)}}function isNonEmptyRegExp(regexp){return regexp.source&&regexp.source!=="(?:)"}function gsub(pattern,replacement){var result="",source=this,match;replacement=prepareReplacement(replacement);if(Object.isString(pattern)){pattern=RegExp.escape(pattern)}if(!(pattern.length||isNonEmptyRegExp(pattern))){replacement=replacement("");return replacement+source.split("").join(replacement)+replacement}while(source.length>0){match=source.match(pattern);if(match&&match[0].length>0){result+=source.slice(0,match.index);result+=String.interpret(replacement(match));source=source.slice(match.index+match[0].length)}else{result+=source,source=""}}return result}function sub(pattern,replacement,count){replacement=prepareReplacement(replacement);count=Object.isUndefined(count)?1:count;return this.gsub(pattern,function(match){if(--count<0){return match[0]}return replacement(match)})}function scan(pattern,iterator){this.gsub(pattern,iterator);return String(this)}function truncate(length,truncation){length=length||30;truncation=Object.isUndefined(truncation)?"...":truncation;return this.length>length?this.slice(0,length-truncation.length)+truncation:String(this)}function strip(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}function stripTags(){return this.replace(/<\w+(\s+("[^"]*"|'[^']*'|[^>])+)?(\/)?>|<\/\w+>/gi,"")}function stripScripts(){return this.replace(new RegExp(Prototype.ScriptFragment,"img"),"")}function extractScripts(){var matchAll=new RegExp(Prototype.ScriptFragment,"img"),matchOne=new RegExp(Prototype.ScriptFragment,"im");return(this.match(matchAll)||[]).map(function(scriptTag){return(scriptTag.match(matchOne)||["",""])[1]})}function evalScripts(){return this.extractScripts().map(function(script){return eval(script)})}function escapeHTML(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function unescapeHTML(){return this.stripTags().replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}function toQueryParams(separator){var match=this.strip().match(/([^?#]*)(#.*)?$/);if(!match){return{}}return match[1].split(separator||"&").inject({},function(hash,pair){if((pair=pair.split("="))[0]){var key=decodeURIComponent(pair.shift()),value=pair.length>1?pair.join("="):pair[0];if(value!=undefined){value=value.gsub("+"," ");value=decodeURIComponent(value)}if(key in hash){if(!Object.isArray(hash[key])){hash[key]=[hash[key]]}hash[key].push(value)}else{hash[key]=value}}return hash})}function toArray(){return this.split("")}function succ(){return this.slice(0,this.length-1)+String.fromCharCode(this.charCodeAt(this.length-1)+1)}function times(count){return count<1?"":new Array(count+1).join(this)}function camelize(){return this.replace(/-+(.)?/g,function(match,chr){return chr?chr.toUpperCase():""})}function capitalize(){return this.charAt(0).toUpperCase()+this.substring(1).toLowerCase()}function underscore(){return this.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/-/g,"_").toLowerCase()}function dasherize(){return this.replace(/_/g,"-")}function inspect(useDoubleQuotes){var escapedString=this.replace(/[\x00-\x1f\\]/g,function(character){if(character in String.specialChar){return String.specialChar[character]}return"\\u00"+character.charCodeAt().toPaddedString(2,16)});if(useDoubleQuotes){return'"'+escapedString.replace(/"/g,'\\"')+'"'}return"'"+escapedString.replace(/'/g,"\\'")+"'"}function unfilterJSON(filter){return this.replace(filter||Prototype.JSONFilter,"$1")}function isJSON(){var str=this;if(str.blank()){return false}str=str.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@");str=str.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]");str=str.replace(/(?:^|:|,)(?:\s*\[)+/g,"");return(/^[\],:{}\s]*$/).test(str)}function evalJSON(sanitize){var json=this.unfilterJSON(),cx=/[\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff\u0000]/g;if(cx.test(json)){json=json.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}try{if(!sanitize||json.isJSON()){return eval("("+json+")")}}catch(e){}throw new SyntaxError("Badly formed JSON string: "+this.inspect())}function parseJSON(){var json=this.unfilterJSON();return JSON.parse(json)}function include(pattern){return this.indexOf(pattern)>-1}function startsWith(pattern,position){position=Object.isNumber(position)?position:0;return this.lastIndexOf(pattern,position)===position}function endsWith(pattern,position){pattern=String(pattern);position=Object.isNumber(position)?position:this.length;if(position<0){position=0}if(position>this.length){position=this.length}var d=position-pattern.length;return d>=0&&this.indexOf(pattern,d)===d}function empty(){return this==""}function blank(){return/^\s*$/.test(this)}function interpolate(object,pattern){return new Template(this,pattern).evaluate(object)}return{gsub:gsub,sub:sub,scan:scan,truncate:truncate,strip:String.prototype.trim||strip,stripTags:stripTags,stripScripts:stripScripts,extractScripts:extractScripts,evalScripts:evalScripts,escapeHTML:escapeHTML,unescapeHTML:unescapeHTML,toQueryParams:toQueryParams,parseQuery:toQueryParams,toArray:toArray,succ:succ,times:times,camelize:camelize,capitalize:capitalize,underscore:underscore,dasherize:dasherize,inspect:inspect,unfilterJSON:unfilterJSON,isJSON:isJSON,evalJSON:NATIVE_JSON_PARSE_SUPPORT?parseJSON:evalJSON,include:include,startsWith:String.prototype.startsWith||startsWith,endsWith:String.prototype.endsWith||endsWith,empty:empty,blank:blank,interpolate:interpolate}})());var Template=Class.create({initialize:function(a,b){this.template=a.toString();this.pattern=b||Template.Pattern},evaluate:function(a){if(a&&Object.isFunction(a.toTemplateReplacements)){a=a.toTemplateReplacements()}return this.template.gsub(this.pattern,function(d){if(a==null){return(d[1]+"")}var f=d[1]||"";if(f=="\\"){return d[2]}var b=a,g=d[3],e=/^([^.[]+|\[((?:.*?[^\\])?)\])(\.|\[|$)/;d=e.exec(g);if(d==null){return f}while(d!=null){var c=d[1].startsWith("[")?d[2].replace(/\\\\]/g,"]"):d[1];b=b[c];if(null==b||""==d[3]){break}g=g.substring("["==d[3]?d[1].length:d[0].length);d=e.exec(g)}return f+String.interpret(b)})}});Template.Pattern=/(^|.|\r|\n)(#\{(.*?)\})/;var $break={};var Enumerable=(function(){function c(x,w){try{this._each(x,w)}catch(y){if(y!=$break){throw y}}return this}function r(z,y,x){var w=-z,A=[],B=this.toArray();if(z<1){return B}while((w+=z)<B.length){A.push(B.slice(w,w+z))}return A.collect(y,x)}function b(y,x){y=y||Prototype.K;var w=true;this.each(function(A,z){w=w&&!!y.call(x,A,z,this);if(!w){throw $break}},this);return w}function i(y,x){y=y||Prototype.K;var w=false;this.each(function(A,z){if(w=!!y.call(x,A,z,this)){throw $break}},this);return w}function j(y,x){y=y||Prototype.K;var w=[];this.each(function(A,z){w.push(y.call(x,A,z,this))},this);return w}function t(y,x){var w;this.each(function(A,z){if(y.call(x,A,z,this)){w=A;throw $break}},this);return w}function h(y,x){var w=[];this.each(function(A,z){if(y.call(x,A,z,this)){w.push(A)}},this);return w}function g(z,y,x){y=y||Prototype.K;var w=[];if(Object.isString(z)){z=new RegExp(RegExp.escape(z))}this.each(function(B,A){if(z.match(B)){w.push(y.call(x,B,A,this))}},this);return w}function a(w){if(Object.isFunction(this.indexOf)&&this.indexOf(w)!=-1){return true}var x=false;this.each(function(y){if(y==w){x=true;throw $break}});return x}function q(x,w){w=Object.isUndefined(w)?null:w;return this.eachSlice(x,function(y){while(y.length<x){y.push(w)}return y})}function l(w,y,x){this.each(function(A,z){w=y.call(x,w,A,z,this)},this);return w}function v(x){var w=$A(arguments).slice(1);return this.map(function(y){return y[x].apply(y,w)})}function p(y,x){y=y||Prototype.K;var w;this.each(function(A,z){A=y.call(x,A,z,this);if(w==null||A>=w){w=A}},this);return w}function n(y,x){y=y||Prototype.K;var w;this.each(function(A,z){A=y.call(x,A,z,this);if(w==null||A<w){w=A}},this);return w}function e(z,x){z=z||Prototype.K;var y=[],w=[];this.each(function(B,A){(z.call(x,B,A,this)?y:w).push(B)},this);return[y,w]}function f(x){var w=[];this.each(function(y){w.push(y[x])});return w}function d(y,x){var w=[];this.each(function(A,z){if(!y.call(x,A,z,this)){w.push(A)}},this);return w}function m(x,w){return this.map(function(z,y){return{value:z,criteria:x.call(w,z,y,this)}},this).sort(function(B,A){var z=B.criteria,y=A.criteria;return z<y?-1:z>y?1:0}).pluck("value")}function o(){return this.map()}function s(){var x=Prototype.K,w=$A(arguments);if(Object.isFunction(w.last())){x=w.pop()}var y=[this].concat(w).map($A);return this.map(function(A,z){return x(y.pluck(z))})}function k(){return this.toArray().length}function u(){return"#<Enumerable:"+this.toArray().inspect()+">"}return{each:c,eachSlice:r,all:b,every:b,any:i,some:i,collect:j,map:j,detect:t,findAll:h,select:h,filter:h,grep:g,include:a,member:a,inGroupsOf:q,inject:l,invoke:v,max:p,min:n,partition:e,pluck:f,reject:d,sortBy:m,toArray:o,entries:o,zip:s,size:k,inspect:u,find:t}})();function $A(c){if(!c){return[]}if("toArray" in Object(c)){return c.toArray()}var b=c.length||0,a=new Array(b);while(b--){a[b]=c[b]}return a}function $w(a){if(!Object.isString(a)){return[]}a=a.strip();return a?a.split(/\s+/):[]}Array.from=$A;(function(){var v=Array.prototype,o=v.slice,q=v.forEach;function b(B,A){for(var z=0,C=this.length>>>0;z<C;z++){if(z in this){B.call(A,this[z],z,this)}}}if(!q){q=b}function n(){this.length=0;return this}function d(){return this[0]}function g(){return this[this.length-1]}function k(){return this.select(function(z){return z!=null})}function y(){return this.inject([],function(A,z){if(Object.isArray(z)){return A.concat(z.flatten())}A.push(z);return A})}function j(){var z=o.call(arguments,0);return this.select(function(A){return !z.include(A)})}function f(z){return(z===false?this.toArray():this)._reverse()}function m(z){return this.inject([],function(C,B,A){if(0==A||(z?C.last()!=B:!C.include(B))){C.push(B)}return C})}function r(z){return this.uniq().findAll(function(A){return z.indexOf(A)!==-1})}function t(){return o.call(this,0)}function l(){return this.length}function w(){return"["+this.map(Object.inspect).join(", ")+"]"}function a(C,A){if(this==null){throw new TypeError()}var D=Object(this),B=D.length>>>0;if(B===0){return -1}A=Number(A);if(isNaN(A)){A=0}else{if(A!==0&&isFinite(A)){A=(A>0?1:-1)*Math.floor(Math.abs(A))}}if(A>B){return -1}var z=A>=0?A:Math.max(B-Math.abs(A),0);for(;z<B;z++){if(z in D&&D[z]===C){return z}}return -1}function p(C,A){if(this==null){throw new TypeError()}var D=Object(this),B=D.length>>>0;if(B===0){return -1}if(!Object.isUndefined(A)){A=Number(A);if(isNaN(A)){A=0}else{if(A!==0&&isFinite(A)){A=(A>0?1:-1)*Math.floor(Math.abs(A))}}}else{A=B}var z=A>=0?Math.min(A,B-1):B-Math.abs(A);for(;z>=0;z--){if(z in D&&D[z]===C){return z}}return -1}function c(G){var E=[],F=o.call(arguments,0),H,A=0;F.unshift(this);for(var D=0,z=F.length;D<z;D++){H=F[D];if(Object.isArray(H)&&!("callee" in H)){for(var C=0,B=H.length;C<B;C++){if(C in H){E[A]=H[C]}A++}}else{E[A++]=H}}E.length=A;return E}function s(z){return function(){if(arguments.length===0){return z.call(this,Prototype.K)}else{if(arguments[0]===undefined){var A=o.call(arguments,1);A.unshift(Prototype.K);return z.apply(this,A)}else{return z.apply(this,arguments)}}}}function u(D){if(this==null){throw new TypeError()}D=D||Prototype.K;var z=Object(this);var C=[],B=arguments[1],F=0;for(var A=0,E=z.length>>>0;A<E;A++){if(A in z){C[F]=D.call(B,z[A],A,z)}F++}C.length=F;return C}if(v.map){u=s(Array.prototype.map)}function h(D){if(this==null||!Object.isFunction(D)){throw new TypeError()}var z=Object(this);var C=[],B=arguments[1],F;for(var A=0,E=z.length>>>0;A<E;A++){if(A in z){F=z[A];if(D.call(B,F,A,z)){C.push(F)}}}return C}if(v.filter){h=Array.prototype.filter}function i(C){if(this==null){throw new TypeError()}C=C||Prototype.K;var B=arguments[1];var z=Object(this);for(var A=0,D=z.length>>>0;A<D;A++){if(A in z&&C.call(B,z[A],A,z)){return true}}return false}if(v.some){i=s(Array.prototype.some)}function x(C){if(this==null){throw new TypeError()}C=C||Prototype.K;var B=arguments[1];var z=Object(this);for(var A=0,D=z.length>>>0;A<D;A++){if(A in z&&!C.call(B,z[A],A,z)){return false}}return true}if(v.every){x=s(Array.prototype.every)}Object.extend(v,Enumerable);if(v.entries===Enumerable.entries){delete v.entries}if(!v._reverse){v._reverse=v.reverse}Object.extend(v,{_each:q,map:u,collect:u,select:h,filter:h,findAll:h,some:i,any:i,every:x,all:x,clear:n,first:d,last:g,compact:k,flatten:y,without:j,reverse:f,uniq:m,intersect:r,clone:t,toArray:t,size:l,inspect:w});var e=(function(){return[].concat(arguments)[0][0]!==1})(1,2);if(e){v.concat=c}if(!v.indexOf){v.indexOf=a}if(!v.lastIndexOf){v.lastIndexOf=p}})();function $H(a){return new Hash(a)}var Hash=Class.create(Enumerable,(function(){function e(p){this._object=Object.isHash(p)?p.toObject():Object.clone(p)}function f(s,r){var q=0;for(var p in this._object){var t=this._object[p],u=[p,t];u.key=p;u.value=t;s.call(r,u,q);q++}}function j(p,q){return this._object[p]=q}function c(p){if(this._object[p]!==Object.prototype[p]){return this._object[p]}}function m(p){var q=this._object[p];delete this._object[p];return q}function o(){return Object.clone(this._object)}function n(){return this.pluck("key")}function l(){return this.pluck("value")}function g(q){var p=this.detect(function(r){return r.value===q});return p&&p.key}function i(p){return this.clone().update(p)}function d(p){return new Hash(p).inject(this,function(q,r){q.set(r.key,r.value);return q})}function b(p,q){if(Object.isUndefined(q)){return p}q=String.interpret(q);q=q.gsub(/(\r)?\n/,"\r\n");q=encodeURIComponent(q);q=q.gsub(/%20/,"+");return p+"="+q}function a(){return this.inject([],function(t,w){var s=encodeURIComponent(w.key),q=w.value;if(q&&typeof q=="object"){if(Object.isArray(q)){var v=[];for(var r=0,p=q.length,u;r<p;r++){u=q[r];v.push(b(s,u))}return t.concat(v)}}else{t.push(b(s,q))}return t}).join("&")}function k(){return"#<Hash:{"+this.map(function(p){return p.map(Object.inspect).join(": ")}).join(", ")+"}>"}function h(){return new Hash(this)}return{initialize:e,_each:f,set:j,get:c,unset:m,toObject:o,toTemplateReplacements:o,keys:n,values:l,index:g,merge:i,update:d,toQueryString:a,inspect:k,toJSON:o,clone:h}})());Hash.from=$H;Object.extend(Number.prototype,(function(){function d(){return this.toPaddedString(2,16)}function b(){return this+1}function h(j,i){$R(0,this,true).each(j,i);return this}function g(k,j){var i=this.toString(j||10);return"0".times(k-i.length)+i}function a(){return Math.abs(this)}function c(){return Math.round(this)}function e(){return Math.ceil(this)}function f(){return Math.floor(this)}return{toColorPart:d,succ:b,times:h,toPaddedString:g,abs:a,round:c,ceil:e,floor:f}})());function $R(c,a,b){return new ObjectRange(c,a,b)}var ObjectRange=Class.create(Enumerable,(function(){function b(f,d,e){this.start=f;this.end=d;this.exclusive=e}function c(f,e){var g=this.start,d;for(d=0;this.include(g);d++){f.call(e,g,d);g=g.succ()}}function a(d){if(d<this.start){return false}if(this.exclusive){return d<this.end}return d<=this.end}return{initialize:b,_each:c,include:a}})());var Abstract={};var Try={these:function(){var c;for(var b=0,d=arguments.length;b<d;b++){var a=arguments[b];try{c=a();break}catch(f){}}return c}};var Ajax={getTransport:function(){return Try.these(function(){return new XMLHttpRequest()},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")})||false},activeRequestCount:0};Ajax.Responders={responders:[],_each:function(b,a){this.responders._each(b,a)},register:function(a){if(!this.include(a)){this.responders.push(a)}},unregister:function(a){this.responders=this.responders.without(a)},dispatch:function(d,b,c,a){this.each(function(f){if(Object.isFunction(f[d])){try{f[d].apply(f,[b,c,a])}catch(g){}}})}};Object.extend(Ajax.Responders,Enumerable);Ajax.Responders.register({onCreate:function(){Ajax.activeRequestCount++},onComplete:function(){Ajax.activeRequestCount--}});Ajax.Base=Class.create({initialize:function(a){this.options={method:"post",asynchronous:true,contentType:"application/x-www-form-urlencoded",encoding:"UTF-8",parameters:"",evalJSON:true,evalJS:true};Object.extend(this.options,a||{});this.options.method=this.options.method.toLowerCase();if(Object.isHash(this.options.parameters)){this.options.parameters=this.options.parameters.toObject()}}});Ajax.Request=Class.create(Ajax.Base,{_complete:false,initialize:function($super,b,a){$super(a);this.transport=Ajax.getTransport();this.request(b)},request:function(b){this.url=b;this.method=this.options.method;var d=Object.isString(this.options.parameters)?this.options.parameters:Object.toQueryString(this.options.parameters);if(!["get","post"].include(this.method)){d+=(d?"&":"")+"_method="+this.method;this.method="post"}if(d&&this.method==="get"){this.url+=(this.url.include("?")?"&":"?")+d}this.parameters=d.toQueryParams();try{var a=new Ajax.Response(this);if(this.options.onCreate){this.options.onCreate(a)}Ajax.Responders.dispatch("onCreate",this,a);this.transport.open(this.method.toUpperCase(),this.url,this.options.asynchronous);if(this.options.asynchronous){this.respondToReadyState.bind(this).defer(1)}this.transport.onreadystatechange=this.onStateChange.bind(this);this.setRequestHeaders();this.body=this.method=="post"?(this.options.postBody||d):null;this.transport.send(this.body);if(!this.options.asynchronous&&this.transport.overrideMimeType){this.onStateChange()}}catch(c){this.dispatchException(c)}},onStateChange:function(){var a=this.transport.readyState;if(a>1&&!((a==4)&&this._complete)){this.respondToReadyState(this.transport.readyState)}},setRequestHeaders:function(){var e={"X-Requested-With":"XMLHttpRequest","X-Prototype-Version":Prototype.Version,Accept:"text/javascript, text/html, application/xml, text/xml, */*"};if(this.method=="post"){e["Content-type"]=this.options.contentType+(this.options.encoding?"; charset="+this.options.encoding:"");if(this.transport.overrideMimeType&&(navigator.userAgent.match(/Gecko\/(\d{4})/)||[0,2005])[1]<2005){e.Connection="close"}}if(typeof this.options.requestHeaders=="object"){var c=this.options.requestHeaders;if(Object.isFunction(c.push)){for(var b=0,d=c.length;b<d;b+=2){e[c[b]]=c[b+1]}}else{$H(c).each(function(f){e[f.key]=f.value})}}for(var a in e){if(e[a]!=null){this.transport.setRequestHeader(a,e[a])}}},success:function(){var a=this.getStatus();return !a||(a>=200&&a<300)||a==304},getStatus:function(){try{if(this.transport.status===1223){return 204}return this.transport.status||0}catch(a){return 0}},respondToReadyState:function(a){var c=Ajax.Request.Events[a],b=new Ajax.Response(this);if(c=="Complete"){try{this._complete=true;(this.options["on"+b.status]||this.options["on"+(this.success()?"Success":"Failure")]||Prototype.emptyFunction)(b,b.headerJSON)}catch(d){this.dispatchException(d)}var f=b.getHeader("Content-type");if(this.options.evalJS=="force"||(this.options.evalJS&&this.isSameOrigin()&&f&&f.match(/^\s*(text|application)\/(x-)?(java|ecma)script(;.*)?\s*$/i))){this.evalResponse()}}try{(this.options["on"+c]||Prototype.emptyFunction)(b,b.headerJSON);Ajax.Responders.dispatch("on"+c,this,b,b.headerJSON)}catch(d){this.dispatchException(d)}if(c=="Complete"){this.transport.onreadystatechange=Prototype.emptyFunction}},isSameOrigin:function(){var a=this.url.match(/^\s*https?:\/\/[^\/]*/);return !a||(a[0]=="#{protocol}//#{domain}#{port}".interpolate({protocol:location.protocol,domain:document.domain,port:location.port?":"+location.port:""}))},getHeader:function(a){try{return this.transport.getResponseHeader(a)||null}catch(b){return null}},evalResponse:function(){try{return eval((this.transport.responseText||"").unfilterJSON())}catch(e){this.dispatchException(e)}},dispatchException:function(a){(this.options.onException||Prototype.emptyFunction)(this,a);Ajax.Responders.dispatch("onException",this,a)}});Ajax.Request.Events=["Uninitialized","Loading","Loaded","Interactive","Complete"];Ajax.Response=Class.create({initialize:function(c){this.request=c;var d=this.transport=c.transport,a=this.readyState=d.readyState;if((a>2&&!Prototype.Browser.IE)||a==4){this.status=this.getStatus();this.statusText=this.getStatusText();this.responseText=String.interpret(d.responseText);this.headerJSON=this._getHeaderJSON()}if(a==4){var b=d.responseXML;this.responseXML=Object.isUndefined(b)?null:b;this.responseJSON=this._getResponseJSON()}},status:0,statusText:"",getStatus:Ajax.Request.prototype.getStatus,getStatusText:function(){try{return this.transport.statusText||""}catch(a){return""}},getHeader:Ajax.Request.prototype.getHeader,getAllHeaders:function(){try{return this.getAllResponseHeaders()}catch(a){return null}},getResponseHeader:function(a){return this.transport.getResponseHeader(a)},getAllResponseHeaders:function(){return this.transport.getAllResponseHeaders()},_getHeaderJSON:function(){var a=this.getHeader("X-JSON");if(!a){return null}try{a=decodeURIComponent(escape(a))}catch(b){}try{return a.evalJSON(this.request.options.sanitizeJSON||!this.request.isSameOrigin())}catch(b){this.request.dispatchException(b)}},_getResponseJSON:function(){var a=this.request.options;if(!a.evalJSON||(a.evalJSON!="force"&&!(this.getHeader("Content-type")||"").include("application/json"))||this.responseText.blank()){return null}try{return this.responseText.evalJSON(a.sanitizeJSON||!this.request.isSameOrigin())}catch(b){this.request.dispatchException(b)}}});Ajax.Updater=Class.create(Ajax.Request,{initialize:function($super,a,c,b){this.container={success:(a.success||a),failure:(a.failure||(a.success?null:a))};b=Object.clone(b);var d=b.onComplete;b.onComplete=(function(e,f){this.updateContent(e.responseText);if(Object.isFunction(d)){d(e,f)}}).bind(this);$super(c,b)},updateContent:function(d){var c=this.container[this.success()?"success":"failure"],a=this.options;if(!a.evalScripts){d=d.stripScripts()}if(c=$(c)){if(a.insertion){if(Object.isString(a.insertion)){var b={};b[a.insertion]=d;c.insert(b)}else{a.insertion(c,d)}}else{c.update(d)}}}});Ajax.PeriodicalUpdater=Class.create(Ajax.Base,{initialize:function($super,a,c,b){$super(b);this.onComplete=this.options.onComplete;this.frequency=(this.options.frequency||2);this.decay=(this.options.decay||1);this.updater={};this.container=a;this.url=c;this.start()},start:function(){this.options.onComplete=this.updateComplete.bind(this);this.onTimerEvent()},stop:function(){this.updater.options.onComplete=undefined;clearTimeout(this.timer);(this.onComplete||Prototype.emptyFunction).apply(this,arguments)},updateComplete:function(a){if(this.options.decay){this.decay=(a.responseText==this.lastText?this.decay*this.options.decay:1);this.lastText=a.responseText}this.timer=this.onTimerEvent.bind(this).delay(this.decay*this.frequency)},onTimerEvent:function(){this.updater=new Ajax.Updater(this.container,this.url,this.options)}});(function(a8){var aE;var a1=Array.prototype.slice;var av=document.createElement("div");function aZ(bp){if(arguments.length>1){for(var F=0,br=[],bq=arguments.length;F<bq;F++){br.push(aZ(arguments[F]))}return br}if(Object.isString(bp)){bp=document.getElementById(bp)}return aF.extend(bp)}a8.$=aZ;if(!a8.Node){a8.Node={}}if(!a8.Node.ELEMENT_NODE){Object.extend(a8.Node,{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12})}var r={};function aQ(F,i){if(F==="select"){return false}if("type" in i){return false}return true}var d=(function(){try{var i=document.createElement('<input name="x">');return i.tagName.toLowerCase()==="input"&&i.name==="x"}catch(F){return false}})();var aI=a8.Element;function aF(F,i){i=i||{};F=F.toLowerCase();if(d&&i.name){F="<"+F+' name="'+i.name+'">';delete i.name;return aF.writeAttribute(document.createElement(F),i)}if(!r[F]){r[F]=aF.extend(document.createElement(F))}var bp=aQ(F,i)?r[F].cloneNode(false):document.createElement(F);return aF.writeAttribute(bp,i)}a8.Element=aF;Object.extend(a8.Element,aI||{});if(aI){a8.Element.prototype=aI.prototype}aF.Methods={ByTag:{},Simulated:{}};var a3={};var H={id:"id",className:"class"};function ba(F){F=aZ(F);var i="<"+F.tagName.toLowerCase();var bp,br;for(var bq in H){bp=H[bq];br=(F[bq]||"").toString();if(br){i+=" "+bp+"="+br.inspect(true)}}return i+">"}a3.inspect=ba;function v(i){return aZ(i).getStyle("display")!=="none"}function ax(F,i){F=aZ(F);if(typeof i!=="boolean"){i=!aF.visible(F)}aF[i?"show":"hide"](F);return F}function aH(i){i=aZ(i);i.style.display="none";return i}function j(i){i=aZ(i);i.style.display="";return i}Object.extend(a3,{visible:v,toggle:ax,hide:aH,show:j});function ad(i){i=aZ(i);i.parentNode.removeChild(i);return i}var aT=(function(){var i=document.createElement("select"),F=true;i.innerHTML='<option value="test">test</option>';if(i.options&&i.options[0]){F=i.options[0].nodeName.toUpperCase()!=="OPTION"}i=null;return F})();var I=(function(){try{var i=document.createElement("table");if(i&&i.tBodies){i.innerHTML="<tbody><tr><td>test</td></tr></tbody>";var bp=typeof i.tBodies[0]=="undefined";i=null;return bp}}catch(F){return true}})();var a2=(function(){try{var i=document.createElement("div");i.innerHTML="<link />";var bp=(i.childNodes.length===0);i=null;return bp}catch(F){return true}})();var x=aT||I||a2;var aq=(function(){var i=document.createElement("script"),bp=false;try{i.appendChild(document.createTextNode(""));bp=!i.firstChild||i.firstChild&&i.firstChild.nodeType!==3}catch(F){bp=true}i=null;return bp})();function O(br,bt){br=aZ(br);var bu=br.getElementsByTagName("*"),bq=bu.length;while(bq--){Z(bu[bq])}if(bt&&bt.toElement){bt=bt.toElement()}if(Object.isElement(bt)){return br.update().insert(bt)}bt=Object.toHTML(bt);var bp=br.tagName.toUpperCase();if(bp==="SCRIPT"&&aq){br.text=bt;return br}if(x){if(bp in L.tags){while(br.firstChild){br.removeChild(br.firstChild)}var F=t(bp,bt.stripScripts());for(var bq=0,bs;bs=F[bq];bq++){br.appendChild(bs)}}else{if(a2&&Object.isString(bt)&&bt.indexOf("<link")>-1){while(br.firstChild){br.removeChild(br.firstChild)}var F=t(bp,bt.stripScripts(),true);for(var bq=0,bs;bs=F[bq];bq++){br.appendChild(bs)}}else{br.innerHTML=bt.stripScripts()}}}else{br.innerHTML=bt.stripScripts()}bt.evalScripts.bind(bt).defer();return br}function ah(F,bp){F=aZ(F);if(bp&&bp.toElement){bp=bp.toElement()}else{if(!Object.isElement(bp)){bp=Object.toHTML(bp);var i=F.ownerDocument.createRange();i.selectNode(F);bp.evalScripts.bind(bp).defer();bp=i.createContextualFragment(bp.stripScripts())}}F.parentNode.replaceChild(bp,F);return F}var L={before:function(i,F){i.parentNode.insertBefore(F,i)},top:function(i,F){i.insertBefore(F,i.firstChild)},bottom:function(i,F){i.appendChild(F)},after:function(i,F){i.parentNode.insertBefore(F,i.nextSibling)},tags:{TABLE:["<table>","</table>",1],TBODY:["<table><tbody>","</tbody></table>",2],TR:["<table><tbody><tr>","</tr></tbody></table>",3],TD:["<table><tbody><tr><td>","</td></tr></tbody></table>",4],SELECT:["<select>","</select>",1]}};var aJ=L.tags;Object.extend(aJ,{THEAD:aJ.TBODY,TFOOT:aJ.TBODY,TH:aJ.TD});function ao(bp,bs){bp=aZ(bp);if(bs&&bs.toElement){bs=bs.toElement()}if(Object.isElement(bs)){bp.parentNode.replaceChild(bs,bp);return bp}bs=Object.toHTML(bs);var br=bp.parentNode,F=br.tagName.toUpperCase();if(F in L.tags){var bt=aF.next(bp);var i=t(F,bs.stripScripts());br.removeChild(bp);var bq;if(bt){bq=function(bu){br.insertBefore(bu,bt)}}else{bq=function(bu){br.appendChild(bu)}}i.each(bq)}else{bp.outerHTML=bs.stripScripts()}bs.evalScripts.bind(bs).defer();return bp}if("outerHTML" in document.documentElement){ah=ao}function a7(i){if(Object.isUndefined(i)||i===null){return false}if(Object.isString(i)||Object.isNumber(i)){return true}if(Object.isElement(i)){return true}if(i.toElement||i.toHTML){return true}return false}function bn(br,bt,F){F=F.toLowerCase();var bv=L[F];if(bt&&bt.toElement){bt=bt.toElement()}if(Object.isElement(bt)){bv(br,bt);return br}bt=Object.toHTML(bt);var bq=((F==="before"||F==="after")?br.parentNode:br).tagName.toUpperCase();var bu=t(bq,bt.stripScripts());if(F==="top"||F==="after"){bu.reverse()}for(var bp=0,bs;bs=bu[bp];bp++){bv(br,bs)}bt.evalScripts.bind(bt).defer()}function Q(F,bp){F=aZ(F);if(a7(bp)){bp={bottom:bp}}for(var i in bp){bn(F,bp[i],i)}return F}function u(F,bp,i){F=aZ(F);if(Object.isElement(bp)){aZ(bp).writeAttribute(i||{})}else{if(Object.isString(bp)){bp=new aF(bp,i)}else{bp=new aF("div",bp)}}if(F.parentNode){F.parentNode.replaceChild(bp,F)}bp.appendChild(F);return bp}function w(F){F=aZ(F);var bp=F.firstChild;while(bp){var i=bp.nextSibling;if(bp.nodeType===Node.TEXT_NODE&&!/\S/.test(bp.nodeValue)){F.removeChild(bp)}bp=i}return F}function a4(i){return aZ(i).innerHTML.blank()}function t(bs,br,bt){var bq=L.tags[bs],bu=av;var F=!!bq;if(!F&&bt){F=true;bq=["","",0]}if(F){bu.innerHTML="&#160;"+bq[0]+br+bq[1];bu.removeChild(bu.firstChild);for(var bp=bq[2];bp--;){bu=bu.firstChild}}else{bu.innerHTML=br}return $A(bu.childNodes)}function E(bq,F){if(!(bq=aZ(bq))){return}var bs=bq.cloneNode(F);if(!aY){bs._prototypeUID=aE;if(F){var br=aF.select(bs,"*"),bp=br.length;while(bp--){br[bp]._prototypeUID=aE}}}return aF.extend(bs)}function Z(F){var i=M(F);if(i){aF.stopObserving(F);if(!aY){F._prototypeUID=aE}delete aF.Storage[i]}}function bl(bp){var F=bp.length;while(F--){Z(bp[F])}}function at(br){var bq=br.length,bp,F;while(bq--){bp=br[bq];F=M(bp);delete aF.Storage[F];delete Event.cache[F]}}if(aY){bl=at}function m(bp){if(!(bp=aZ(bp))){return}Z(bp);var bq=bp.getElementsByTagName("*"),F=bq.length;while(F--){Z(bq[F])}return null}Object.extend(a3,{remove:ad,update:O,replace:ah,insert:Q,wrap:u,cleanWhitespace:w,empty:a4,clone:E,purge:m});function am(i,bp,bq){i=aZ(i);bq=bq||-1;var F=[];while(i=i[bp]){if(i.nodeType===Node.ELEMENT_NODE){F.push(aF.extend(i))}if(F.length===bq){break}}return F}function aL(i){return am(i,"parentNode")}function bm(i){return aF.select(i,"*")}function X(i){i=aZ(i).firstChild;while(i&&i.nodeType!==Node.ELEMENT_NODE){i=i.nextSibling}return aZ(i)}function bi(F){var i=[],bp=aZ(F).firstChild;while(bp){if(bp.nodeType===Node.ELEMENT_NODE){i.push(aF.extend(bp))}bp=bp.nextSibling}return i}function p(i){return am(i,"previousSibling")}function bh(i){return am(i,"nextSibling")}function aV(i){i=aZ(i);var bp=p(i),F=bh(i);return bp.reverse().concat(F)}function aR(F,i){F=aZ(F);if(Object.isString(i)){return Prototype.Selector.match(F,i)}return i.match(F)}function aW(F,bp,bq,i){F=aZ(F),bq=bq||0,i=i||0;if(Object.isNumber(bq)){i=bq,bq=null}while(F=F[bp]){if(F.nodeType!==1){continue}if(bq&&!Prototype.Selector.match(F,bq)){continue}if(--i>=0){continue}return aF.extend(F)}}function aa(F,bp,i){F=aZ(F);if(arguments.length===1){return aZ(F.parentNode)}return aW(F,"parentNode",bp,i)}function y(F,bq,i){if(arguments.length===1){return X(F)}F=aZ(F),bq=bq||0,i=i||0;if(Object.isNumber(bq)){i=bq,bq="*"}var bp=Prototype.Selector.select(bq,F)[i];return aF.extend(bp)}function h(F,bp,i){return aW(F,"previousSibling",bp,i)}function aB(F,bp,i){return aW(F,"nextSibling",bp,i)}function bb(i){i=aZ(i);var F=a1.call(arguments,1).join(", ");return Prototype.Selector.select(F,i)}function aD(bq){bq=aZ(bq);var bs=a1.call(arguments,1).join(", ");var bt=aF.siblings(bq),bp=[];for(var F=0,br;br=bt[F];F++){if(Prototype.Selector.match(br,bs)){bp.push(br)}}return bp}function D(F,i){F=aZ(F),i=aZ(i);if(!F||!i){return false}while(F=F.parentNode){if(F===i){return true}}return false}function B(F,i){F=aZ(F),i=aZ(i);if(!F||!i){return false}if(!i.contains){return D(F,i)}return i.contains(F)&&i!==F}function J(F,i){F=aZ(F),i=aZ(i);if(!F||!i){return false}return(F.compareDocumentPosition(i)&8)===8}var aM;if(av.compareDocumentPosition){aM=J}else{if(av.contains){aM=B}else{aM=D}}Object.extend(a3,{recursivelyCollect:am,ancestors:aL,descendants:bm,firstDescendant:X,immediateDescendants:bi,previousSiblings:p,nextSiblings:bh,siblings:aV,match:aR,up:aa,down:y,previous:h,next:aB,select:bb,adjacent:aD,descendantOf:aM,getElementsBySelector:bb,childElements:bi});var T=1;function aU(i){i=aZ(i);var F=aF.readAttribute(i,"id");if(F){return F}do{F="anonymous_element_"+T++}while(aZ(F));aF.writeAttribute(i,"id",F);return F}function a9(F,i){return aZ(F).getAttribute(i)}function K(F,i){F=aZ(F);var bp=aG.read;if(bp.values[i]){return bp.values[i](F,i)}if(bp.names[i]){i=bp.names[i]}if(i.include(":")){if(!F.attributes||!F.attributes[i]){return null}return F.attributes[i].value}return F.getAttribute(i)}function e(F,i){if(i==="title"){return F.title}return F.getAttribute(i)}var U=(function(){av.setAttribute("onclick",[]);var i=av.getAttribute("onclick");var F=Object.isArray(i);av.removeAttribute("onclick");return F})();if(U){a9=K}else{if(Prototype.Browser.Opera){a9=e}}function a0(bq,bp,bs){bq=aZ(bq);var F={},br=aG.write;if(typeof bp==="object"){F=bp}else{F[bp]=Object.isUndefined(bs)?true:bs}for(var i in F){bp=br.names[i]||i;bs=F[i];if(br.values[i]){bs=br.values[i](bq,bs);if(Object.isUndefined(bs)){continue}}if(bs===false||bs===null){bq.removeAttribute(bp)}else{if(bs===true){bq.setAttribute(bp,bp)}else{bq.setAttribute(bp,bs)}}}return bq}var a=(function(){if(!d){return false}var F=document.createElement('<input type="checkbox">');F.checked=true;var i=F.getAttributeNode("checked");return !i||!i.specified})();function Y(i,bp){bp=aG.has[bp]||bp;var F=aZ(i).getAttributeNode(bp);return !!(F&&F.specified)}function bg(i,F){if(F==="checked"){return i.checked}return Y(i,F)}a8.Element.Methods.Simulated.hasAttribute=a?bg:Y;function k(i){return new aF.ClassNames(i)}var V={};function f(F){if(V[F]){return V[F]}var i=new RegExp("(^|\\s+)"+F+"(\\s+|$)");V[F]=i;return i}function al(i,F){if(!(i=aZ(i))){return}var bp=i.className;if(bp.length===0){return false}if(bp===F){return true}return f(F).test(bp)}function o(i,F){if(!(i=aZ(i))){return}if(!al(i,F)){i.className+=(i.className?" ":"")+F}return i}function au(i,F){if(!(i=aZ(i))){return}i.className=i.className.replace(f(F)," ").strip();return i}function ae(F,bp,i){if(!(F=aZ(F))){return}if(Object.isUndefined(i)){i=!al(F,bp)}var bq=aF[i?"addClassName":"removeClassName"];return bq(F,bp)}var aG={};var aP="className",ar="for";av.setAttribute(aP,"x");if(av.className!=="x"){av.setAttribute("class","x");if(av.className==="x"){aP="class"}}var aK=document.createElement("label");aK.setAttribute(ar,"x");if(aK.htmlFor!=="x"){aK.setAttribute("htmlFor","x");if(aK.htmlFor==="x"){ar="htmlFor"}}aK=null;function ac(i,F){return i.getAttribute(F)}function g(i,F){return i.getAttribute(F,2)}function A(i,bp){var F=i.getAttributeNode(bp);return F?F.value:""}function bj(i,F){return aZ(i).hasAttribute(F)?F:null}av.onclick=Prototype.emptyFunction;var P=av.getAttribute("onclick");var aw;if(String(P).indexOf("{")>-1){aw=function(i,F){var bp=i.getAttribute(F);if(!bp){return null}bp=bp.toString();bp=bp.split("{")[1];bp=bp.split("}")[0];return bp.strip()}}else{if(P===""){aw=function(i,F){var bp=i.getAttribute(F);if(!bp){return null}return bp.strip()}}}aG.read={names:{"class":aP,className:aP,"for":ar,htmlFor:ar},values:{style:function(i){return i.style.cssText.toLowerCase()},title:function(i){return i.title}}};aG.write={names:{className:"class",htmlFor:"for",cellpadding:"cellPadding",cellspacing:"cellSpacing"},values:{checked:function(i,F){F=!!F;i.checked=F;return F?"checked":null},style:function(i,F){i.style.cssText=F?F:""}}};aG.has={names:{}};Object.extend(aG.write.names,aG.read.names);var a6=$w("colSpan rowSpan vAlign dateTime accessKey tabIndex encType maxLength readOnly longDesc frameBorder");for(var af=0,ag;ag=a6[af];af++){aG.write.names[ag.toLowerCase()]=ag;aG.has.names[ag.toLowerCase()]=ag}Object.extend(aG.read.values,{href:g,src:g,type:ac,action:A,disabled:bj,checked:bj,readonly:bj,multiple:bj,onload:aw,onunload:aw,onclick:aw,ondblclick:aw,onmousedown:aw,onmouseup:aw,onmouseover:aw,onmousemove:aw,onmouseout:aw,onfocus:aw,onblur:aw,onkeypress:aw,onkeydown:aw,onkeyup:aw,onsubmit:aw,onreset:aw,onselect:aw,onchange:aw});Object.extend(a3,{identify:aU,readAttribute:a9,writeAttribute:a0,classNames:k,hasClassName:al,addClassName:o,removeClassName:au,toggleClassName:ae});function W(i){if(i==="float"||i==="styleFloat"){return"cssFloat"}return i.camelize()}function bo(i){if(i==="float"||i==="cssFloat"){return"styleFloat"}return i.camelize()}function C(bp,bq){bp=aZ(bp);var bt=bp.style,F;if(Object.isString(bq)){bt.cssText+=";"+bq;if(bq.include("opacity")){var i=bq.match(/opacity:\s*(\d?\.?\d*)/)[1];aF.setOpacity(bp,i)}return bp}for(var bs in bq){if(bs==="opacity"){aF.setOpacity(bp,bq[bs])}else{var br=bq[bs];if(bs==="float"||bs==="cssFloat"){bs=Object.isUndefined(bt.styleFloat)?"cssFloat":"styleFloat"}bt[bs]=br}}return bp}function aO(F,bp){F=aZ(F);bp=W(bp);var bq=F.style[bp];if(!bq||bq==="auto"){var i=document.defaultView.getComputedStyle(F,null);bq=i?i[bp]:null}if(bp==="opacity"){return bq?parseFloat(bq):1}return bq==="auto"?null:bq}function s(i,F){switch(F){case"height":case"width":if(!aF.visible(i)){return null}var bp=parseInt(aO(i,F),10);if(bp!==i["offset"+F.capitalize()]){return bp+"px"}return aF.measure(i,F);default:return aO(i,F)}}function aj(i,F){i=aZ(i);F=bo(F);var bp=i.style[F];if(!bp&&i.currentStyle){bp=i.currentStyle[F]}if(F==="opacity"){if(!N){return be(i)}else{return bp?parseFloat(bp):1}}if(bp==="auto"){if((F==="width"||F==="height")&&aF.visible(i)){return aF.measure(i,F)+"px"}return null}return bp}function aA(i){return(i||"").replace(/alpha\([^\)]*\)/gi,"")}function ab(i){if(!i.currentStyle||!i.currentStyle.hasLayout){i.style.zoom=1}return i}var N=(function(){av.style.cssText="opacity:.55";return/^0.55/.test(av.style.opacity)})();function z(i,F){i=aZ(i);if(F==1||F===""){F=""}else{if(F<0.00001){F=0}}i.style.opacity=F;return i}function bf(i,bq){if(N){return z(i,bq)}i=ab(aZ(i));var bp=aF.getStyle(i,"filter"),F=i.style;if(bq==1||bq===""){bp=aA(bp);if(bp){F.filter=bp}else{F.removeAttribute("filter")}return i}if(bq<0.00001){bq=0}F.filter=aA(bp)+" alpha(opacity="+(bq*100)+")";return i}function bd(i){return aF.getStyle(i,"opacity")}function be(F){if(N){return bd(F)}var bp=aF.getStyle(F,"filter");if(bp.length===0){return 1}var i=(bp||"").match(/alpha\(opacity=(.*)\)/i);if(i&&i[1]){return parseFloat(i[1])/100}return 1}Object.extend(a3,{setStyle:C,getStyle:aO,setOpacity:z,getOpacity:bd});if("styleFloat" in av.style){a3.getStyle=aj;a3.setOpacity=bf;a3.getOpacity=be}var l=0;a8.Element.Storage={UID:1};function M(i){if(i===window){return 0}if(typeof i._prototypeUID==="undefined"){i._prototypeUID=aF.Storage.UID++}return i._prototypeUID}function c(i){if(i===window){return 0}if(i==document){return 1}return i.uniqueID}var aY=("uniqueID" in av);if(aY){M=c}function b(F){if(!(F=aZ(F))){return}var i=M(F);if(!aF.Storage[i]){aF.Storage[i]=$H()}return aF.Storage[i]}function a5(F,i,bp){if(!(F=aZ(F))){return}var bq=b(F);if(arguments.length===2){bq.update(i)}else{bq.set(i,bp)}return F}function aN(bp,F,i){if(!(bp=aZ(bp))){return}var br=b(bp),bq=br.get(F);if(Object.isUndefined(bq)){br.set(F,i);bq=i}return bq}Object.extend(a3,{getStorage:b,store:a5,retrieve:aN});var an={},aX=aF.Methods.ByTag,aC=Prototype.BrowserFeatures;if(!aC.ElementExtensions&&("__proto__" in av)){a8.HTMLElement={};a8.HTMLElement.prototype=av.__proto__;aC.ElementExtensions=true}function bc(i){if(typeof window.Element==="undefined"){return false}if(!d){return false}var bp=window.Element.prototype;if(bp){var br="_"+(Math.random()+"").slice(2),F=document.createElement(i);bp[br]="x";var bq=(F[br]!=="x");delete bp[br];F=null;return bq}return false}var ap=bc("object");function ak(F,i){for(var bq in i){var bp=i[bq];if(Object.isFunction(bp)&&!(bq in F)){F[bq]=bp.methodize()}}}var bk={};function ay(F){var i=M(F);return(i in bk)}function az(bp){if(!bp||ay(bp)){return bp}if(bp.nodeType!==Node.ELEMENT_NODE||bp==window){return bp}var i=Object.clone(an),F=bp.tagName.toUpperCase();if(aX[F]){Object.extend(i,aX[F])}ak(bp,i);bk[M(bp)]=true;return bp}function aS(F){if(!F||ay(F)){return F}var i=F.tagName;if(i&&(/^(?:object|applet|embed)$/i.test(i))){ak(F,aF.Methods);ak(F,aF.Methods.Simulated);ak(F,aF.Methods.ByTag[i.toUpperCase()])}return F}if(aC.SpecificElementExtensions){az=ap?aS:Prototype.K}function S(F,i){F=F.toUpperCase();if(!aX[F]){aX[F]={}}Object.extend(aX[F],i)}function q(F,bp,i){if(Object.isUndefined(i)){i=false}for(var br in bp){var bq=bp[br];if(!Object.isFunction(bq)){continue}if(!i||!(br in F)){F[br]=bq.methodize()}}}function ai(bq){var i;var bp={OPTGROUP:"OptGroup",TEXTAREA:"TextArea",P:"Paragraph",FIELDSET:"FieldSet",UL:"UList",OL:"OList",DL:"DList",DIR:"Directory",H1:"Heading",H2:"Heading",H3:"Heading",H4:"Heading",H5:"Heading",H6:"Heading",Q:"Quote",INS:"Mod",DEL:"Mod",A:"Anchor",IMG:"Image",CAPTION:"TableCaption",COL:"TableCol",COLGROUP:"TableCol",THEAD:"TableSection",TFOOT:"TableSection",TBODY:"TableSection",TR:"TableRow",TH:"TableCell",TD:"TableCell",FRAMESET:"FrameSet",IFRAME:"IFrame"};if(bp[bq]){i="HTML"+bp[bq]+"Element"}if(window[i]){return window[i]}i="HTML"+bq+"Element";if(window[i]){return window[i]}i="HTML"+bq.capitalize()+"Element";if(window[i]){return window[i]}var F=document.createElement(bq),br=F.__proto__||F.constructor.prototype;F=null;return br}function R(br){if(arguments.length===0){G()}if(arguments.length===2){var bt=br;br=arguments[1]}if(!bt){Object.extend(aF.Methods,br||{})}else{if(Object.isArray(bt)){for(var bs=0,bq;bq=bt[bs];bs++){S(bq,br)}}else{S(bt,br)}}var bp=window.HTMLElement?HTMLElement.prototype:aF.prototype;if(aC.ElementExtensions){q(bp,aF.Methods);q(bp,aF.Methods.Simulated,true)}if(aC.SpecificElementExtensions){for(var bq in aF.Methods.ByTag){var F=ai(bq);if(Object.isUndefined(F)){continue}q(F.prototype,aX[bq])}}Object.extend(aF,aF.Methods);Object.extend(aF,aF.Methods.Simulated);delete aF.ByTag;delete aF.Simulated;aF.extend.refresh();r={}}Object.extend(a8.Element,{extend:az,addMethods:R});if(az===Prototype.K){a8.Element.extend.refresh=Prototype.emptyFunction}else{a8.Element.extend.refresh=function(){if(Prototype.BrowserFeatures.ElementExtensions){return}Object.extend(an,aF.Methods);Object.extend(an,aF.Methods.Simulated);bk={}}}function G(){Object.extend(Form,Form.Methods);Object.extend(Form.Element,Form.Element.Methods);Object.extend(aF.Methods.ByTag,{FORM:Object.clone(Form.Methods),INPUT:Object.clone(Form.Element.Methods),SELECT:Object.clone(Form.Element.Methods),TEXTAREA:Object.clone(Form.Element.Methods),BUTTON:Object.clone(Form.Element.Methods)})}aF.addMethods(a3);function n(){av=null;r=null}if(window.attachEvent){window.attachEvent("onunload",n)}})(this);(function(){function k(G){var F=G.match(/^(\d+)%?$/i);if(!F){return null}return(Number(F[1])/100)}function y(G,H){G=$(G);var I=G.style[H];if(!I||I==="auto"){var F=document.defaultView.getComputedStyle(G,null);I=F?F[H]:null}if(H==="opacity"){return I?parseFloat(I):1}return I==="auto"?null:I}function B(F,G){var H=F.style[G];if(!H&&F.currentStyle){H=F.currentStyle[G]}return H}function r(H,G){var J=H.offsetWidth;var L=u(H,"borderLeftWidth",G)||0;var F=u(H,"borderRightWidth",G)||0;var I=u(H,"paddingLeft",G)||0;var K=u(H,"paddingRight",G)||0;return J-L-F-I-K}if(!Object.isUndefined(document.documentElement.currentStyle)&&!Prototype.Browser.Opera){y=B}function u(P,Q,G){var J=null;if(Object.isElement(P)){J=P;P=y(J,Q)}if(P===null||Object.isUndefined(P)){return null}if((/^(?:-)?\d+(\.\d+)?(px)?$/i).test(P)){return window.parseFloat(P)}var K=P.include("%"),H=(G===document.viewport);if(/\d/.test(P)&&J&&J.runtimeStyle&&!(K&&H)){var F=J.style.left,O=J.runtimeStyle.left;J.runtimeStyle.left=J.currentStyle.left;J.style.left=P||0;P=J.style.pixelLeft;J.style.left=F;J.runtimeStyle.left=O;return P}if(J&&K){G=G||J.parentNode;var I=k(P),L=null;var N=Q.include("left")||Q.include("right")||Q.include("width");var M=Q.include("top")||Q.include("bottom")||Q.include("height");if(G===document.viewport){if(N){L=document.viewport.getWidth()}else{if(M){L=document.viewport.getHeight()}}}else{if(N){L=$(G).measure("width")}else{if(M){L=$(G).measure("height")}}}return(L===null)?0:L*I}return 0}function j(F){if(Object.isString(F)&&F.endsWith("px")){return F}return F+"px"}function m(F){while(F&&F.parentNode){var G=F.getStyle("display");if(G==="none"){return false}F=$(F.parentNode)}return true}var g=Prototype.K;if("currentStyle" in document.documentElement){g=function(F){if(!F.currentStyle.hasLayout){F.style.zoom=1}return F}}function i(F){if(F.include("border")){F=F+"-width"}return F.camelize()}Element.Layout=Class.create(Hash,{initialize:function($super,G,F){$super();this.element=$(G);Element.Layout.PROPERTIES.each(function(H){this._set(H,null)},this);if(F){this._preComputing=true;this._begin();Element.Layout.PROPERTIES.each(this._compute,this);this._end();this._preComputing=false}},_set:function(G,F){return Hash.prototype.set.call(this,G,F)},set:function(G,F){throw"Properties of Element.Layout are read-only."},get:function($super,G){var F=$super(G);return F===null?this._compute(G):F},_begin:function(){if(this._isPrepared()){return}var J=this.element;if(m(J)){this._setPrepared(true);return}var L={position:J.style.position||"",width:J.style.width||"",visibility:J.style.visibility||"",display:J.style.display||""};J.store("prototype_original_styles",L);var M=y(J,"position"),F=J.offsetWidth;if(F===0||F===null){J.style.display="block";F=J.offsetWidth}var G=(M==="fixed")?document.viewport:J.parentNode;var N={visibility:"hidden",display:"block"};if(M!=="fixed"){N.position="absolute"}J.setStyle(N);var H=J.offsetWidth,I;if(F&&(H===F)){I=r(J,G)}else{if(M==="absolute"||M==="fixed"){I=r(J,G)}else{var O=J.parentNode,K=$(O).getLayout();I=K.get("width")-this.get("margin-left")-this.get("border-left")-this.get("padding-left")-this.get("padding-right")-this.get("border-right")-this.get("margin-right")}}J.setStyle({width:I+"px"});this._setPrepared(true)},_end:function(){var G=this.element;var F=G.retrieve("prototype_original_styles");G.store("prototype_original_styles",null);G.setStyle(F);this._setPrepared(false)},_compute:function(G){var F=Element.Layout.COMPUTATIONS;if(!(G in F)){throw"Property not found."}return this._set(G,F[G].call(this,this.element))},_isPrepared:function(){return this.element.retrieve("prototype_element_layout_prepared",false)},_setPrepared:function(F){return this.element.store("prototype_element_layout_prepared",F)},toObject:function(){var F=$A(arguments);var G=(F.length===0)?Element.Layout.PROPERTIES:F.join(" ").split(" ");var H={};G.each(function(I){if(!Element.Layout.PROPERTIES.include(I)){return}var J=this.get(I);if(J!=null){H[I]=J}},this);return H},toHash:function(){var F=this.toObject.apply(this,arguments);return new Hash(F)},toCSS:function(){var F=$A(arguments);var H=(F.length===0)?Element.Layout.PROPERTIES:F.join(" ").split(" ");var G={};H.each(function(I){if(!Element.Layout.PROPERTIES.include(I)){return}if(Element.Layout.COMPOSITE_PROPERTIES.include(I)){return}var J=this.get(I);if(J!=null){G[i(I)]=J+"px"}},this);return G},inspect:function(){return"#<Element.Layout>"}});Object.extend(Element.Layout,{PROPERTIES:$w("height width top left right bottom border-left border-right border-top border-bottom padding-left padding-right padding-top padding-bottom margin-top margin-bottom margin-left margin-right padding-box-width padding-box-height border-box-width border-box-height margin-box-width margin-box-height"),COMPOSITE_PROPERTIES:$w("padding-box-width padding-box-height margin-box-width margin-box-height border-box-width border-box-height"),COMPUTATIONS:{height:function(H){if(!this._preComputing){this._begin()}var F=this.get("border-box-height");if(F<=0){if(!this._preComputing){this._end()}return 0}var I=this.get("border-top"),G=this.get("border-bottom");var K=this.get("padding-top"),J=this.get("padding-bottom");if(!this._preComputing){this._end()}return F-I-G-K-J},width:function(H){if(!this._preComputing){this._begin()}var G=this.get("border-box-width");if(G<=0){if(!this._preComputing){this._end()}return 0}var K=this.get("border-left"),F=this.get("border-right");var I=this.get("padding-left"),J=this.get("padding-right");if(!this._preComputing){this._end()}return G-K-F-I-J},"padding-box-height":function(G){var F=this.get("height"),I=this.get("padding-top"),H=this.get("padding-bottom");return F+I+H},"padding-box-width":function(F){var G=this.get("width"),H=this.get("padding-left"),I=this.get("padding-right");return G+H+I},"border-box-height":function(G){if(!this._preComputing){this._begin()}var F=G.offsetHeight;if(!this._preComputing){this._end()}return F},"border-box-width":function(F){if(!this._preComputing){this._begin()}var G=F.offsetWidth;if(!this._preComputing){this._end()}return G},"margin-box-height":function(G){var F=this.get("border-box-height"),H=this.get("margin-top"),I=this.get("margin-bottom");if(F<=0){return 0}return F+H+I},"margin-box-width":function(H){var G=this.get("border-box-width"),I=this.get("margin-left"),F=this.get("margin-right");if(G<=0){return 0}return G+I+F},top:function(F){var G=F.positionedOffset();return G.top},bottom:function(F){var I=F.positionedOffset(),G=F.getOffsetParent(),H=G.measure("height");var J=this.get("border-box-height");return H-J-I.top},left:function(F){var G=F.positionedOffset();return G.left},right:function(H){var J=H.positionedOffset(),I=H.getOffsetParent(),F=I.measure("width");var G=this.get("border-box-width");return F-G-J.left},"padding-top":function(F){return u(F,"paddingTop")},"padding-bottom":function(F){return u(F,"paddingBottom")},"padding-left":function(F){return u(F,"paddingLeft")},"padding-right":function(F){return u(F,"paddingRight")},"border-top":function(F){return u(F,"borderTopWidth")},"border-bottom":function(F){return u(F,"borderBottomWidth")},"border-left":function(F){return u(F,"borderLeftWidth")},"border-right":function(F){return u(F,"borderRightWidth")},"margin-top":function(F){return u(F,"marginTop")},"margin-bottom":function(F){return u(F,"marginBottom")},"margin-left":function(F){return u(F,"marginLeft")},"margin-right":function(F){return u(F,"marginRight")}}});if("getBoundingClientRect" in document.documentElement){Object.extend(Element.Layout.COMPUTATIONS,{right:function(G){var H=g(G.getOffsetParent());var I=G.getBoundingClientRect(),F=H.getBoundingClientRect();return(F.right-I.right).round()},bottom:function(G){var H=g(G.getOffsetParent());var I=G.getBoundingClientRect(),F=H.getBoundingClientRect();return(F.bottom-I.bottom).round()}})}Element.Offset=Class.create({initialize:function(G,F){this.left=G.round();this.top=F.round();this[0]=this.left;this[1]=this.top},relativeTo:function(F){return new Element.Offset(this.left-F.left,this.top-F.top)},inspect:function(){return"#<Element.Offset left: #{left} top: #{top}>".interpolate(this)},toString:function(){return"[#{left}, #{top}]".interpolate(this)},toArray:function(){return[this.left,this.top]}});function z(G,F){return new Element.Layout(G,F)}function d(F,G){return $(F).getLayout().get(G)}function q(F){return Element.getDimensions(F).height}function c(F){return Element.getDimensions(F).width}function s(G){G=$(G);var K=Element.getStyle(G,"display");if(K&&K!=="none"){return{width:G.offsetWidth,height:G.offsetHeight}}var H=G.style;var F={visibility:H.visibility,position:H.position,display:H.display};var J={visibility:"hidden",display:"block"};if(F.position!=="fixed"){J.position="absolute"}Element.setStyle(G,J);var I={width:G.offsetWidth,height:G.offsetHeight};Element.setStyle(G,F);return I}function p(F){F=$(F);function H(I){return n(I)?$(document.body):$(I)}if(h(F)||f(F)||o(F)||n(F)){return $(document.body)}var G=(Element.getStyle(F,"display")==="inline");if(!G&&F.offsetParent){return H(F.offsetParent)}while((F=F.parentNode)&&F!==document.body){if(Element.getStyle(F,"position")!=="static"){return H(F)}}return $(document.body)}function C(G){G=$(G);var F=0,H=0;if(G.parentNode){do{F+=G.offsetTop||0;H+=G.offsetLeft||0;G=G.offsetParent}while(G)}return new Element.Offset(H,F)}function w(G){G=$(G);var H=G.getLayout();var F=0,J=0;do{F+=G.offsetTop||0;J+=G.offsetLeft||0;G=G.offsetParent;if(G){if(o(G)){break}var I=Element.getStyle(G,"position");if(I!=="static"){break}}}while(G);J-=H.get("margin-left");F-=H.get("margin-top");return new Element.Offset(J,F)}function b(G){var F=0,H=0;do{if(G===document.body){var I=document.documentElement||document.body.parentNode||document.body;F+=!Object.isUndefined(window.pageYOffset)?window.pageYOffset:I.scrollTop||0;H+=!Object.isUndefined(window.pageXOffset)?window.pageXOffset:I.scrollLeft||0;break}else{F+=G.scrollTop||0;H+=G.scrollLeft||0;G=G.parentNode}}while(G);return new Element.Offset(H,F)}function A(J){var F=0,I=0,H=document.body;J=$(J);var G=J;do{F+=G.offsetTop||0;I+=G.offsetLeft||0;if(G.offsetParent==H&&Element.getStyle(G,"position")=="absolute"){break}}while(G=G.offsetParent);G=J;do{if(G!=H){F-=G.scrollTop||0;I-=G.scrollLeft||0}}while(G=G.parentNode);return new Element.Offset(I,F)}function x(F){F=$(F);if(Element.getStyle(F,"position")==="absolute"){return F}var J=p(F);var I=F.viewportOffset(),G=J.viewportOffset();var K=I.relativeTo(G);var H=F.getLayout();F.store("prototype_absolutize_original_styles",{position:F.getStyle("position"),left:F.getStyle("left"),top:F.getStyle("top"),width:F.getStyle("width"),height:F.getStyle("height")});F.setStyle({position:"absolute",top:K.top+"px",left:K.left+"px",width:H.get("width")+"px",height:H.get("height")+"px"});return F}function l(G){G=$(G);if(Element.getStyle(G,"position")==="relative"){return G}var F=G.retrieve("prototype_absolutize_original_styles");if(F){G.setStyle(F)}return G}function a(F){F=$(F);var G=Element.cumulativeOffset(F);window.scrollTo(G.left,G.top);return F}function v(G){G=$(G);var F=Element.getStyle(G,"position"),H={};if(F==="static"||!F){H.position="relative";if(Prototype.Browser.Opera){H.top=0;H.left=0}Element.setStyle(G,H);Element.store(G,"prototype_made_positioned",true)}return G}function t(F){F=$(F);var H=Element.getStorage(F),G=H.get("prototype_made_positioned");if(G){H.unset("prototype_made_positioned");Element.setStyle(F,{position:"",top:"",bottom:"",left:"",right:""})}return F}function e(G){G=$(G);var I=Element.getStorage(G),F=I.get("prototype_made_clipping");if(Object.isUndefined(F)){var H=Element.getStyle(G,"overflow");I.set("prototype_made_clipping",H);if(H!=="hidden"){G.style.overflow="hidden"}}return G}function D(F){F=$(F);var H=Element.getStorage(F),G=H.get("prototype_made_clipping");if(!Object.isUndefined(G)){H.unset("prototype_made_clipping");F.style.overflow=G||""}return F}function E(I,F,Q){Q=Object.extend({setLeft:true,setTop:true,setWidth:true,setHeight:true,offsetTop:0,offsetLeft:0},Q||{});var H=document.documentElement;F=$(F);I=$(I);var G,O,K,P={};if(Q.setLeft||Q.setTop){G=Element.viewportOffset(F);O=[0,0];if(Element.getStyle(I,"position")==="absolute"){var N=Element.getOffsetParent(I);if(N!==document.body){O=Element.viewportOffset(N)}}}function L(){var R=0,S=0;if(Object.isNumber(window.pageXOffset)){R=window.pageXOffset;S=window.pageYOffset}else{if(document.body&&(document.body.scrollLeft||document.body.scrollTop)){R=document.body.scrollLeft;S=document.body.scrollTop}else{if(H&&(H.scrollLeft||H.scrollTop)){R=H.scrollLeft;S=H.scrollTop}}}return{x:R,y:S}}var J=L();if(Q.setWidth||Q.setHeight){K=Element.getLayout(F)}if(Q.setLeft){P.left=(G[0]+J.x-O[0]+Q.offsetLeft)+"px"}if(Q.setTop){P.top=(G[1]+J.y-O[1]+Q.offsetTop)+"px"}var M=I.getLayout();if(Q.setWidth){P.width=K.get("width")+"px"}if(Q.setHeight){P.height=K.get("height")+"px"}return Element.setStyle(I,P)}if(Prototype.Browser.IE){p=p.wrap(function(H,G){G=$(G);if(h(G)||f(G)||o(G)||n(G)){return $(document.body)}var F=G.getStyle("position");if(F!=="static"){return H(G)}G.setStyle({position:"relative"});var I=H(G);G.setStyle({position:F});return I});w=w.wrap(function(I,G){G=$(G);if(!G.parentNode){return new Element.Offset(0,0)}var F=G.getStyle("position");if(F!=="static"){return I(G)}var H=G.getOffsetParent();if(H&&H.getStyle("position")==="fixed"){g(H)}G.setStyle({position:"relative"});var J=I(G);G.setStyle({position:F});return J})}else{if(Prototype.Browser.Webkit){C=function(G){G=$(G);var F=0,H=0;do{F+=G.offsetTop||0;H+=G.offsetLeft||0;if(G.offsetParent==document.body){if(Element.getStyle(G,"position")=="absolute"){break}}G=G.offsetParent}while(G);return new Element.Offset(H,F)}}}Element.addMethods({getLayout:z,measure:d,getWidth:c,getHeight:q,getDimensions:s,getOffsetParent:p,cumulativeOffset:C,positionedOffset:w,cumulativeScrollOffset:b,viewportOffset:A,absolutize:x,relativize:l,scrollTo:a,makePositioned:v,undoPositioned:t,makeClipping:e,undoClipping:D,clonePosition:E});function o(F){return F.nodeName.toUpperCase()==="BODY"}function n(F){return F.nodeName.toUpperCase()==="HTML"}function h(F){return F.nodeType===Node.DOCUMENT_NODE}function f(F){return F!==document.body&&!Element.descendantOf(F,document.body)}if("getBoundingClientRect" in document.documentElement){Element.addMethods({viewportOffset:function(F){F=$(F);if(f(F)){return new Element.Offset(0,0)}var G=F.getBoundingClientRect(),H=document.documentElement;return new Element.Offset(G.left-H.clientLeft,G.top-H.clientTop)}})}})();(function(){var c=Prototype.Browser.Opera&&(window.parseFloat(window.opera.version())<9.5);var f=null;function b(){if(f){return f}f=c?document.body:document.documentElement;return f}function d(){return{width:this.getWidth(),height:this.getHeight()}}function a(){return b().clientWidth}function g(){return b().clientHeight}function e(){var h=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft;var i=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;return new Element.Offset(h,i)}document.viewport={getDimensions:d,getWidth:a,getHeight:g,getScrollOffsets:e}})();window.$$=function(){var a=$A(arguments).join(", ");return Prototype.Selector.select(a,document)};Prototype.Selector=(function(){function a(){throw new Error('Method "Prototype.Selector.select" must be defined.')}function c(){throw new Error('Method "Prototype.Selector.match" must be defined.')}function d(l,m,h){h=h||0;var g=Prototype.Selector.match,k=l.length,f=0,j;for(j=0;j<k;j++){if(g(l[j],m)&&h==f++){return Element.extend(l[j])}}}function e(h){for(var f=0,g=h.length;f<g;f++){Element.extend(h[f])}return h}var b=Prototype.K;return{select:a,match:c,find:d,extendElements:(Element.extend===b)?b:e,extendElement:Element.extend}})();Prototype._original_property=window.Sizzle;(function(){function a(b){Prototype._actual_sizzle=b()}a.amd=true;if(typeof define!=="undefined"&&define.amd){Prototype._original_define=define;Prototype._actual_sizzle=null;window.define=a}})();
/*!
 * Sizzle CSS Selector Engine v1.10.18
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-02-05
 */
(function(av){var D,ay,t,M,P,ab,ax,aC,N,ac,ae,H,u,an,ai,aw,k,K,ap="sizzle"+-(new Date()),O=av.document,az=0,aj=0,d=F(),ao=F(),L=F(),J=function(i,e){if(i===e){ac=true}return 0},au=typeof undefined,V=1<<31,T=({}).hasOwnProperty,ar=[],at=ar.pop,R=ar.push,b=ar.push,s=ar.slice,j=ar.indexOf||function(aE){var aD=0,e=this.length;for(;aD<e;aD++){if(this[aD]===aE){return aD}}return -1},c="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",v="[\\x20\\t\\r\\n\\f]",a="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Q=a.replace("w","w#"),al="\\["+v+"*("+a+")"+v+"*(?:([*^$|!~]?=)"+v+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+Q+")|)|)"+v+"*\\]",q=":("+a+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+al.replace(3,8)+")*)|.*)\\)|)",x=new RegExp("^"+v+"+|((?:^|[^\\\\])(?:\\\\.)*)"+v+"+$","g"),A=new RegExp("^"+v+"*,"+v+"*"),G=new RegExp("^"+v+"*([>+~]|"+v+")"+v+"*"),z=new RegExp("="+v+"*([^\\]'\"]*?)"+v+"*\\]","g"),X=new RegExp(q),Z=new RegExp("^"+Q+"$"),ah={ID:new RegExp("^#("+a+")"),CLASS:new RegExp("^\\.("+a+")"),TAG:new RegExp("^("+a.replace("w","w*")+")"),ATTR:new RegExp("^"+al),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+v+"*(even|odd|(([+-]|)(\\d*)n|)"+v+"*(?:([+-]|)"+v+"*(\\d+)|))"+v+"*\\)|)","i"),bool:new RegExp("^(?:"+c+")$","i"),needsContext:new RegExp("^"+v+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+v+"*((?:-\\d)?\\d*)"+v+"*\\)|)(?=[^-]|$)","i")},h=/^(?:input|select|textarea|button)$/i,r=/^h\d$/i,U=/^[^{]+\{\s*\[native \w/,W=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ag=/[+~]/,S=/'|\\/g,y=new RegExp("\\\\([\\da-f]{1,6}"+v+"?|("+v+")|.)","ig"),ak=function(e,aE,i){var aD="0x"+aE-65536;return aD!==aD||i?aE:aD<0?String.fromCharCode(aD+65536):String.fromCharCode(aD>>10|55296,aD&1023|56320)};try{b.apply((ar=s.call(O.childNodes)),O.childNodes);ar[O.childNodes.length].nodeType}catch(I){b={apply:ar.length?function(i,e){R.apply(i,s.call(e))}:function(aF,aE){var e=aF.length,aD=0;while((aF[e++]=aE[aD++])){}aF.length=e-1}}}function B(aK,aD,aO,aQ){var aP,aH,aI,aM,aN,aG,aF,e,aE,aL;if((aD?aD.ownerDocument||aD:O)!==H){ae(aD)}aD=aD||H;aO=aO||[];if(!aK||typeof aK!=="string"){return aO}if((aM=aD.nodeType)!==1&&aM!==9){return[]}if(an&&!aQ){if((aP=W.exec(aK))){if((aI=aP[1])){if(aM===9){aH=aD.getElementById(aI);if(aH&&aH.parentNode){if(aH.id===aI){aO.push(aH);return aO}}else{return aO}}else{if(aD.ownerDocument&&(aH=aD.ownerDocument.getElementById(aI))&&K(aD,aH)&&aH.id===aI){aO.push(aH);return aO}}}else{if(aP[2]){b.apply(aO,aD.getElementsByTagName(aK));return aO}else{if((aI=aP[3])&&ay.getElementsByClassName&&aD.getElementsByClassName){b.apply(aO,aD.getElementsByClassName(aI));return aO}}}}if(ay.qsa&&(!ai||!ai.test(aK))){e=aF=ap;aE=aD;aL=aM===9&&aK;if(aM===1&&aD.nodeName.toLowerCase()!=="object"){aG=n(aK);if((aF=aD.getAttribute("id"))){e=aF.replace(S,"\\$&")}else{aD.setAttribute("id",e)}e="[id='"+e+"'] ";aN=aG.length;while(aN--){aG[aN]=e+o(aG[aN])}aE=ag.test(aK)&&Y(aD.parentNode)||aD;aL=aG.join(",")}if(aL){try{b.apply(aO,aE.querySelectorAll(aL));return aO}catch(aJ){}finally{if(!aF){aD.removeAttribute("id")}}}}}return ax(aK.replace(x,"$1"),aD,aO,aQ)}function F(){var i=[];function e(aD,aE){if(i.push(aD+" ")>t.cacheLength){delete e[i.shift()]}return(e[aD+" "]=aE)}return e}function p(e){e[ap]=true;return e}function l(i){var aE=H.createElement("div");try{return !!i(aE)}catch(aD){return false}finally{if(aE.parentNode){aE.parentNode.removeChild(aE)}aE=null}}function aA(aD,aF){var e=aD.split("|"),aE=aD.length;while(aE--){t.attrHandle[e[aE]]=aF}}function f(i,e){var aE=e&&i,aD=aE&&i.nodeType===1&&e.nodeType===1&&(~e.sourceIndex||V)-(~i.sourceIndex||V);if(aD){return aD}if(aE){while((aE=aE.nextSibling)){if(aE===e){return -1}}}return i?1:-1}function C(e){return function(aD){var i=aD.nodeName.toLowerCase();return i==="input"&&aD.type===e}}function g(e){return function(aD){var i=aD.nodeName.toLowerCase();return(i==="input"||i==="button")&&aD.type===e}}function am(e){return p(function(i){i=+i;return p(function(aD,aH){var aF,aE=e([],aD.length,i),aG=aE.length;while(aG--){if(aD[(aF=aE[aG])]){aD[aF]=!(aH[aF]=aD[aF])}}})})}function Y(e){return e&&typeof e.getElementsByTagName!==au&&e}ay=B.support={};P=B.isXML=function(e){var i=e&&(e.ownerDocument||e).documentElement;return i?i.nodeName!=="HTML":false};ae=B.setDocument=function(aD){var e,aE=aD?aD.ownerDocument||aD:O,i=aE.defaultView;if(aE===H||aE.nodeType!==9||!aE.documentElement){return H}H=aE;u=aE.documentElement;an=!P(aE);if(i&&i!==i.top){if(i.addEventListener){i.addEventListener("unload",function(){ae()},false)}else{if(i.attachEvent){i.attachEvent("onunload",function(){ae()})}}}ay.attributes=l(function(aF){aF.className="i";return !aF.getAttribute("className")});ay.getElementsByTagName=l(function(aF){aF.appendChild(aE.createComment(""));return !aF.getElementsByTagName("*").length});ay.getElementsByClassName=U.test(aE.getElementsByClassName)&&l(function(aF){aF.innerHTML="<div class='a'></div><div class='a i'></div>";aF.firstChild.className="i";return aF.getElementsByClassName("i").length===2});ay.getById=l(function(aF){u.appendChild(aF).id=ap;return !aE.getElementsByName||!aE.getElementsByName(ap).length});if(ay.getById){t.find.ID=function(aH,aG){if(typeof aG.getElementById!==au&&an){var aF=aG.getElementById(aH);return aF&&aF.parentNode?[aF]:[]}};t.filter.ID=function(aG){var aF=aG.replace(y,ak);return function(aH){return aH.getAttribute("id")===aF}}}else{delete t.find.ID;t.filter.ID=function(aG){var aF=aG.replace(y,ak);return function(aI){var aH=typeof aI.getAttributeNode!==au&&aI.getAttributeNode("id");return aH&&aH.value===aF}}}t.find.TAG=ay.getElementsByTagName?function(aF,aG){if(typeof aG.getElementsByTagName!==au){return aG.getElementsByTagName(aF)}}:function(aF,aJ){var aK,aI=[],aH=0,aG=aJ.getElementsByTagName(aF);if(aF==="*"){while((aK=aG[aH++])){if(aK.nodeType===1){aI.push(aK)}}return aI}return aG};t.find.CLASS=ay.getElementsByClassName&&function(aG,aF){if(typeof aF.getElementsByClassName!==au&&an){return aF.getElementsByClassName(aG)}};aw=[];ai=[];if((ay.qsa=U.test(aE.querySelectorAll))){l(function(aF){aF.innerHTML="<select t=''><option selected=''></option></select>";if(aF.querySelectorAll("[t^='']").length){ai.push("[*^$]="+v+"*(?:''|\"\")")}if(!aF.querySelectorAll("[selected]").length){ai.push("\\["+v+"*(?:value|"+c+")")}if(!aF.querySelectorAll(":checked").length){ai.push(":checked")}});l(function(aG){var aF=aE.createElement("input");aF.setAttribute("type","hidden");aG.appendChild(aF).setAttribute("name","D");if(aG.querySelectorAll("[name=d]").length){ai.push("name"+v+"*[*^$|!~]?=")}if(!aG.querySelectorAll(":enabled").length){ai.push(":enabled",":disabled")}aG.querySelectorAll("*,:x");ai.push(",.*:")})}if((ay.matchesSelector=U.test((k=u.webkitMatchesSelector||u.mozMatchesSelector||u.oMatchesSelector||u.msMatchesSelector)))){l(function(aF){ay.disconnectedMatch=k.call(aF,"div");k.call(aF,"[s!='']:x");aw.push("!=",q)})}ai=ai.length&&new RegExp(ai.join("|"));aw=aw.length&&new RegExp(aw.join("|"));e=U.test(u.compareDocumentPosition);K=e||U.test(u.contains)?function(aG,aF){var aI=aG.nodeType===9?aG.documentElement:aG,aH=aF&&aF.parentNode;return aG===aH||!!(aH&&aH.nodeType===1&&(aI.contains?aI.contains(aH):aG.compareDocumentPosition&&aG.compareDocumentPosition(aH)&16))}:function(aG,aF){if(aF){while((aF=aF.parentNode)){if(aF===aG){return true}}}return false};J=e?function(aG,aF){if(aG===aF){ac=true;return 0}var aH=!aG.compareDocumentPosition-!aF.compareDocumentPosition;if(aH){return aH}aH=(aG.ownerDocument||aG)===(aF.ownerDocument||aF)?aG.compareDocumentPosition(aF):1;if(aH&1||(!ay.sortDetached&&aF.compareDocumentPosition(aG)===aH)){if(aG===aE||aG.ownerDocument===O&&K(O,aG)){return -1}if(aF===aE||aF.ownerDocument===O&&K(O,aF)){return 1}return N?(j.call(N,aG)-j.call(N,aF)):0}return aH&4?-1:1}:function(aG,aF){if(aG===aF){ac=true;return 0}var aM,aJ=0,aL=aG.parentNode,aI=aF.parentNode,aH=[aG],aK=[aF];if(!aL||!aI){return aG===aE?-1:aF===aE?1:aL?-1:aI?1:N?(j.call(N,aG)-j.call(N,aF)):0}else{if(aL===aI){return f(aG,aF)}}aM=aG;while((aM=aM.parentNode)){aH.unshift(aM)}aM=aF;while((aM=aM.parentNode)){aK.unshift(aM)}while(aH[aJ]===aK[aJ]){aJ++}return aJ?f(aH[aJ],aK[aJ]):aH[aJ]===O?-1:aK[aJ]===O?1:0};return aE};B.matches=function(i,e){return B(i,null,null,e)};B.matchesSelector=function(aD,aF){if((aD.ownerDocument||aD)!==H){ae(aD)}aF=aF.replace(z,"='$1']");if(ay.matchesSelector&&an&&(!aw||!aw.test(aF))&&(!ai||!ai.test(aF))){try{var i=k.call(aD,aF);if(i||ay.disconnectedMatch||aD.document&&aD.document.nodeType!==11){return i}}catch(aE){}}return B(aF,H,null,[aD]).length>0};B.contains=function(e,i){if((e.ownerDocument||e)!==H){ae(e)}return K(e,i)};B.attr=function(aD,e){if((aD.ownerDocument||aD)!==H){ae(aD)}var i=t.attrHandle[e.toLowerCase()],aE=i&&T.call(t.attrHandle,e.toLowerCase())?i(aD,e,!an):undefined;return aE!==undefined?aE:ay.attributes||!an?aD.getAttribute(e):(aE=aD.getAttributeNode(e))&&aE.specified?aE.value:null};B.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};B.uniqueSort=function(aE){var aF,aG=[],e=0,aD=0;ac=!ay.detectDuplicates;N=!ay.sortStable&&aE.slice(0);aE.sort(J);if(ac){while((aF=aE[aD++])){if(aF===aE[aD]){e=aG.push(aD)}}while(e--){aE.splice(aG[e],1)}}N=null;return aE};M=B.getText=function(aG){var aF,aD="",aE=0,e=aG.nodeType;if(!e){while((aF=aG[aE++])){aD+=M(aF)}}else{if(e===1||e===9||e===11){if(typeof aG.textContent==="string"){return aG.textContent}else{for(aG=aG.firstChild;aG;aG=aG.nextSibling){aD+=M(aG)}}}else{if(e===3||e===4){return aG.nodeValue}}}return aD};t=B.selectors={cacheLength:50,createPseudo:p,match:ah,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(y,ak);e[3]=(e[4]||e[5]||"").replace(y,ak);if(e[2]==="~="){e[3]=" "+e[3]+" "}return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if(e[1].slice(0,3)==="nth"){if(!e[3]){B.error(e[0])}e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd"));e[5]=+((e[7]+e[8])||e[3]==="odd")}else{if(e[3]){B.error(e[0])}}return e},PSEUDO:function(i){var e,aD=!i[5]&&i[2];if(ah.CHILD.test(i[0])){return null}if(i[3]&&i[4]!==undefined){i[2]=i[4]}else{if(aD&&X.test(aD)&&(e=n(aD,true))&&(e=aD.indexOf(")",aD.length-e)-aD.length)){i[0]=i[0].slice(0,e);i[2]=aD.slice(0,e)}}return i.slice(0,3)}},filter:{TAG:function(i){var e=i.replace(y,ak).toLowerCase();return i==="*"?function(){return true}:function(aD){return aD.nodeName&&aD.nodeName.toLowerCase()===e}},CLASS:function(e){var i=d[e+" "];return i||(i=new RegExp("(^|"+v+")"+e+"("+v+"|$)"))&&d(e,function(aD){return i.test(typeof aD.className==="string"&&aD.className||typeof aD.getAttribute!==au&&aD.getAttribute("class")||"")})},ATTR:function(aD,i,e){return function(aF){var aE=B.attr(aF,aD);if(aE==null){return i==="!="}if(!i){return true}aE+="";return i==="="?aE===e:i==="!="?aE!==e:i==="^="?e&&aE.indexOf(e)===0:i==="*="?e&&aE.indexOf(e)>-1:i==="$="?e&&aE.slice(-e.length)===e:i==="~="?(" "+aE+" ").indexOf(e)>-1:i==="|="?aE===e||aE.slice(0,e.length+1)===e+"-":false}},CHILD:function(i,aF,aE,aG,aD){var aI=i.slice(0,3)!=="nth",e=i.slice(-4)!=="last",aH=aF==="of-type";return aG===1&&aD===0?function(aJ){return !!aJ.parentNode}:function(aP,aN,aS){var aJ,aV,aQ,aU,aR,aM,aO=aI!==e?"nextSibling":"previousSibling",aT=aP.parentNode,aL=aH&&aP.nodeName.toLowerCase(),aK=!aS&&!aH;if(aT){if(aI){while(aO){aQ=aP;while((aQ=aQ[aO])){if(aH?aQ.nodeName.toLowerCase()===aL:aQ.nodeType===1){return false}}aM=aO=i==="only"&&!aM&&"nextSibling"}return true}aM=[e?aT.firstChild:aT.lastChild];if(e&&aK){aV=aT[ap]||(aT[ap]={});aJ=aV[i]||[];aR=aJ[0]===az&&aJ[1];aU=aJ[0]===az&&aJ[2];aQ=aR&&aT.childNodes[aR];while((aQ=++aR&&aQ&&aQ[aO]||(aU=aR=0)||aM.pop())){if(aQ.nodeType===1&&++aU&&aQ===aP){aV[i]=[az,aR,aU];break}}}else{if(aK&&(aJ=(aP[ap]||(aP[ap]={}))[i])&&aJ[0]===az){aU=aJ[1]}else{while((aQ=++aR&&aQ&&aQ[aO]||(aU=aR=0)||aM.pop())){if((aH?aQ.nodeName.toLowerCase()===aL:aQ.nodeType===1)&&++aU){if(aK){(aQ[ap]||(aQ[ap]={}))[i]=[az,aU]}if(aQ===aP){break}}}}}aU-=aD;return aU===aG||(aU%aG===0&&aU/aG>=0)}}},PSEUDO:function(aE,aD){var e,i=t.pseudos[aE]||t.setFilters[aE.toLowerCase()]||B.error("unsupported pseudo: "+aE);if(i[ap]){return i(aD)}if(i.length>1){e=[aE,aE,"",aD];return t.setFilters.hasOwnProperty(aE.toLowerCase())?p(function(aH,aJ){var aG,aF=i(aH,aD),aI=aF.length;while(aI--){aG=j.call(aH,aF[aI]);aH[aG]=!(aJ[aG]=aF[aI])}}):function(aF){return i(aF,0,e)}}return i}},pseudos:{not:p(function(e){var i=[],aD=[],aE=ab(e.replace(x,"$1"));return aE[ap]?p(function(aG,aL,aJ,aH){var aK,aF=aE(aG,null,aH,[]),aI=aG.length;while(aI--){if((aK=aF[aI])){aG[aI]=!(aL[aI]=aK)}}}):function(aH,aG,aF){i[0]=aH;aE(i,null,aF,aD);return !aD.pop()}}),has:p(function(e){return function(i){return B(e,i).length>0}}),contains:p(function(e){return function(i){return(i.textContent||i.innerText||M(i)).indexOf(e)>-1}}),lang:p(function(e){if(!Z.test(e||"")){B.error("unsupported lang: "+e)}e=e.replace(y,ak).toLowerCase();return function(aD){var i;do{if((i=an?aD.lang:aD.getAttribute("xml:lang")||aD.getAttribute("lang"))){i=i.toLowerCase();return i===e||i.indexOf(e+"-")===0}}while((aD=aD.parentNode)&&aD.nodeType===1);return false}}),target:function(e){var i=av.location&&av.location.hash;return i&&i.slice(1)===e.id},root:function(e){return e===u},focus:function(e){return e===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===false},disabled:function(e){return e.disabled===true},checked:function(e){var i=e.nodeName.toLowerCase();return(i==="input"&&!!e.checked)||(i==="option"&&!!e.selected)},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling){if(e.nodeType<6){return false}}return true},parent:function(e){return !t.pseudos.empty(e)},header:function(e){return r.test(e.nodeName)},input:function(e){return h.test(e.nodeName)},button:function(i){var e=i.nodeName.toLowerCase();return e==="input"&&i.type==="button"||e==="button"},text:function(i){var e;return i.nodeName.toLowerCase()==="input"&&i.type==="text"&&((e=i.getAttribute("type"))==null||e.toLowerCase()==="text")},first:am(function(){return[0]}),last:am(function(e,i){return[i-1]}),eq:am(function(e,aD,i){return[i<0?i+aD:i]}),even:am(function(e,aE){var aD=0;for(;aD<aE;aD+=2){e.push(aD)}return e}),odd:am(function(e,aE){var aD=1;for(;aD<aE;aD+=2){e.push(aD)}return e}),lt:am(function(e,aF,aE){var aD=aE<0?aE+aF:aE;for(;--aD>=0;){e.push(aD)}return e}),gt:am(function(e,aF,aE){var aD=aE<0?aE+aF:aE;for(;++aD<aF;){e.push(aD)}return e})}};t.pseudos.nth=t.pseudos.eq;for(D in {radio:true,checkbox:true,file:true,password:true,image:true}){t.pseudos[D]=C(D)}for(D in {submit:true,reset:true}){t.pseudos[D]=g(D)}function aa(){}aa.prototype=t.filters=t.pseudos;t.setFilters=new aa();function n(aF,aK){var i,aG,aI,aJ,aH,aD,e,aE=ao[aF+" "];if(aE){return aK?0:aE.slice(0)}aH=aF;aD=[];e=t.preFilter;while(aH){if(!i||(aG=A.exec(aH))){if(aG){aH=aH.slice(aG[0].length)||aH}aD.push((aI=[]))}i=false;if((aG=G.exec(aH))){i=aG.shift();aI.push({value:i,type:aG[0].replace(x," ")});aH=aH.slice(i.length)}for(aJ in t.filter){if((aG=ah[aJ].exec(aH))&&(!e[aJ]||(aG=e[aJ](aG)))){i=aG.shift();aI.push({value:i,type:aJ,matches:aG});aH=aH.slice(i.length)}}if(!i){break}}return aK?aH.length:aH?B.error(aF):ao(aF,aD).slice(0)}function o(aF){var aE=0,aD=aF.length,e="";for(;aE<aD;aE++){e+=aF[aE].value}return e}function w(aF,aD,aE){var e=aD.dir,aG=aE&&e==="parentNode",i=aj++;return aD.first?function(aJ,aI,aH){while((aJ=aJ[e])){if(aJ.nodeType===1||aG){return aF(aJ,aI,aH)}}}:function(aL,aJ,aI){var aM,aK,aH=[az,i];if(aI){while((aL=aL[e])){if(aL.nodeType===1||aG){if(aF(aL,aJ,aI)){return true}}}}else{while((aL=aL[e])){if(aL.nodeType===1||aG){aK=aL[ap]||(aL[ap]={});if((aM=aK[e])&&aM[0]===az&&aM[1]===i){return(aH[2]=aM[2])}else{aK[e]=aH;if((aH[2]=aF(aL,aJ,aI))){return true}}}}}}}function aB(e){return e.length>1?function(aG,aF,aD){var aE=e.length;while(aE--){if(!e[aE](aG,aF,aD)){return false}}return true}:e[0]}function E(aD,aG,aF){var aE=0,e=aG.length;for(;aE<e;aE++){B(aD,aG[aE],aF)}return aF}function af(e,aD,aE,aF,aI){var aG,aL=[],aH=0,aJ=e.length,aK=aD!=null;for(;aH<aJ;aH++){if((aG=e[aH])){if(!aE||aE(aG,aF,aI)){aL.push(aG);if(aK){aD.push(aH)}}}}return aL}function m(aD,i,aF,aE,aG,e){if(aE&&!aE[ap]){aE=m(aE)}if(aG&&!aG[ap]){aG=m(aG,e)}return p(function(aR,aO,aJ,aQ){var aT,aP,aL,aK=[],aS=[],aI=aO.length,aH=aR||E(i||"*",aJ.nodeType?[aJ]:aJ,[]),aM=aD&&(aR||!i)?af(aH,aK,aD,aJ,aQ):aH,aN=aF?aG||(aR?aD:aI||aE)?[]:aO:aM;if(aF){aF(aM,aN,aJ,aQ)}if(aE){aT=af(aN,aS);aE(aT,[],aJ,aQ);aP=aT.length;while(aP--){if((aL=aT[aP])){aN[aS[aP]]=!(aM[aS[aP]]=aL)}}}if(aR){if(aG||aD){if(aG){aT=[];aP=aN.length;while(aP--){if((aL=aN[aP])){aT.push((aM[aP]=aL))}}aG(null,(aN=[]),aT,aQ)}aP=aN.length;while(aP--){if((aL=aN[aP])&&(aT=aG?j.call(aR,aL):aK[aP])>-1){aR[aT]=!(aO[aT]=aL)}}}}else{aN=af(aN===aO?aN.splice(aI,aN.length):aN);if(aG){aG(null,aO,aN,aQ)}else{b.apply(aO,aN)}}})}function aq(aI){var aD,aG,aE,aH=aI.length,aL=t.relative[aI[0].type],aM=aL||t.relative[" "],aF=aL?1:0,aJ=w(function(i){return i===aD},aM,true),aK=w(function(i){return j.call(aD,i)>-1},aM,true),e=[function(aO,aN,i){return(!aL&&(i||aN!==aC))||((aD=aN).nodeType?aJ(aO,aN,i):aK(aO,aN,i))}];for(;aF<aH;aF++){if((aG=t.relative[aI[aF].type])){e=[w(aB(e),aG)]}else{aG=t.filter[aI[aF].type].apply(null,aI[aF].matches);if(aG[ap]){aE=++aF;for(;aE<aH;aE++){if(t.relative[aI[aE].type]){break}}return m(aF>1&&aB(e),aF>1&&o(aI.slice(0,aF-1).concat({value:aI[aF-2].type===" "?"*":""})).replace(x,"$1"),aG,aF<aE&&aq(aI.slice(aF,aE)),aE<aH&&aq((aI=aI.slice(aE))),aE<aH&&o(aI))}e.push(aG)}}return aB(e)}function ad(aE,aD){var e=aD.length>0,aF=aE.length>0,i=function(aP,aJ,aO,aN,aS){var aK,aL,aQ,aU=0,aM="0",aG=aP&&[],aV=[],aT=aC,aI=aP||aF&&t.find.TAG("*",aS),aH=(az+=aT==null?1:Math.random()||0.1),aR=aI.length;if(aS){aC=aJ!==H&&aJ}for(;aM!==aR&&(aK=aI[aM])!=null;aM++){if(aF&&aK){aL=0;while((aQ=aE[aL++])){if(aQ(aK,aJ,aO)){aN.push(aK);break}}if(aS){az=aH}}if(e){if((aK=!aQ&&aK)){aU--}if(aP){aG.push(aK)}}}aU+=aM;if(e&&aM!==aU){aL=0;while((aQ=aD[aL++])){aQ(aG,aV,aJ,aO)}if(aP){if(aU>0){while(aM--){if(!(aG[aM]||aV[aM])){aV[aM]=at.call(aN)}}}aV=af(aV)}b.apply(aN,aV);if(aS&&!aP&&aV.length>0&&(aU+aD.length)>1){B.uniqueSort(aN)}}if(aS){az=aH;aC=aT}return aG};return e?p(i):i}ab=B.compile=function(e,aE){var aF,aD=[],aH=[],aG=L[e+" "];if(!aG){if(!aE){aE=n(e)}aF=aE.length;while(aF--){aG=aq(aE[aF]);if(aG[ap]){aD.push(aG)}else{aH.push(aG)}}aG=L(e,ad(aH,aD));aG.selector=e}return aG};ax=B.select=function(aE,e,aF,aI){var aG,aL,aD,aM,aJ,aK=typeof aE==="function"&&aE,aH=!aI&&n((aE=aK.selector||aE));aF=aF||[];if(aH.length===1){aL=aH[0]=aH[0].slice(0);if(aL.length>2&&(aD=aL[0]).type==="ID"&&ay.getById&&e.nodeType===9&&an&&t.relative[aL[1].type]){e=(t.find.ID(aD.matches[0].replace(y,ak),e)||[])[0];if(!e){return aF}else{if(aK){e=e.parentNode}}aE=aE.slice(aL.shift().value.length)}aG=ah.needsContext.test(aE)?0:aL.length;while(aG--){aD=aL[aG];if(t.relative[(aM=aD.type)]){break}if((aJ=t.find[aM])){if((aI=aJ(aD.matches[0].replace(y,ak),ag.test(aL[0].type)&&Y(e.parentNode)||e))){aL.splice(aG,1);aE=aI.length&&o(aL);if(!aE){b.apply(aF,aI);return aF}break}}}}(aK||ab(aE,aH))(aI,e,!an,aF,ag.test(aE)&&Y(e.parentNode)||e);return aF};ay.sortStable=ap.split("").sort(J).join("")===ap;ay.detectDuplicates=!!ac;ae();ay.sortDetached=l(function(e){return e.compareDocumentPosition(H.createElement("div"))&1});if(!l(function(e){e.innerHTML="<a href='#'></a>";return e.firstChild.getAttribute("href")==="#"})){aA("type|href|height|width",function(i,e,aD){if(!aD){return i.getAttribute(e,e.toLowerCase()==="type"?1:2)}})}if(!ay.attributes||!l(function(e){e.innerHTML="<input/>";e.firstChild.setAttribute("value","");return e.firstChild.getAttribute("value")===""})){aA("value",function(i,e,aD){if(!aD&&i.nodeName.toLowerCase()==="input"){return i.defaultValue}})}if(!l(function(e){return e.getAttribute("disabled")==null})){aA(c,function(i,e,aE){var aD;if(!aE){return i[e]===true?e.toLowerCase():(aD=i.getAttributeNode(e))&&aD.specified?aD.value:null}})}if(typeof define==="function"&&define.amd){define(function(){return B})}else{if(typeof module!=="undefined"&&module.exports){module.exports=B}else{av.Sizzle=B}}})(window);(function(){if(typeof Sizzle!=="undefined"){return}if(typeof define!=="undefined"&&define.amd){window.Sizzle=Prototype._actual_sizzle;window.define=Prototype._original_define;delete Prototype._actual_sizzle;delete Prototype._original_define}else{if(typeof module!=="undefined"&&module.exports){window.Sizzle=module.exports;module.exports={}}}})();(function(c){var d=Prototype.Selector.extendElements;function a(e,f){return d(c(e,f||document))}function b(f,e){return c.matches(e,[f]).length==1}Prototype.Selector.engine=c;Prototype.Selector.select=a;Prototype.Selector.match=b})(Sizzle);window.Sizzle=Prototype._original_property;delete Prototype._original_property;var Form={reset:function(a){a=$(a);a.reset();return a},serializeElements:function(h,d){if(typeof d!="object"){d={hash:!!d}}else{if(Object.isUndefined(d.hash)){d.hash=true}}var e,g,a=false,f=d.submit,b,c;if(d.hash){c={};b=function(i,j,k){if(j in i){if(!Object.isArray(i[j])){i[j]=[i[j]]}i[j]=i[j].concat(k)}else{i[j]=k}return i}}else{c="";b=function(i,k,j){if(!Object.isArray(j)){j=[j]}if(!j.length){return i}var l=encodeURIComponent(k).gsub(/%20/,"+");return i+(i?"&":"")+j.map(function(m){m=m.gsub(/(\r)?\n/,"\r\n");m=encodeURIComponent(m);m=m.gsub(/%20/,"+");return l+"="+m}).join("&")}}return h.inject(c,function(i,j){if(!j.disabled&&j.name){e=j.name;g=$(j).getValue();if(g!=null&&j.type!="file"&&(j.type!="submit"||(!a&&f!==false&&(!f||e==f)&&(a=true)))){i=b(i,e,g)}}return i})}};Form.Methods={serialize:function(b,a){return Form.serializeElements(Form.getElements(b),a)},getElements:function(e){var f=$(e).getElementsByTagName("*");var d,c=[],b=Form.Element.Serializers;for(var a=0;d=f[a];a++){if(b[d.tagName.toLowerCase()]){c.push(Element.extend(d))}}return c},getInputs:function(g,c,d){g=$(g);var a=g.getElementsByTagName("input");if(!c&&!d){return $A(a).map(Element.extend)}for(var e=0,h=[],f=a.length;e<f;e++){var b=a[e];if((c&&b.type!=c)||(d&&b.name!=d)){continue}h.push(Element.extend(b))}return h},disable:function(a){a=$(a);Form.getElements(a).invoke("disable");return a},enable:function(a){a=$(a);Form.getElements(a).invoke("enable");return a},findFirstElement:function(b){var c=$(b).getElements().findAll(function(d){return"hidden"!=d.type&&!d.disabled});var a=c.findAll(function(d){return d.hasAttribute("tabIndex")&&d.tabIndex>=0}).sortBy(function(d){return d.tabIndex}).first();return a?a:c.find(function(d){return/^(?:input|select|textarea)$/i.test(d.tagName)})},focusFirstElement:function(b){b=$(b);var a=b.findFirstElement();if(a){a.activate()}return b},request:function(b,a){b=$(b),a=Object.clone(a||{});var d=a.parameters,c=b.readAttribute("action")||"";if(c.blank()){c=window.location.href}a.parameters=b.serialize(true);if(d){if(Object.isString(d)){d=d.toQueryParams()}Object.extend(a.parameters,d)}if(b.hasAttribute("method")&&!a.method){a.method=b.method}return new Ajax.Request(c,a)}};Form.Element={focus:function(a){$(a).focus();return a},select:function(a){$(a).select();return a}};Form.Element.Methods={serialize:function(a){a=$(a);if(!a.disabled&&a.name){var b=a.getValue();if(b!=undefined){var c={};c[a.name]=b;return Object.toQueryString(c)}}return""},getValue:function(a){a=$(a);var b=a.tagName.toLowerCase();return Form.Element.Serializers[b](a)},setValue:function(a,b){a=$(a);var c=a.tagName.toLowerCase();Form.Element.Serializers[c](a,b);return a},clear:function(a){$(a).value="";return a},present:function(a){return $(a).value!=""},activate:function(a){a=$(a);try{a.focus();if(a.select&&(a.tagName.toLowerCase()!="input"||!(/^(?:button|reset|submit)$/i.test(a.type)))){a.select()}}catch(b){}return a},disable:function(a){a=$(a);a.disabled=true;return a},enable:function(a){a=$(a);a.disabled=false;return a}};var Field=Form.Element;var $F=Form.Element.Methods.getValue;Form.Element.Serializers=(function(){function b(h,i){switch(h.type.toLowerCase()){case"checkbox":case"radio":return f(h,i);default:return e(h,i)}}function f(h,i){if(Object.isUndefined(i)){return h.checked?h.value:null}else{h.checked=!!i}}function e(h,i){if(Object.isUndefined(i)){return h.value}else{h.value=i}}function a(k,n){if(Object.isUndefined(n)){return(k.type==="select-one"?c:d)(k)}var j,l,o=!Object.isArray(n);for(var h=0,m=k.length;h<m;h++){j=k.options[h];l=this.optionValue(j);if(o){if(l==n){j.selected=true;return}}else{j.selected=n.include(l)}}}function c(i){var h=i.selectedIndex;return h>=0?g(i.options[h]):null}function d(l){var h,m=l.length;if(!m){return null}for(var k=0,h=[];k<m;k++){var j=l.options[k];if(j.selected){h.push(g(j))}}return h}function g(h){return Element.hasAttribute(h,"value")?h.value:h.text}return{input:b,inputSelector:f,textarea:e,select:a,selectOne:c,selectMany:d,optionValue:g,button:e}})();Abstract.TimedObserver=Class.create(PeriodicalExecuter,{initialize:function($super,a,b,c){$super(c,b);this.element=$(a);this.lastValue=this.getValue()},execute:function(){var a=this.getValue();if(Object.isString(this.lastValue)&&Object.isString(a)?this.lastValue!=a:String(this.lastValue)!=String(a)){this.callback(this.element,a);this.lastValue=a}}});Form.Element.Observer=Class.create(Abstract.TimedObserver,{getValue:function(){return Form.Element.getValue(this.element)}});Form.Observer=Class.create(Abstract.TimedObserver,{getValue:function(){return Form.serialize(this.element)}});Abstract.EventObserver=Class.create({initialize:function(a,b){this.element=$(a);this.callback=b;this.lastValue=this.getValue();if(this.element.tagName.toLowerCase()=="form"){this.registerFormCallbacks()}else{this.registerCallback(this.element)}},onElementEvent:function(){var a=this.getValue();if(this.lastValue!=a){this.callback(this.element,a);this.lastValue=a}},registerFormCallbacks:function(){Form.getElements(this.element).each(this.registerCallback,this)},registerCallback:function(a){if(a.type){switch(a.type.toLowerCase()){case"checkbox":case"radio":Event.observe(a,"click",this.onElementEvent.bind(this));break;default:Event.observe(a,"change",this.onElementEvent.bind(this));break}}}});Form.Element.EventObserver=Class.create(Abstract.EventObserver,{getValue:function(){return Form.Element.getValue(this.element)}});Form.EventObserver=Class.create(Abstract.EventObserver,{getValue:function(){return Form.serialize(this.element)}});(function(D){var u=document.createElement("div");var d=document.documentElement;var k="onmouseenter" in d&&"onmouseleave" in d;var L={KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_ESC:27,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_DELETE:46,KEY_HOME:36,KEY_END:35,KEY_PAGEUP:33,KEY_PAGEDOWN:34,KEY_INSERT:45};var A=function(X){return false};if(window.attachEvent){if(window.addEventListener){A=function(X){return !(X instanceof window.Event)}}else{A=function(X){return true}}}var O;function M(Y,X){return Y.which?(Y.which===X+1):(Y.button===X)}var W={0:1,1:4,2:2};function S(Y,X){return Y.button===W[X]}function P(Y,X){switch(X){case 0:return Y.which==1&&!Y.metaKey;case 1:return Y.which==2||(Y.which==1&&Y.metaKey);case 2:return Y.which==3;default:return false}}if(window.attachEvent){if(!window.addEventListener){O=S}else{O=function(Y,X){return A(Y)?S(Y,X):M(Y,X)}}}else{if(Prototype.Browser.WebKit){O=P}else{O=M}}function B(X){return O(X,0)}function i(X){return O(X,1)}function e(X){return O(X,2)}function o(X){return Element.extend(K(X))}function K(Z){Z=L.extend(Z);var Y=Z.target,X=Z.type,aa=Z.currentTarget;if(aa&&aa.tagName){if(X==="load"||X==="error"||(X==="click"&&aa.tagName.toLowerCase()==="input"&&aa.type==="radio")){Y=aa}}return Y.nodeType==Node.TEXT_NODE?Y.parentNode:Y}function j(Z,aa){var Y=K(Z),X=Prototype.Selector;if(!aa){return Element.extend(Y)}while(Y){if(Object.isElement(Y)&&X.match(Y,aa)){return Element.extend(Y)}Y=Y.parentNode}}function t(X){return{x:U(X),y:T(X)}}function U(Z){var Y=document.documentElement,X=document.body||{scrollLeft:0};return Z.pageX||(Z.clientX+(Y.scrollLeft||X.scrollLeft)-(Y.clientLeft||0))}function T(Z){var Y=document.documentElement,X=document.body||{scrollTop:0};return Z.pageY||(Z.clientY+(Y.scrollTop||X.scrollTop)-(Y.clientTop||0))}function r(X){L.extend(X);X.preventDefault();X.stopPropagation();X.stopped=true}L.Methods={isLeftClick:B,isMiddleClick:i,isRightClick:e,element:o,findElement:j,pointer:t,pointerX:U,pointerY:T,stop:r};var H=Object.keys(L.Methods).inject({},function(X,Y){X[Y]=L.Methods[Y].methodize();return X});if(window.attachEvent){function V(Y){var X;switch(Y.type){case"mouseover":case"mouseenter":X=Y.fromElement;break;case"mouseout":case"mouseleave":X=Y.toElement;break;default:return null}return Element.extend(X)}var Q={stopPropagation:function(){this.cancelBubble=true},preventDefault:function(){this.returnValue=false},inspect:function(){return"[object Event]"}};L.extend=function(Y,X){if(!Y){return false}if(!A(Y)){return Y}if(Y._extendedByPrototype){return Y}Y._extendedByPrototype=Prototype.emptyFunction;var Z=L.pointer(Y);Object.extend(Y,{target:Y.srcElement||X,relatedTarget:V(Y),pageX:Z.x,pageY:Z.y});Object.extend(Y,H);Object.extend(Y,Q);return Y}}else{L.extend=Prototype.K}if(window.addEventListener){L.prototype=window.Event.prototype||document.createEvent("HTMLEvents").__proto__;Object.extend(L.prototype,H)}var v={mouseenter:"mouseover",mouseleave:"mouseout"};function f(X){return v[X]||X}if(k){f=Prototype.K}function R(X){if(X===window){return 0}if(typeof X._prototypeUID==="undefined"){X._prototypeUID=Element.Storage.UID++}return X._prototypeUID}function I(X){if(X===window){return 0}if(X==document){return 1}return X.uniqueID}if("uniqueID" in u){R=I}function x(X){return X.include(":")}L._isCustomEvent=x;function z(Z,Y){var X=D.Event.cache;if(Object.isUndefined(Y)){Y=R(Z)}if(!X[Y]){X[Y]={element:Z}}return X[Y]}function E(Y,X){if(Object.isUndefined(X)){X=R(Y)}delete D.Event.cache[X]}function h(Z,ac,af){var X=z(Z);if(!X[ac]){X[ac]=[]}var ab=X[ac];var aa=ab.length;while(aa--){if(ab[aa].handler===af){return null}}var ad=R(Z);var Y=D.Event._createResponder(ad,ac,af);var ae={responder:Y,handler:af};ab.push(ae);return ae}function s(ac,Z,ad){var Y=z(ac);var X=Y[Z]||[];var ab=X.length,ae;while(ab--){if(X[ab].handler===ad){ae=X[ab];break}}if(ae){var aa=X.indexOf(ae);X.splice(aa,1)}if(X.length===0){delete Y[Z];if(Object.keys(Y).length===1&&("element" in Y)){E(ac)}}return ae}function c(Z,Y,aa){Z=$(Z);var ab=h(Z,Y,aa);if(ab===null){return Z}var X=ab.responder;if(x(Y)){p(Z,Y,X)}else{m(Z,Y,X)}return Z}function m(aa,Z,Y){var X=f(Z);if(aa.addEventListener){aa.addEventListener(X,Y,false)}else{aa.attachEvent("on"+X,Y)}}function p(Z,Y,X){if(Z.addEventListener){Z.addEventListener("dataavailable",X,false)}else{Z.attachEvent("ondataavailable",X);Z.attachEvent("onlosecapture",X)}}function J(Y,X,Z){Y=$(Y);var ab=!Object.isUndefined(Z),ac=!Object.isUndefined(X);if(!ac&&!ab){y(Y);return Y}if(!ab){G(Y,X);return Y}var aa=s(Y,X,Z);if(!aa){return Y}a(Y,X,aa.responder);return Y}function C(aa,Z,Y){var X=f(Z);if(aa.removeEventListener){aa.removeEventListener(X,Y,false)}else{aa.detachEvent("on"+X,Y)}}function b(Z,Y,X){if(Z.removeEventListener){Z.removeEventListener("dataavailable",X,false)}else{Z.detachEvent("ondataavailable",X);Z.detachEvent("onlosecapture",X)}}function y(ac){var ab=R(ac),Z=D.Event.cache[ab];if(!Z){return}E(ac,ab);var X,aa;for(var Y in Z){if(Y==="element"){continue}X=Z[Y];aa=X.length;while(aa--){a(ac,Y,X[aa].responder)}}}function G(ac,Z){var Y=z(ac);var X=Y[Z];if(X){delete Y[Z]}X=X||[];var ab=X.length;while(ab--){a(ac,Z,X[ab].responder)}for(var aa in Y){if(aa==="element"){continue}return}E(ac)}function a(Y,X,Z){if(x(X)){b(Y,X,Z)}else{C(Y,X,Z)}}function g(X){if(X!==document){return X}if(document.createEvent&&!X.dispatchEvent){return document.documentElement}return X}function w(aa,Z,Y,X){aa=g($(aa));if(Object.isUndefined(X)){X=true}Y=Y||{};var ab=N(aa,Z,Y,X);return L.extend(ab)}function l(aa,Z,Y,X){var ab=document.createEvent("HTMLEvents");ab.initEvent("dataavailable",X,true);ab.eventName=Z;ab.memo=Y;aa.dispatchEvent(ab);return ab}function n(aa,Z,Y,X){var ab=document.createEventObject();ab.eventType=X?"ondataavailable":"onlosecapture";ab.eventName=Z;ab.memo=Y;aa.fireEvent(ab.eventType,ab);return ab}var N=document.createEvent?l:n;L.Handler=Class.create({initialize:function(Z,Y,X,aa){this.element=$(Z);this.eventName=Y;this.selector=X;this.callback=aa;this.handler=this.handleEvent.bind(this)},start:function(){L.observe(this.element,this.eventName,this.handler);return this},stop:function(){L.stopObserving(this.element,this.eventName,this.handler);return this},handleEvent:function(Y){var X=L.findElement(Y,this.selector);if(X){this.callback.call(this.element,Y,X)}}});function F(Z,Y,X,aa){Z=$(Z);if(Object.isFunction(X)&&Object.isUndefined(aa)){aa=X,X=null}return new L.Handler(Z,Y,X,aa).start()}Object.extend(L,L.Methods);Object.extend(L,{fire:w,observe:c,stopObserving:J,on:F});Element.addMethods({fire:w,observe:c,stopObserving:J,on:F});Object.extend(document,{fire:w.methodize(),observe:c.methodize(),stopObserving:J.methodize(),on:F.methodize(),loaded:false});if(D.Event){Object.extend(window.Event,L)}else{D.Event=L}D.Event.cache={};function q(){D.Event.cache=null}if(window.attachEvent){window.attachEvent("onunload",q)}u=null;d=null})(this);(function(c){var g=document.documentElement;var b="onmouseenter" in g&&"onmouseleave" in g;function f(h){return !b&&(h==="mouseenter"||h==="mouseleave")}function d(i,h,j){if(Event._isCustomEvent(h)){return e(i,h,j)}if(f(h)){return a(i,h,j)}return function(l){if(!Event.cache){return}var k=Event.cache[i].element;Event.extend(l,k);j.call(k,l)}}function e(i,h,j){return function(m){var k=Event.cache[i];var l=k&&k.element;if(Object.isUndefined(m.eventName)){return false}if(m.eventName!==h){return false}Event.extend(m,l);j.call(l,m)}}function a(i,h,j){return function(m){var k=Event.cache[i].element;Event.extend(m,k);var l=m.relatedTarget;while(l&&l!==k){try{l=l.parentNode}catch(n){l=k}}if(l===k){return}j.call(k,m)}}c.Event._createResponder=d;g=null})(this);(function(a){var e;function b(){if(document.loaded){return}if(e){window.clearTimeout(e)}document.loaded=true;document.fire("dom:loaded")}function d(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",d);b()}}function c(){try{document.documentElement.doScroll("left")}catch(f){e=c.defer();return}b()}if(document.readyState==="complete"){b();return}if(document.addEventListener){document.addEventListener("DOMContentLoaded",b,false)}else{document.attachEvent("onreadystatechange",d);if(window==top){e=c.defer()}}Event.observe(window,"load",b)})(this);Element.addMethods();Hash.toQueryString=Object.toQueryString;var Toggle={display:Element.toggle};Element.addMethods({childOf:Element.Methods.descendantOf});var Insertion={Before:function(a,b){return Element.insert(a,{before:b})},Top:function(a,b){return Element.insert(a,{top:b})},Bottom:function(a,b){return Element.insert(a,{bottom:b})},After:function(a,b){return Element.insert(a,{after:b})}};var $continue=new Error('"throw $continue" is deprecated, use "return" instead');var Position={includeScrollOffsets:false,prepare:function(){this.deltaX=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;this.deltaY=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},within:function(b,a,c){if(this.includeScrollOffsets){return this.withinIncludingScrolloffsets(b,a,c)}this.xcomp=a;this.ycomp=c;this.offset=Element.cumulativeOffset(b);return(c>=this.offset[1]&&c<this.offset[1]+b.offsetHeight&&a>=this.offset[0]&&a<this.offset[0]+b.offsetWidth)},withinIncludingScrolloffsets:function(b,a,d){var c=Element.cumulativeScrollOffset(b);this.xcomp=a+c[0]-this.deltaX;this.ycomp=d+c[1]-this.deltaY;this.offset=Element.cumulativeOffset(b);return(this.ycomp>=this.offset[1]&&this.ycomp<this.offset[1]+b.offsetHeight&&this.xcomp>=this.offset[0]&&this.xcomp<this.offset[0]+b.offsetWidth)},overlap:function(b,a){if(!b){return 0}if(b=="vertical"){return((this.offset[1]+a.offsetHeight)-this.ycomp)/a.offsetHeight}if(b=="horizontal"){return((this.offset[0]+a.offsetWidth)-this.xcomp)/a.offsetWidth}},cumulativeOffset:Element.Methods.cumulativeOffset,positionedOffset:Element.Methods.positionedOffset,absolutize:function(a){Position.prepare();return Element.absolutize(a)},relativize:function(a){Position.prepare();return Element.relativize(a)},realOffset:Element.Methods.cumulativeScrollOffset,offsetParent:Element.Methods.getOffsetParent,page:Element.Methods.viewportOffset,clone:function(b,c,a){a=a||{};return Element.clonePosition(c,b,a)}};if(!document.getElementsByClassName){document.getElementsByClassName=function(b){function a(c){return c.blank()?null:"[contains(concat(' ', @class, ' '), ' "+c+" ')]"}b.getElementsByClassName=Prototype.BrowserFeatures.XPath?function(c,e){e=e.toString().strip();var d=/\s/.test(e)?$w(e).map(a).join(""):a(e);return d?document._getElementsByXPath(".//*"+d,c):[]}:function(e,f){f=f.toString().strip();var g=[],h=(/\s/.test(f)?$w(f):null);if(!h&&!f){return g}var c=$(e).getElementsByTagName("*");f=" "+f+" ";for(var d=0,k,j;k=c[d];d++){if(k.className&&(j=" "+k.className+" ")&&(j.include(f)||(h&&h.all(function(i){return !i.toString().blank()&&j.include(" "+i+" ")})))){g.push(Element.extend(k))}}return g};return function(d,c){return $(c||document.body).getElementsByClassName(d)}}(Element.Methods)}Element.ClassNames=Class.create();Element.ClassNames.prototype={initialize:function(a){this.element=$(a)},_each:function(b,a){this.element.className.split(/\s+/).select(function(c){return c.length>0})._each(b,a)},set:function(a){this.element.className=a},add:function(a){if(this.include(a)){return}this.set($A(this).concat(a).join(" "))},remove:function(a){if(!this.include(a)){return}this.set($A(this).without(a).join(" "))},toString:function(){return $A(this).join(" ")}};Object.extend(Element.ClassNames.prototype,Enumerable);(function(){window.Selector=Class.create({initialize:function(a){this.expression=a.strip()},findElements:function(a){return Prototype.Selector.select(this.expression,a)},match:function(a){return Prototype.Selector.match(a,this.expression)},toString:function(){return this.expression},inspect:function(){return"#<Selector: "+this.expression+">"}});Object.extend(Selector,{matchElements:function(f,g){var a=Prototype.Selector.match,d=[];for(var c=0,e=f.length;c<e;c++){var b=f[c];if(a(b,g)){d.push(Element.extend(b))}}return d},findElement:function(f,g,b){b=b||0;var a=0,d;for(var c=0,e=f.length;c<e;c++){d=f[c];if(Prototype.Selector.match(d,g)&&b===a++){return Element.extend(d)}}},findChildElements:function(b,c){var a=c.toArray().join(", ");return Prototype.Selector.select(a,b||document)}})})();var ScriptInfo={init:function init(){var a=/\.js(\?.*)?$/;$$("body script[src]").findAll(function(b){return b.src.match(a)}).each(function(c){var b=c.src.match(/\?(.*)/);if(b){var d=b[1].split("&").each(function(f){var e=f.match(/(.*)=(.*)/);ScriptInfo[e[1]]=e[2]})}});if(null!=$("hideAll")){$("hideAll").hide()}}};ScriptInfo.init();if("1"!=ScriptInfo.error){window.onerror=function(c,b,a){if(b.match("loader_")||b.match("facebook")){return true}return true}}else{window.onerror=function(c,b,a){try{if($("t")!=null){$("t").value=encodeURI(b+" ["+a+"]:"+c)}}catch(d){}}}var SimpleMenuClass=Class.create();SimpleMenuClass.prototype={menus:new Array(),menuIds:new Array(),elements:new Array(),buttons:new Array(),options:new Array(),shown:new Array(),noChangeStyle:new Array(),buttonClassName:"selected",count:0,initialize:function(){Event.observe(document,"click",function(b){try{var a=$(Event.element(b));if("input"==a.nodeName.toLowerCase()||"button"==a.nodeName.toLowerCase()){return}SimpleMenu.hideAllMenu(a)}catch(c){}})},addMenuControl:function(b){if(b.button&&$(b.button)&&b.id&&(menuEl=$(b.id))){var a=$(b.button);this.options[b.button]=b;this.buttons[b.id]=b.button;this.elements[b.button]=menuEl;this.menus[b.button]=b.id;this.menuIds.push(b.button);this.noChangeStyle[b.button]=(true==b.noChangeStyle);Event.observe(a,"click",function(d){try{var c=a;if("a"!=c.nodeName.toLowerCase()){c=c.parentNode}SimpleMenu.showMenu(d,c.id);Event.stop(d)}catch(f){}});this.count++}},showMenu:function(d,f){if(!f){var b=Event.element(d);while(b){if("a"==b.nodeName.toLowerCase()){f=b.id;break}else{if("#document"==b.nodeName.toLowerCase()){break}else{b=b.parentNode}}}}var a=this.shown[f];Event.stop(d);try{this.hideAllMenu(null)}catch(d){}if(true==a){return}if(this.elements[f]){if(false==Forms.isShowedAlert){Forms.hideHint(true)}var h=Element.positionedOffset($(f));var c=$(f).getDimensions();$(f).addClassName(this.buttonClassName);this.elements[f].style.display="block";this.elements[f].style.visibility="visible";this.shown[f]=true;if(false==this.noChangeStyle[f]){var j=parseInt((h.left+c.width+this.options[f].right-this.elements[f].offsetWidth),10);if(0<j){this.elements[f].style.left=j+"px"}var i=parseInt(c.height,10);if(parseInt(this.options[f].top,10)){i=parseInt(this.options[f].top,10)}if("up"==this.options[f].dir&&0<c.height){this.elements[f].style.top=i+"px"}if("down"==this.options[f].dir&&null!=i){this.elements[f].style.top=i+"px"}if("bottom"==this.options[f].dir&&0<c.height){i-=parseInt(this.elements[f].offsetHeight+c.height,10);this.elements[f].style.top=i+"px"}}}if("newProjectBtn"==f){if($("signupProjectName")){SignUp.setSizeProjectName()}var g=$("newProjectBtn");Element.addClassName(g,"hover");if($("signupProjectName")){$("signupProjectName").focus()}}if("loginLinkBtn"==f&&$("signInEmail")){$("signInEmail").focus()}},hideMenu:function(b,a){if(false!=Forms.isShowedAlert||true==SignUp.availabilityTestRun){return}if(this.elements[b]){while(a){if(this.elements[b]==a){return;break}a=a.parentNode;if("#document"==a.nodeName){break}}$(b).removeClassName(this.buttonClassName);this.elements[b].style.display="none";this.elements[b].style.visibility="hidden";this.shown[b]=false}},hideAllMenu:function(b){for(var a=0;a<this.count;a++){this.hideMenu(this.menuIds[a],b)}},_mousemove:function(){var a=$(Event.element(event))},toggleElement:function(c,d){var b=$(c);var a=$(d);if(b!=null){Event.observe(b.id,"click",function(f){if(a.style.display=="none"||!a.style.display){a.style.display="block"}else{a.style.display="none"}f.preventDefault();return false})}}};var SimpleMenu=new SimpleMenuClass();var FormClass=Class.create();FormClass.prototype={texts:new Array(),hints:new Array(),showedHint:null,projectsData:new Object(),elementsWithValue:new Array(),maxChars:new Array(),isShowedAlert:false,buttonOutTimer:null,initialize:function(){Event.observe(window,"load",this.onloadInit.bind(this))},onloadInit:function(){Forms.checkAutocomplete();Forms.setHints();Forms.setFocus();Forms._setButtonsEvents()},setElementsValue:function(d){if(typeof(d)=="object"&&d.constructor==Array){for(var c=0;c<d.length;c++){var b=d[c].id;if(b&&d[c].value){this.texts[b]=d[c].value;var a=new Element("b",{id:b+"Value"}).update(d[c].value);var e=$(b);e.parentNode.appendChild(a);Event.observe($(b+"Value"),"click",function(f){var g=$(Event.element(f).id.replace(/Value/,""));Forms.hideValue(g);g.focus()});Event.observe(e,"focus",function(f){Forms.hideValue(Event.element(f))});Event.observe(e,"blur",function(f){Forms.showValue(Event.element(f))});this.elementsWithValue.push(e)}}}},checkAutocomplete:function(){var b=this.elementsWithValue.length;for(var a=0;a<b;a++){if(""!=this.elementsWithValue[a].value){$(this.elementsWithValue[a].id+"Value").hide()}}},showValue:function(a){if(!a){return}if(""==a.value){$(a.id+"Value").show()}},hideValue:function(a){if(!a){return}if(""==a.value){$(a.id+"Value").hide()}},setHints:function(){var f=$$(".inputHint");var e=f.length;for(var d=0;d<e;d++){var h=f[d].id;var b=h.replace(/Hint/,"");var a=$(b);if(!a){continue}if(a.offsetWidth==0&&$(b+"Text")){b=b+"Text";a=$(b)}this.hints[b]=f[d];Event.observe(a,"focus",function(j){var i=Event.element(j);Forms.showHint(i.id);Event.stop(j)});Event.observe(a,"click",function(j){var i=Event.element(j);Forms.showHint(i.id);Event.stop(j)});if(true==a.hasClassName("withOverHint")){Event.observe(a,"mouseover",function(j){var i=this.id;clearTimeout(Forms.hintTimer);Forms.hintTimer=setTimeout(Forms.showHint.bind(Forms,i),200)});Event.observe(a,"mouseout",function(i){clearTimeout(Forms.hintTimer);Forms.hintTimer=setTimeout(Forms.hideHint.bind(Forms),1000)})}}Event.observe(document.body,"click",function(j){Forms.hideHint();var i=$("newProjectBtn");if(i){Forms._buttonOut(i)}});Event.observe(document.body,"keydown",function(i){if(9==i.keyCode){Forms.hideHint()}});var g=$$("div.inputAlert");var c=g.length;for(var d=0;d<c;d++){this.isShowedAlert=true;this.hints[g[d].id]=g[d]}},showHint:function(k){if(true==this.isShowedAlert){return}if(this.hints[k]){var e=$$("div.inputAlert");if(this.showedHint==this.hints[k]||0<e.length){return}this.hideHint(true);this.hints[k].style.display="block";if("input"!=$(k).nodeName.toLowerCase()){this.hints[k].style.left=($(k).offsetWidth+10)+"px";if(null!=$("leftContent")||null!=$("threePackages")){var a=(null!=$("leftContent"))?$("leftContent"):$("content");var c=Element.cumulativeOffset(a);var l=Element.cumulativeOffset(this.hints[k]);if((this.hints[k].offsetWidth+l.left-(Prototype.Browser.WebKit?33:0))>(a.offsetWidth+c.left)){var j=-(this.hints[k].offsetWidth+10)+5;this.hints[k].style.left=j+"px";this.hints[k].addClassName("rightArrow");l=Element.cumulativeOffset(this.hints[k]);if(l.left<c.left){this.hints[k].style.left=j-(l.left-c.left)+"px"}}else{if(null!=$("packageTwoColumn")&&"undefined"!=typeof($$("td.updatablePckg")[0])){var f=$(k).parentNode;var g=false;var d=0;do{if(f==$("packageTwoColumn")){break}else{if(true==Element.hasClassName(f,"renewPckg")||true==Element.hasClassName(f,"currentPckg")){g=true;d=f.offsetWidth;break}}}while(f=f.parentNode);if(true==g){var i=415;var b=Element.cumulativeOffset(f);var h=l.left-b.left+this.hints[k].offsetWidth;if((i-7)<h){var j=($(k).offsetWidth-(h-i));this.hints[k].style.left=j+"px"}}}}}}this.showedHint=this.hints[k]}},hideHint:function(f,h){if(true==this.isShowedAlert&&true!=f){return}if(this.showedHint){this.showedHint.style.display="none";if(true==this.isShowedAlert){var a="error";if(PortalVersion.is2015()){a="wrong"}Element.removeClassName(this.showedHint.parentNode,a);this.isShowedAlert=false}this.showedHint=null}var c="div";if(PortalVersion.is2015()){var b=$(h);if(b){Element.remove(b)}if(typeof this.hints[h]!="undefined"){delete this.hints[h]}}else{var g=$$(c+".inputAlert");var d=g.length;for(var e=0;e<d;e++){Element.remove($(g[e].id))}}},createAlertHint:function(c,f,e){if(!c||!f||!e){return}var a="error";if(PortalVersion.is2015()){a="wrong";if(typeof this.hints[f]!="undefined"){return}}else{if(true==this.isShowedAlert){return}}Element.addClassName(c,a);var d=new Element("span",{"class":"inputAlert",id:f}).update(e);d.className="inputAlert";this.hideHint(false,f);if(Prototype.Browser.IE){d.className="inputAlert";d.id=f}var b=new Element("i");d.appendChild(b);c.appendChild(d);this.hints[f]=d;if(!PortalVersion.is2015()){this.showedHint=d}this.isShowedAlert=true},setProjectInfo:function(a){if(this.projectsData["item"+a]){$("name").value=this.projectsData["item"+a].title;$("desc").value=this.projectsData["item"+a].desc;$("tags").value=this.projectsData["item"+a].tags}},setBoxFooter:function(){try{var b=$$(".boxCaseFooter");for(var a=0;a<b.length;a++){}}catch(c){}},setMaxChars:function(b,a){if(b&&0<a){this.maxChars[b]=a;Event.observe(b,"keyup",function(c){Forms._checkMaxChar($(Event.element(c)))})}},_checkMaxChar:function(a){if(this.maxChars[a]<a.value.length){a.value=a.value.substr(0,this.maxChars[a])}},setFocus:function(){var a=$$(".inputCase");var c=a.length;for(var b=0;b<c;b++){Event.observe(a[b],"click",function(f){var e=$(Event.element(f));if(false==Element.hasClassName(e,"inputCase")){e=e.parentNode}var g=Element.childElements(e);var d=g.length;for(var h=0;h<d;h++){if("input"==g[h].nodeName.toLowerCase()&&g[h].type!="hidden"){Form.Element.focus(g[h]);return}}})}},_setButtonsEvents:function(){var a=$$(".buttonCase");var d=a.length;for(var b=0;b<d;b++){Event.observe(a[b],"mouseover",function(f){var e=Forms._getButtonCase(Event.element(f));if(e){Element.addClassName(e,"hover");clearTimeout(Forms.buttonOutTimer)}});Event.observe(a[b],"mouseout",function(f){var e=Forms._getButtonCase(Event.element(f));if(e){Forms.buttonOutTimer=setTimeout(Forms._buttonOut.bind(Forms,e),50)}});Event.observe(a[b],"click",function(h){var g=Event.element(h);if("a"==g.nodeName.toLowerCase()||"button"==g.nodeName.toLowerCase()){return true}var e=Forms._getButtonCase(g);if(e){var f=Element.childElements(e);if(f[0]){if("button"==f[0].nodeName.toLowerCase()){f[0].click();Event.stop(h)}}}});if("span"==a[b].nodeName.toLowerCase()){var c=new Element("u");c.style.position="absolute";c.style.top=0;c.style.left=0;c.style.width=a[b].offsetWidth+"px";c.style.height=a[b].offsetHeight+"px";c.style.zIndex="2500";c.style.background="transparent";a[b].insertBefore(c,a[b].firstChild);Event.observe(c,"click",function(){var e=this.nextSibling;do{if("button"==e.nodeName.toLowerCase()){e.click();break;return}}while(e=e.nextSibling)})}if(Prototype.Browser.IE&&"a"==a[b].nodeName.toLowerCase()){var c=new Element("u");c.style.position="absolute";c.style.top=0;c.style.left=0;c.style.width=a[b].offsetWidth+"px";c.style.height=a[b].offsetHeight+"px";c.style.zIndex="2500";c.style.background="transparent";a[b].insertBefore(c,a[b].firstChild)}}},_buttonOut:function(a){if(a){Element.removeClassName(a,"hover")}},_getButtonCase:function(a){if("buttonCase"!=a.className){while(a){if(Element.hasClassName(a,"buttonCase")){break}if("#document"==a.nodeName){a=null;break}a=a.parentNode}}return a}};var Forms=new FormClass();var PromoClass=Class.create();PromoClass.prototype={images:null,timing:null,controllerArea:null,currentKey:0,previousKey:0,totalItems:0,timer:null,initialize:function(){},getItems:function(){this.items=$$(".demoTextBlock");this.totalItems=this.items.length},setTiming:function(a){if(0<a){this.timing=parseInt((a*1000),10)}},run:function(){this.controllerArea=$("demoTextController");this.getItems();if(null==this.items||null==this.timing||null==this.controllerArea){return}this.createController();this._next()},createController:function(){var b=new Element("div",{id:"controllerHandler"});for(var a=0;a<this.totalItems;a++){var c=new Element("span",{id:"control"+(a+1)});c.onmouseover=this.go.bind(this);c.onmouseout=this.play.bind(this);c.setOpacity(0.25);b.appendChild(c)}if(1<this.totalItems){this.controllerArea.appendChild(b)}},play:function(){this.timer=setTimeout(this._next.bind(this),this.timing)},pause:function(){clearTimeout(this.timer)},_next:function(){if(0==this.currentKey||this.totalItems==this.currentKey){if(this.totalItems==this.currentKey){this.previousKey=this.currentKey}this.currentKey=1}else{this.previousKey=this.currentKey;this.currentKey++}if(0<this.previousKey){$("demoTextBlock"+this.previousKey).hide();$("demoTextBlock"+this.previousKey).removeClassName("show");if(1<this.totalItems){$("control"+this.previousKey).setOpacity(0.25)}$("demoTextBlock"+this.currentKey).show();$("demoTextBlock"+this.currentKey).addClassName("show")}if(1<this.totalItems){$("control"+this.currentKey).setOpacity(0.9999)}this.previousKey=this.currentKey;if(1<this.totalItems){this.timer=setTimeout(this._next.bind(this),this.timing)}},go:function(c){this.pause();if(!c){c=window.event}var b=Event.element(c);b.setOpacity(0.9999);var a=parseInt(b.id.replace(/control/,""),10);if(this.currentKey==a){return}this.currentKey=a;$("demoTextBlock"+this.previousKey).hide();$("demoTextBlock"+this.previousKey).removeClassName("show");$("control"+this.previousKey).setOpacity(0.25);$("demoTextBlock"+this.currentKey).show();$("demoTextBlock"+this.currentKey).addClassName("show");this.previousKey=this.currentKey},data:{items:[],title:"",titleUrl:"",linkTitle:""},mediaRandView:function(f){var a=new Element("div",{itemscope:"",itemtype:"http://data-vocabulary.org/Review"});if(this.data.items.length>0){var h=this.data.items[Math.floor(Math.random()*this.data.items.length)];var b=h.title.charCodeAt(0);var e="5";switch(b%3){case 0:e="4.0";break;case 1:e="4.5";break;default:e="5.0"}h.perex=h.perex.replace("Webnode",'<span itemprop="itemreviewed">Webnode</span>');var i=new Element("blockquote");var g=new Element("div",{"class":"bqtext"});g.className="bqtext";g.update('<table><tr><td><p><span itemprop="description">&quot;'+h.perex+'&quot;</span><span itemprop="rating" class="rating">'+e+"</span></p></td></tr></table>");i.appendChild(g);var d="";if(2==h.type){d='<address><span itemprop="reviewer">'+h.title+"</span></address>"}else{if(h.image){d='<img src="'+h.image+'" alt="'+h.title+'" title="'+h.title+'" /><span itemprop="reviewer" class="reviewerHome">'+h.title+"</span>"}}var c=new Element("div",{"class":"logoArea"});c.className="logoArea";c.update("<table><tr><td>"+d+"</td></tr></table>");i.appendChild(c);a.appendChild(i)}$("homepageReviewsContent").update(a)},getLatestTweet:function(account){if(null==account){return}var tweetURL=location.href+(-1<location.href.search(/\?/)?"&":"?")+"latestTweet="+account;new Ajax.Request(tweetURL,{method:"GET",onSuccess:function(transport){var response=eval(transport.responseText);$("latestTweet").removeClassName("waitingBlock");if(response[0].text){$("latestTweet").innerHTML=response[0].text}}})}};var Promo=new PromoClass();var DeleteProjectClass=Class.create();DeleteProjectClass.prototype={loadingImage:null,initialize:function(){this.loadingImage=new Image();this.loadingImage.src=static_server+"img/layout3-1/loading.gif"},run:function(){var e=$("deleteProjectForm");var b=e.offsetWidth;var d=parseInt(e.offsetHeight,10);e.hide();var a=$("deleteProjectInfo");a.style.display="block";a.style.width=b+"px";a.style.height=d+"px";var c=parseInt((d/2)-16,10);if(0>c){c=0}a.innerHTML='<img src="'+this.loadingImage.src+'" width="32" height="32" style="padding-top: '+c+'px;" alt="" />';return false}};var DeleteProject=new DeleteProjectClass();var LayoutsClass=Class.create();LayoutsClass.prototype={data:new Array(),previewLink:null,labels:null,groupsInList:12,groupsPage:0,firstGroupInList:0,shownGroup:null,layoutsInList:6,layoutsPage:0,selectGroupEl:null,imagesGroupNameEl:null,imagesPagingEl:null,imagesAreaEl:null,initialize:function(){},run:function(){this.selectGroupEl=$("selectGroup");this.imagesGroupNameEl=$("imagesGroupName");this.imagesPagingEl=$("imagesPaging");this.imagesAreaEl=$("imagesArea");this._drawGroups()},getGroup:function(a){this.layoutsPage=0;this._drawItems(a)},nextGroupPage:function(a){this.groupsPage=a;this._drawGroups()},nextLayoutsPage:function(a){if($("layoutPage"+this.layoutsPage)){$("layoutPage"+this.layoutsPage).className=""}this.layoutsPage=a;this._drawItems(this.shownGroup)},_drawGroups:function(){if(!this.data.groups||(this.data.groups&&0==this.data.groups.length)){return}this.shownGroup=null;this.layoutsPage=0;this.selectGroupEl.innerHTML="";var g=new Element("ul");var b=this.data.groups.length;var j=0;var h=b;var f=false;var k=0;if(b==(this.groupsInList+1)){this.groupsInList=b}if(b>this.groupsInList){if(0==this.groupsPage){j=0;h=this.groupsInList;k=parseInt(this.groupsPage,10)+1}else{j=parseInt(this.groupsPage*this.groupsInList,10);h=parseInt(j+this.groupsInList,10);k=parseInt(this.groupsPage,10)+1;if(h>=b){h=b;k=0}}f=true}this.firstGroupInList=j;for(var e=j;e<h;e++){var d=this.data.groups[e];var a=new Element("li");var l=new Element("a",{href:"#",id:"groupId"+e});Event.observe(l,"click",function(m){var i=$(Event.element(m));Layouts.getGroup(i.id.replace("groupId",""));Event.stop(m);return false});l.innerHTML=d.name;a.appendChild(l);g.appendChild(a)}this.selectGroupEl.appendChild(g);if(true==f){var c=new Element("a",{href:"#",id:"nextPage"+k,"class":"moreLink"});c.className="moreLink";Event.observe(c,"click",function(m){var i=$(Event.element(m));Layouts.nextGroupPage(i.id.replace("nextPage",""));Event.stop(m)});c.innerHTML=Layouts.labels.moreTemplates;this.selectGroupEl.appendChild(c)}this._drawItems(this.firstGroupInList);return null},_drawItems:function(e){if(!this.data.groups||(this.data.groups&&0==this.data.groups.length)||!this.data.items||(this.data.items&&0==this.data.items.length)){return}var d=this.data.groups[e];if(!d||!d.layouts||(d.layouts&&0==d.layouts.length)){return}if(e!=this.shownGroup){if(null!=this.shownGroup){$("groupId"+this.shownGroup).parentNode.className=""}this.shownGroup=e;this.imagesGroupNameEl.innerHTML=d.name;$("groupId"+e).parentNode.className="selected";this.imagesPagingEl.innerHTML=""}this.imagesAreaEl.innerHTML="";this.imagesAreaEl.className="";var j=d.layouts.length;var l=0;var k=j;if(j>this.layoutsInList){if(0==this.layoutsPage){l=0;k=this.layoutsInList}else{l=parseInt(this.layoutsPage*this.layoutsInList,10);k=parseInt(l+this.layoutsInList,10);if(k>j){k=j}}}for(var f=l;f<k;f++){var m=null;var h=this.data.items["layoutId"+d.layouts[f]];if(188<h.preview.width){m="left: -"+parseInt((h.preview.width-188)/2,10)+"px;"}var a=new Element("span");a.className="websiteImg";a.appendChild(new Element("i").update("<!-- -->"));a.appendChild(new Element("img",{src:this.previewLink+h.preview.src,height:h.preview.height,width:h.preview.width,alt:"",border:"0",style:m}));this.imagesAreaEl.appendChild(a)}if(0==this.layoutsPage&&j>this.layoutsInList){var c=parseInt(j/this.layoutsInList,10);if(0<c){this.imagesPagingEl.innerHTML="";for(var b=0;b<=c;b++){var g=new Element("i",{id:"layoutPage"+b}).update("<!-- -->");Event.observe(g,"click",function(n){var i=$(Event.element(n));Layouts.nextLayoutsPage(i.id.replace("layoutPage",""))});this.imagesPagingEl.appendChild(g)}}}if($("layoutPage"+this.layoutsPage)){$("layoutPage"+this.layoutsPage).className="selected"}}};var Layouts=new LayoutsClass();var LightboxClass=Class.create();LightboxClass.prototype={container:null,hideAfterClose:false,initialize:function(){if(null==$("bgFade")){var a=new Element("div",{id:"bgFade"});a.style.zIndex="1100";document.body.insertBefore(a,$("coverPage"))}},_hideLayer:function(a){if(this.hideAfterClose){$(a).style.display="none"}else{Element.remove($(a))}},close:function(){this._hideLayer(this.container);this._makeInvisible()},open:function(b,a){this.container=b;this._centerWindow(this.container,a);this._makeVisible()},_makeVisible:function(){$("bgFade").style.visibility="visible";Event.observe($("bgFade"),"click",function(){Lightbox.close()});var a=this.getPageSize();$("bgFade").style.height=a.pageHeight+"px"},_makeInvisible:function(){$("bgFade").style.visibility="hidden"},_centerWindow:function(b,f){var e=$(b);if(!f){f=document.body}var d=this.getWindowScroll();var c=0;if(f){var g=Element.cumulativeOffset(f);if(g.top){c=g.top}}var a=Math.round(d.top-c+(document.body.getHeight()-e.getHeight())/2);if(f&&a<g.top){a=15}e.style.top=a+"px";e.style.left=Math.round(d.left+(f.getWidth()-e.getWidth())/2)+"px"},webnodeVideo:function(b){var a=new Element("div",{id:"videoPlayer",style:"z-index: 2000"}).update(b);document.body.insertBefore(a,$("bgFade"))},getPageSize:function(){var e,a;if(window.innerHeight&&window.scrollMaxY){e=document.body.scrollWidth;a=window.innerHeight+window.scrollMaxY}else{if(document.body.scrollHeight>document.body.offsetHeight){e=document.body.scrollWidth;a=document.body.scrollHeight}else{e=document.body.offsetWidth;a=document.body.offsetHeight}}var c,f;if(self.innerHeight){c=self.innerWidth;f=self.innerHeight}else{if(document.documentElement&&document.documentElement.clientHeight){c=document.documentElement.clientWidth;f=document.documentElement.clientHeight}else{if(document.body){c=document.body.clientWidth;f=document.body.clientHeight}}}var d,b;if(a<f){d=f}else{d=a}if(e<c){b=c}else{b=e}return{pageWidth:b,pageHeight:d,windowWidth:c,windowHeight:f}},getWindowScroll:function(){var w=window;var T,L,W,H;with(w.document){if(w.document.documentElement&&documentElement.scrollTop){T=documentElement.scrollTop;L=documentElement.scrollLeft}else{if(w.document.body){T=body.scrollTop;L=body.scrollLeft}}if(w.innerWidth){W=w.innerWidth;H=w.innerHeight}else{if(w.document.documentElement&&documentElement.clientWidth){W=documentElement.clientWidth;H=documentElement.clientHeight}else{W=body.offsetWidth;H=body.offsetHeight}}}return{top:T,left:L,width:W,height:H}}};var Lightbox=new LightboxClass();var SignUpClass=Class.create();SignUpClass.prototype={projectNameKeyDownCnt:0,eMailRegexp:/^([a-zA-Z0-9_\.\-])+@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,projectNameMinLength:3,projectNameMaxLength:32,projectNameRegexp:/^[a-z0-9]([a-z0-9\-]){1,30}[a-z0-9\-]$/,pwdMinLength:6,nameIsAvailable:null,availableMsgEl:null,availableName:"",continuousTesting:false,currentlyTestedName:"",testedNames:new Array(),showedAlerts:new Array(),availabilityTestRun:false,formIsSent:false,clickedSubmitButton:false,projectNameRowWidth:0,projectNameWidth:0,projectNameFullWidth:0,domainTextWidth:0,projectNameEl:null,projectNameRowEl:null,projectDomainEl:null,userEMailEl:null,userEMailRowEl:null,userPwdEl:null,userPwdRowEl:null,signupDomainEl:null,loadingImg:null,termsEl:null,registrantFullNameEl:null,registrantFullNameElRow:null,messages:new Array(),cursorAdjustment:0,projectNameNotFilled:true,registrantFullNameNotFilled:true,waitingTableEl:null,waitingForSubmit:false,emailTouched:false,atSign:true,suggestionIsVisible:false,tu:null,initialize:function(){var a=this;Event.observe(window,"load",function(d){SignUpClass.tu=a.getCookieByName("tu");a.userEMailEl=$("signupUserEMail")||null;if(null!=a.userEMailEl){a.userEMailRowEl=$("signupUserEMailRow");Event.observe(a.userEMailEl,"focus",a._prepareEmail.bind(SignUp));if(PortalVersion.is2015()){Event.observe(a.userEMailEl,"focus",SimpleToggle.focus.bind(SimpleToggle,a.userEMailRowEl,a.userEMailEl));Event.observe(a.userEMailEl,"blur",SimpleToggle.blur.bind(SimpleToggle,a.userEMailRowEl,a.userEMailEl));if(a.userEMailEl.value){setTimeout(function(){a.userEMailRowEl.addClassName("not-empty")},500)}}Event.observe(a.userEMailEl,"focus",SignUpTracker.start.bind(SignUpTracker));Event.observe(a.userEMailEl,"change",SignUpTracker.start.bind(SignUpTracker));Event.observe(a.userEMailEl,"focus",SignUpTracker.startField.bind(SignUpTracker,"user"));Event.observe(a.userEMailEl,"blur",SignUpTracker.stopField.bind(SignUpTracker,"user"))}a.projectDomainEl=$("domain")||null;a.userPwdEl=$("signupUserPwd")||null;if(null!=a.userPwdEl){a.userPwdRowEl=$("signupUserPwdRow");if(PortalVersion.is2015()&&a.userPwdEl.value){setTimeout(function(){a.userPwdRowEl.addClassName("not-empty")},500)}Event.observe(a.userPwdEl,"focus",SignUpTracker.start.bind(SignUpTracker));Event.observe(a.userPwdEl,"change",SignUpTracker.start.bind(SignUpTracker));Event.observe(a.userPwdEl,"focus",SignUpTracker.startField.bind(SignUpTracker,"pwd"));Event.observe(a.userPwdEl,"blur",SignUpTracker.stopField.bind(SignUpTracker,"pwd"))}a.signupDomainEl=$("signupDomain")||null;if(null!=a.signupDomainEl){a.domainTextWidth=a.signupDomainEl.offsetWidth}a.projectNameEl=$("signupProjectName")||null;if(null!=a.projectNameEl){a.projectNameRowEl=$("registrantFullNameRow");if(PortalVersion.is2015()){Event.observe(a.projectNameEl,"focus",SimpleToggle.focus.bind(SimpleToggle,a.projectNameRowEl,a.projectNameEl));Event.observe(a.projectNameEl,"blur",SimpleToggle.blur.bind(SimpleToggle,a.projectNameRowEl,a.projectNameEl))}Event.observe(a.projectNameEl,"keypress",a.checkProjectName.bind(SignUp));Event.observe(a.projectNameEl,"paste",a.checkProjectName.bind(SignUp));Event.observe(a.projectNameEl,"blur",a.checkProjectName.bind(SignUp,"blur"));Event.observe(a.projectNameEl,"focus",a.setSizeProjectName.bind(SignUp));if(!PortalVersion.is2015()){a.availableMsgEl=new Element("span",{id:"signupAvailability"});a.projectNameRowEl.insertBefore(a.availableMsgEl,$(a.projectNameEl.id+"Label"))}a.projectNameRowWidth=a.projectNameRowEl.offsetWidth;if(!PortalVersion.is2015()){a.projectNameWidth=parseInt(a.projectNameRowWidth-a.domainTextWidth-38,10)}if(0<a.projectNameWidth){a.projectNameFullWidth=parseInt(a.projectNameRowWidth-38,10);if(Prototype.Browser.IE&&/MSIE 6\.0/.test(navigator.userAgent)){a.projectNameEl.style.marginRight=(a.domainTextWidth-17)+"px";a.projectNameFullWidth=a.projectNameFullWidth-17}a.projectNameEl.style.width=a.projectNameWidth+"px"}Event.observe(a.projectNameEl,"focus",SignUpTracker.start.bind(SignUpTracker));Event.observe(a.projectNameEl,"change",SignUpTracker.start.bind(SignUpTracker));Event.observe(a.projectNameEl,"focus",SignUpTracker.startField.bind(SignUpTracker,"project"));Event.observe(a.projectNameEl,"blur",SignUpTracker.stopField.bind(SignUpTracker,"project"))}a.registrantFullNameEl=$("registrantFullName")||null;if(PortalVersion.is2015()&&null!=a.registrantFullNameEl){a.registrantFullNameElRow=$("registrantFullNameRow")||null;Event.observe(a.registrantFullNameEl,"focus",SimpleToggle.focus.bind(SimpleToggle,a.registrantFullNameElRow,a.registrantFullNameEl));Event.observe(a.registrantFullNameEl,"blur",SimpleToggle.blur.bind(SimpleToggle,a.registrantFullNameElRow,a.registrantFullNameEl));if(a.registrantFullNameEl.value){setTimeout(function(){a.registrantFullNameElRow.addClassName("not-empty")},500)}}a.termsEl=$("signupTerms[terms]")||null;if(a.messages.loadingImg){a.loadingImg=new Image();a.loadingImg.src=a.messages.loadingImg}var c=$("headerSignUp").getElementsByClassName("inputAlert");for(var b=0;b<c.length;b++){switch(c[b].getAttribute("data-error-type")){case"antispam":keen.addKeenEvent("project_registration_submitted",{data:{userHash:SignUpClass.tu,success:false,reason:"invalid CSRF token"}});break}}if($$(".g-recaptcha").length){keen.addKeenEvent("project_registration_submitted",{data:{userHash:SignUpClass.tu,success:false,reason:"re-captcha shown"}})}})},getCookieByName:function(b){var a=b+"=";var e=decodeURIComponent(document.cookie);var f=e.split(";");for(var d=0;d<f.length;d++){var c=f[d];while(c.charAt(0)==" "){c=c.substring(1)}if(c.indexOf(a)==0){return c.substring(a.length,c.length)}}return""},onSubmit:function(a){this.clickedSubmitButton=true;if(true==this.formIsSent){return false}if(typeof grecaptcha!=="undefined"&&grecaptcha.getResponse()==""){$$(".g-recaptcha > div > div")[0].setStyle({border:"1px solid red","border-radius":"2px"});keen.addKeenEvent("project_registration_submitted",{data:{userHash:SignUpClass.tu,success:false,reason:"empty captcha"}});return false}if(false!=this.nameIsAvailable&&false!=this.availabilityTestRun){Forms.hideHint(true)}var d=(this.verifyEmail(true)&&this.verifyPassword(true));this.checkRegistrantFullName();this.checkProjectName("filled");if(this.projectNameNotFilled&&this.registrantFullNameNotFilled&&d&&null!=this.userEMailEl&&null!=this.userPwdEl){$("signInEmail").value=this.userEMailEl.value;$("signInPassword").value=this.userPwdEl.value;try{if(null!=$("t_l")){$("t_l").value=t.g()}}catch(g){$("t_l").value=g}$("headerSignIn").submit();SignUpTracker.trackLogin();return false}if(PortalVersion.is2015()&&!this.checkProjectNameFilled(true)){keen.addKeenEvent("project_registration_submitted",{data:{userHash:SignUpClass.tu,success:false,reason:"empty project name"}});return false}if(false==this.registrantFullNameNotFilled){this.nameIsAvailable=true;this.availabilityTestRun=false}if(d&&!this.nameIsAvailable&&!this.availabilityTestRun){if(null!=this.userEMailEl){if(!PortalVersion.is2015()){this._showWaitingTable(a)}else{SimpleToggle.toggle("form-reg","wait")}}this.waitingForSubmit=true;this.checkProjectName()}else{if(true==this.registrantFullNameNotFilled){this.checkProjectName()}}SignUpTracker.trackSubmit();if(!this.nameIsAvailable&&!(null==this.nameIsAvailable&&null==this.projectCheckUrl)){keen.addKeenEvent("project_registration_submitted",{data:{userHash:SignUpClass.tu,success:false,reason:"project name not available"}});return false}else{if(!this.verifyEmail()){keen.addKeenEvent("project_registration_submitted",{data:{userHash:SignUpClass.tu,success:false,reason:"invalid e-mail"}});return false}else{if(!this.verifyPassword()){keen.addKeenEvent("project_registration_submitted",{data:{userHash:SignUpClass.tu,success:false,reason:"invalid password"}});return false}else{if(!this._verifyTerms()){keen.addKeenEvent("project_registration_submitted",{data:{userHash:SignUpClass.tu,success:false,reason:"invalid terms agreement"}});return false}else{if(!PortalVersion.is2015()){this._showSendingInfo(a)}else{SimpleToggle.toggle("form-reg","wait")}SignUpTracker.trackValidSubmit();this.formIsSent=true;if(null!=$(a.id+"Button")){$(a.id+"Button").disabled=true}if(null!=this.registrantFullNameEl){var b=document.createElement("input");b.name="regname";b.type="hidden";b.value=this._normalizeProjectName(this.registrantFullNameEl.value);this.registrantFullNameEl.parentNode.appendChild(b)}try{var c=SignUp.registrantFullNameEl.getAttribute("data-abtype");if(null!=c){var f=document.createElement("input");f.name="regtype";f.type="hidden";f.value=c;this.registrantFullNameEl.parentNode.appendChild(f)}}catch(g){}try{if(null!=$("t")){$("t").value=t.g()}}catch(g){$("t").value=g}keen.addKeenEvent("project_registration_submitted",{data:{userHash:SignUpClass.tu,success:true}});a.submit()}}}}return false},checkProjectNameFilled:function(b){var d=this._getRegistrantName();if(d==""||d.length<1){this.registrantFullNameElRow.removeClassName("valid");var c=$(this.registrantFullNameEl.id+"Alert")||null;if(b==true&&c==null){Forms.createAlertHint(this.registrantFullNameElRow,this.registrantFullNameEl.id+"Alert",this.messages.shortName);Forms.isShowedAlert=true}return false}else{if(PortalVersion.is2015()){var e=this.registrantFullNameEl.id+"Alert"||null;var a="wrong";this.registrantFullNameElRow.removeClassName(a);this.registrantFullNameElRow.addClassName("valid");if(e!=null){Forms.hideHint(true,e)}}else{if(Forms.isShowedAlert){Forms.hideHint(true);Forms.isShowedAlert=false}}}return true},_prepareEmail:function(){if(!this.atSign||this.emailTouched||this.userEMailEl.value.strip()!=""){return}this.emailTouched=true;this.userEMailEl.value="@";this._setCursorPosition(this.userEMailEl,0)},_showSendingInfo:function(e){var b=e.childNodes;var a=b.length;for(var d=0;d<a;d++){if("fieldset"==b[d].nodeName.toLowerCase()){b[d].style.display="none"}}var f=new Element("div",{"class":"signupLoading"});f.className="signupLoading";var g=new Element("img",{src:this.loadingImg.src,"class":"loadingImg",width:68,height:68,border:0,alt:""});g.className="loadingImg";f.appendChild(g);var c=new Element("div",{"class":"loadingInfo"}).update(this.messages.loadingInfo);c.className="loadingInfo";f.appendChild(c);if("headerSignUp"==e.id&&!$("loginInfo")){e.style.top="275px"}e.appendChild(f)},_showWaitingTable:function(e){var b=e.childNodes;var a=b.length;for(var d=0;d<a;d++){if("fieldset"==b[d].nodeName.toLowerCase()){b[d].style.display="none"}}var f=new Element("div",{"class":"signupLoading"});f.className="signupLoading";if("headerSignUp"==e.id){f.style.marginTop="63px"}var g=new Element("img",{src:this.loadingImg.src,"class":"loadingImg",width:68,height:68,border:0,alt:""});g.className="loadingImg";f.appendChild(g);var c=new Element("div",{"class":"loadingInfo"}).update(this.messages.loadingInfo);c.className="loadingInfo";f.appendChild(c);e.appendChild(f);this.waitingTableEl=f},_hideWaitingTable:function(){if(!this.waitingTableEl){return}var d=this.waitingTableEl.parentNode;d.removeChild(this.waitingTableEl);this.waitingTableEl=null;var b=d.childNodes;var a=b.length;for(var c=0;c<a;c++){if("fieldset"==b[c].nodeName.toLowerCase()){b[c].style.display="block"}}},checkRegistrantFullName:function(){if(null!=this.registrantFullNameEl&&0<this.registrantFullNameEl.value.length){this.registrantFullNameNotFilled=false}else{this.registrantFullNameNotFilled=true}},checkProjectName:function(c){if(false!==this._getProjectName()&&0<this._getProjectName().length){this.projectNameNotFilled=false}else{this.projectNameNotFilled=true}if("filled"==c){return}if("blur"==c||null==c){if(Forms.isShowedAlert&&Forms.showedHint==Forms.hints[this.projectNameEl.id+"Alert"]){Forms.hideHint(true)}if("blur"==c&&0==this._getProjectName().length){return}else{var b=this._getProjectName();if(!PortalVersion.is2015()){this.projectNameEl.value=this._normalizeProjectName(b)}if(true==this._verifyProjectName()){this.setSizeProjectName(true);this.availabilityTestRun=true;this._availabilityTest()}}}else{if(("keypress"==c.type||"paste"==c.type)&&(true==this.continuousTesting||(false==this.availabilityTestRun&&2==this._getProjectName().length))){if(!PortalVersion.is2015()){this.continuousTesting=true}this.availabilityTestRun=true;var a=++this.projectNameKeyDownCnt;setTimeout(function(){if(a==SignUp.projectNameKeyDownCnt){var d=SignUp._getProjectName();var e=SignUp._getCursorPosition(SignUp.projectNameEl);if(!PortalVersion.is2015()){SignUp.projectNameEl.value=SignUp._normalizeProjectName(d,true)}if(null!=SignUp.signupDomainEl){if(SignUp.signupDomainEl.style.display=="none"){SignUp.projectNameEl.value+="."+SignUp.projectDomainEl.value.strip()}}if(document.activeElement==SignUp.projectNameEl){SignUp._setCursorPosition(SignUp.projectNameEl,e+SignUp.cursorAdjustment)}SignUp._availabilityTest()}},250)}}},_setCursorPosition:function(b,c){var d=c;if(b.createTextRange){var a=b.createTextRange();a.collapse(true);a.moveEnd("character",d);a.moveStart("character",c);a.select()}else{if(b.setSelectionRange){setTimeout(function(){try{b.setSelectionRange(c,d)}catch(f){}},10)}}},_getCursorPosition:function(b){if(b.createTextRange){var a=document.selection.createRange().duplicate();a.moveEnd("character",b.value.length);if(a.text==""){return b.value.length}return b.value.lastIndexOf(a.text)}else{return b.selectionStart}},_getProjectName:function(){if(null!=this.projectNameEl){return this.projectNameEl.value.replace("."+this.projectDomainEl.value.strip(),"")}return false},_getRegistrantName:function(){if(null!=this.registrantFullNameEl){return this.registrantFullNameEl.value.replace("."+this.projectDomainEl.value.strip(),"")}return false},_verifyProjectName:function(){var c=this._getProjectName();var a=this.projectDomainEl.value.strip();var b="";if(-1<c.search(a)){c=c.replace(a,"")}if(this.projectNameMinLength>c.length){b=this.messages.shortName;SignUpTracker.trackError("projectShortName")}else{if(this.projectNameMaxLength<c.length){b=this.messages.longName;SignUpTracker.trackError("projectLongName")}else{if(false==this.projectNameRegexp.test(c)){b=this.messages.invalidName;SignUpTracker.trackError("projectInvalidName")}}}if(""!=b){Forms.createAlertHint(this.projectNameRowEl,this.projectNameEl.id+"Alert",b);if(!PortalVersion.is2015()){SignUp.availableMsgEl.update("");SignUp.availableMsgEl.className=""}return false}if(Forms.isShowedAlert&&Forms.showedHint==Forms.hints[this.projectNameEl.id+"Alert"]){Forms.hideHint(true)}if(!PortalVersion.is2015()){this.continuousTesting=true}return true},_availabilityTest:function(){if(null==this.projectCheckUrl){return}var a=this._getProjectName();if(-1!=a.search(/-$/)){return}if(this.currentlyTestedName==a){this.availabilityTestRun=false;return}if(this.testedNames[a]){this.availabilityTestRun=false;if(!PortalVersion.is2015()){this._showAvailabilityResult(this.testedNames[a])}return this.nameIsAvailable}this.nameIsAvailable=false;this.currentlyTestedName=a;new Ajax.Request(decodeURIComponent(this.projectCheckUrl),{parameters:{name:a,"ajax-mode":1,hash:Math.round(Math.random()*1000000)},method:"get",onSuccess:function(c){if(c.request.parameters.name!=SignUp.currentlyTestedName){return}if(SignUp.waitingForSubmit){SignUp._hideWaitingTable()}SignUp.availabilityTestRun=false;var b=c.responseText.strip();SignUp.testedNames[SignUp._getProjectName()]=b;if(!PortalVersion.is2015()){SignUp._showAvailabilityResult(b)}SignUp.currentlyTestedName="";if(SignUp.waitingForSubmit){SignUp.waitingForSubmit=false;if(SignUp.nameIsAvailable){SignUp.onSubmit($("headerSignUp"))}}},onFailure:function(){if(SignUp.waitingForSubmit){SignUp.waitingForSubmit=false;SignUp._hideWaitingTable()}SignUpTracker.trackProjectName(SignUp.currentlyTestedName,false);SignUp.availabilityTestRun=false;if(true==Forms.isShowedAlert){Forms.hideHint(true)}if(!PortalVersion.is2015()){SignUp._showAvailabilityResult("unavailable")}SignUp.currentlyTestedName=""}})},_showAvailabilityResult:function(b){if(true==Forms.isShowedAlert){Forms.hideHint(true)}if("available"==b){this.nameIsAvailable=true;this.availableMsgEl.update(this.messages.available);this.availableMsgEl.className="";this.availableName=this._getProjectName();SignUpTracker.trackProjectName(this._getProjectName(),true);var a="error";if(PortalVersion.is2015()){a="wrong"}this.projectNameRowEl.removeClassName(a)}else{if("short"==b||"long"==b){this.nameIsAvailable=false;this.availableMsgEl.update("");this.availableMsgEl.className="";Forms.createAlertHint(this.projectNameRowEl,this.projectNameEl.id+"Alert",this.messages[b+"Name"]);SignUpTracker.trackError("projectInvalidName");SignUpTracker.trackProjectName(SignUp.currentlyTestedName,false)}else{SignUpTracker.trackProjectName(SignUp.currentlyTestedName,false);this.nameIsAvailable=false;this.availableMsgEl.className="not";if("unavailable"==b){this.availableMsgEl.update(this.messages.notAvailable);if(this.clickedSubmitButton){Forms.createAlertHint(this.projectNameRowEl,this.projectNameEl.id+"Alert",this.messages[b+"Name"]);SignUpTracker.trackError("projectUnavailableName")}}else{this.availableMsgEl.update("");Forms.createAlertHint(this.projectNameRowEl,this.projectNameEl.id+"Alert",this.messages[b+"Name"])}}}this.clickedSubmitButton=false},verifyEmail:function(b){if(null!=this.userEMailEl){if(0==this.userEMailEl.value.strip().length||false==this.eMailRegexp.test(this.userEMailEl.value.strip())){this.userEMailRowEl.removeClassName("valid");this.userEMailRowEl.removeClassName("warning");if(!b){Forms.hideHint(true,this.userEMailEl.id+"Alert");Forms.createAlertHint(this.userEMailRowEl,this.userEMailEl.id+"Alert",this.messages.invalidEmail);SignUpTracker.trackError("invalidEmail")}return false}else{var a="error";if(PortalVersion.is2015()){a="wrong"}this.userEMailRowEl.removeClassName(a);this.userEMailRowEl.removeClassName("warning");this.userEMailRowEl.addClassName("valid");if(PortalVersion.is2015()){this.trySuggestDomain()}else{if(true==Forms.isShowedAlert&&Forms.showedHint==Forms.hints[this.userEMailEl.id+"Alert"]){Forms.hideHint(true)}}}}return true},trySuggestDomain:function(){if(!this.messages.suggestionEmail){this.suggestionCallback(null);return}var a=this.userEMailEl.value.strip().split("@")[1];if(a in this.suggestions){this.suggestionCallback(this.suggestions[a]);return}var b=window.location.pathname+"?ajax_type=emailDomainSuggestion";new Ajax.Request(b,{method:"POST",parameters:{suggest:a},onSuccess:function(d){var c=d.responseText.evalJSON();this.suggestions[a]=c.data.suggestion;this.suggestionCallback(c.data.suggestion)}.bind(this)})},suggestionCallback:function(b){Forms.hideHint(true,this.userEMailEl.id+"Alert");this.suggestionIsVisible=false;if(b==null){return}this.userEMailRowEl.removeClassName("valid");this.userEMailRowEl.addClassName("warning");var c=this.userEMailEl.value.strip().split("@")[0];var d=c+"@"+b;var a='<a href="#" onclick="SignUp.applySuggestion(\''+d+"'); return false;\">"+d+"</a>";Forms.createAlertHint(this.userEMailRowEl,this.userEMailEl.id+"Alert",this.messages.suggestionEmail.replace("__SUGGESTION_EMAIL__",a));this.suggestionIsVisible=true;SignUpTracker.trackError("showSuggestion")},applySuggestion:function(a){this.userEMailEl.value=a;this.verifyEmail(true);SignUpTracker.trackError("applySuggestion")},suggestions:{"163.com":null,"a1.net":null,"abv.bg":null,"alice.it":null,"aol.com":null,"aon.at":null,"arcor.de":null,"atlas.cz":null,"atlas.sk":null,"azet.sk":null,"bbox.fr":null,"bk.ru":null,"bluewin.ch":null,"bol.com.br":null,"btinternet.com":null,"centrum.cz":null,"centrum.sk":null,"chello.at":null,"citromail.hu":null,"email.com":null,"email.cz":null,"email.it":null,"ezweb.ne.jp":null,"fpt.edu.vn":null,"free.fr":null,"freemail.hu":null,"freenet.de":null,"globo.com":null,"globomail.com":null,"gmail.com":null,"gmail.hu":null,"gmx.at":null,"gmx.ch":null,"gmx.com":null,"gmx.de":null,"gmx.es":null,"gmx.fr":null,"gmx.net":null,"googlemail.com":null,"hetnet.nl":null,"home.nl":null,"hotmail.be":null,"hotmail.ch":null,"hotmail.cl":null,"hotmail.co.jp":null,"hotmail.co.uk":null,"hotmail.com":null,"hotmail.com.ar":null,"hotmail.com.br":null,"hotmail.com.tr":null,"hotmail.cz":null,"hotmail.de":null,"hotmail.es":null,"hotmail.fr":null,"hotmail.gr":null,"hotmail.it":null,"hotmail.nl":null,"hotmail.se":null,"hotmail.sk":null,"i.softbank.jp":null,"icloud.com":null,"ig.com.br":null,"inbox.lv":null,"inbox.ru":null,"interia.pl":null,"iol.cz":null,"iol.pt":null,"ipsi.cat":null,"klikni.cz":null,"kpnmail.nl":null,"laposte.net":null,"libero.it":null,"list.ru":null,"live.at":null,"live.be":null,"live.cl":null,"live.co.uk":null,"live.com":null,"live.com.ar":null,"live.com.mx":null,"live.com.pt":null,"live.de":null,"live.dk":null,"live.fr":null,"live.it":null,"live.nl":null,"live.no":null,"live.se":null,"mail.bg":null,"mail.com":null,"mail.ru":null,"mail.t-com.sk":null,"me.com":null,"misena.edu.co":null,"msa.hinet.net":null,"msn.com":null,"mynet.com":null,"naver.com":null,"netcabo.pt":null,"neuf.fr":null,"nifty.com":null,"o2.pl":null,"oi.com.br":null,"onet.pl":null,"online.de":null,"online.nl":null,"ono.com":null,"op.pl":null,"orange.fr":null,"orangemail.sk":null,"otenet.gr":null,"outlook.be":null,"outlook.com":null,"outlook.com.br":null,"outlook.com.tr":null,"outlook.cz":null,"outlook.de":null,"outlook.es":null,"outlook.fr":null,"outlook.it":null,"outlook.jp":null,"outlook.pt":null,"planet.nl":null,"pobox.sk":null,"post.cz":null,"post.sk":null,"qq.com":null,"quick.cz":null,"r7.com":null,"rambler.ru":null,"rediffmail.com":null,"rocketmail.com":null,"rubicus.cz":null,"sapo.pt":null,"seznam.cz":null,"sfr.fr":null,"skynet.be":null,"stonline.sk":null,"szm.sk":null,"t-online.de":null,"telefonica.net":null,"telenet.be":null,"telia.com":null,"terra.com.br":null,"tin.it":null,"tiscali.cz":null,"tiscali.it":null,"ukr.net":null,"uol.com.br":null,"upcmail.nl":null,"vipmail.hu":null,"virgilio.it":null,"volny.cz":null,"vp.pl":null,"wanadoo.fr":null,"web.de":null,"webnode.com":null,"windowslive.com":null,"wo.cz":null,"wp.pl":null,"xs4all.nl":null,"ya.ru":null,"yahoo.ca":null,"yahoo.co.id":null,"yahoo.co.in":null,"yahoo.co.jp":null,"yahoo.co.uk":null,"yahoo.com":null,"yahoo.com.ar":null,"yahoo.com.au":null,"yahoo.com.br":null,"yahoo.com.hk":null,"yahoo.com.mx":null,"yahoo.com.tw":null,"yahoo.com.vn":null,"yahoo.de":null,"yahoo.es":null,"yahoo.fr":null,"yahoo.gr":null,"yahoo.it":null,"yahoo.ro":null,"yahoo.se":null,"yandex.com":null,"yandex.ru":null,"yandex.ua":null,"ymail.com":null,"yopmail.com":null,"ziggo.nl":null,"zipmail.com.br":null,"zoznam.sk":null},verifyPassword:function(b){if(null!=this.userPwdEl){if(PortalVersion.is2015()){if(this.userPwdEl.value.trim()==""&&this.suggestionIsVisible){return true}this.userPwdRowEl.removeClassName("valid")}if(this.pwdMinLength>this.userPwdEl.value.strip().length){if(!b){Forms.createAlertHint(this.userPwdRowEl,this.userPwdEl.id+"Alert",this.messages.invalidPassword);SignUpTracker.trackError("invalidPassword")}return false}else{if(this.userPwdEl.value.strip()==this._getProjectName()){if(!b){Forms.createAlertHint(this.userPwdRowEl,this.userPwdEl.id+"Alert",this.messages.samePassword);SignUpTracker.trackError("samePassword")}return false}else{var a="error";if(PortalVersion.is2015()){a="wrong";this.userPwdRowEl.addClassName("valid")}this.userPwdRowEl.removeClassName(a);if(PortalVersion.is2015){var c=this.userPwdEl.id+"Alert";Forms.hideHint(true,c)}else{if(true==Forms.isShowedAlert&&Forms.showedHint==Forms.hints[this.userPwdEl.id+"Alert"]){Forms.hideHint(true)}}}}}return true},_verifyTerms:function(){if(!this.termsEl){return true}if(!this.termsEl.checked){this.termsEl.parentElement.addClassName("wrong");SignUpTracker.trackError("termsNotChecked");return false}if(true==Forms.isShowedAlert&&Forms.showedHint==Forms.hints[this.termsEl.id+"Alert"]){Forms.hideHint(true)}return true},translit:{"\u00c1":"A","\u00c0":"A","\u00c2":"A","\u00c4":"A","\u01cd":"A","\u0102":"A","\u0100":"A","\u00c3":"A","\u00c5":"A","\u01fa":"A","\u0104":"A","\u00e1":"a","\u00e0":"a","\u00e2":"a","\u00e4":"a","\u01ce":"a","\u0103":"a","\u0101":"a","\u00e3":"a","\u00e5":"a","\u01fb":"a","\u0105":"a","\u00c6":"AE","\u01fc":"AE","\u01e2":"AE","\u00e6":"ae","\u01fd":"ae","\u01e3":"ae","\u0181":"B","\u0253":"b","\u0106":"C","\u010a":"C","\u0108":"C","\u010c":"C","\u00c7":"C","\u0107":"c","\u010b":"c","\u0109":"c","\u010d":"c","\u00e7":"c","\u010e":"D","\u1e0c":"D","\u0110":"D","\u018a":"D","\u00d0":"D","\u010f":"d","\u1e0d":"d","\u0111":"d","\u0257":"d","\u00f0":"d","\u00c9":"E","\u00c8":"E","\u0116":"E","\u00ca":"E","\u00cb":"E","\u011a":"E","\u0114":"E","\u0112":"E","\u0118":"E","\u1eb8":"E","\u018e":"E","\u018f":"E","\u0190":"E","\u00e9":"e","\u00e8":"e","\u0117":"e","\u00ea":"e","\u00eb":"e","\u011b":"e","\u0115":"e","\u0113":"e","\u0119":"e","\u1eb9":"e","\u01dd":"e","\u0259":"e","\u025b":"e","\u0120":"G","\u011c":"G","\u01e6":"G","\u011e":"G","\u0122":"G","\u0194":"G","\u0121":"g","\u011d":"g","\u01e7":"g","\u011f":"g","\u0123":"g","\u0263":"g","\u0124":"H","\u1e24":"H","\u0126":"H","\u0125":"h","\u1e25":"h","\u0127":"h",I:"I","\u00cd":"I","\u00cc":"I","\u0130":"I","\u00ce":"I","\u00cf":"I","\u01cf":"I","\u012c":"I","\u012a":"I","\u0128":"I","\u012e":"I","\u1eca":"I","\u0131":"i","\u00ed":"i","\u00ec":"i",i:"i","\u00ee":"i","\u00ef":"i","\u01d0":"i","\u012d":"i","\u012b":"i","\u0129":"i","\u012f":"i","\u1ecb":"i","\u0132":"IJ","\u0133":"ij","\u0134":"J","\u0135":"j","\u0136":"K","\u0198":"K","\u0137":"k","\u0199":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u0141":"L","\u013d":"L","\u013f":"L","\u013a":"l","\u013c":"l","\u0142":"l","\u013e":"l","\u0140":"l","\u0143":"N",N:"N","\u0147":"N","\u00d1":"N","\u0145":"N","\u014a":"N","\u0149":"n","\u0144":"n",n:"n","\u0148":"n","\u00f1":"n","\u0146":"n","\u014b":"n","\u00d3":"O","\u00d2":"O","\u00d4":"O","\u00d6":"O","\u01d1":"O","\u014e":"O","\u014c":"O","\u00d5":"O","\u0150":"O","\u01ea":"O","\u1ecc":"O","\u00d8":"O","\u01fe":"O","\u01a0":"O","\u00f3":"o","\u00f2":"o","\u00f4":"o","\u00f6":"o","\u01d2":"o","\u014f":"o","\u014d":"o","\u00f5":"o","\u0151":"o","\u01eb":"o","\u1ecd":"o","\u00f8":"o","\u01ff":"o","\u01a1":"o","\u0152":"OE","\u0153":"oe","\u0154":"R","\u0158":"R","\u0156":"R","\u0155":"r","\u0159":"r","\u0157":"r","\u017f":"r","\u015a":"S","\u015c":"S","\u0160":"S","\u015e":"S","\u0218":"S","\u1e62":"S","\u1e9e":"S","\u015b":"s","\u015d":"s","\u0161":"s","\u015f":"s","\u0219":"s","\u1e63":"s","\u00df":"s","\u0164":"T","\u0162":"T","\u1e6c":"T","\u0166":"T","\u00de":"T","\u021b":"t","\u0165":"t","\u0163":"t","\u1e6d":"t","\u0167":"t","\u00fe":"t","\u00da":"U","\u00d9":"U","\u00db":"U","\u00dc":"U","\u01d3":"U","\u016c":"U","\u016a":"U","\u0168":"U","\u0170":"U","\u016e":"U","\u0172":"U","\u1ee4":"U","\u01af":"U","\u00fa":"u","\u00f9":"u","\u00fb":"u","\u00fc":"u","\u01d4":"u","\u016d":"u","\u016b":"u","\u0169":"u","\u0171":"u","\u016f":"u","\u0173":"u","\u1ee5":"u","\u01b0":"u","\u1e82":"W","\u1e80":"W","\u0174":"W","\u1e84":"W","\u01f7":"W","\u1e83":"w","\u1e81":"w","\u0175":"w","\u1e85":"w","\u01bf":"w","\u00dd":"Y","\u1ef2":"Y","\u0176":"Y","\u0178":"Y","\u0232":"Y","\u1ef8":"Y","\u01b3":"Y","\u00fd":"y","\u1ef3":"y","\u0177":"y","\u00ff":"y","\u0233":"y","\u1ef9":"y","\u01b4":"y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u0410":"A","\u0411":"B","\u0412":"V","\u0413":"G","\u0414":"D","\u0404":"JE","\u0415":"E","\u0401":"YO","\u0416":"ZH","\u0417":"Z","\u0418":"I","\u0419":"J",K:"K","\u041a":"K","\u041b":"L","\u041c":"M","\u041d":"N","\u041e":"O","\u041f":"P","\u0420":"R","\u0421":"S","\u0422":"T","\u0423":"U","\u0424":"F","\u0425":"KH","\u0426":"TS","\u0427":"CH","\u0428":"SH","\u0429":"SHCH","\u042a":"","\u042b":"Y","\u042c":"","\u042d":"E","\u042e":"YU","\u042f":"YA","\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0454":"je","\u0435":"e","\u0451":"yo","\u0436":"zh","\u0437":"z","\u0438":"i","\u0439":"j",k:"k","\u043a":"k","\u043b":"l","\u043c":"m","\u043d":"n","\u043e":"o","\u043f":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"kh","\u0446":"ts","\u0447":"ch","\u0448":"sh","\u0449":"shch","\u044a":"","\u044b":"y","\u044c":"","\u044d":"e","\u044e":"yu","\u044f":"ya","\u0490":"G","\u0491":"g","\u0406":"I","\u0456":"i","\u0407":"JI","\u0457":"ji","\u0391":"A","\u0386":"A","\u0392":"V","\u0393":"G","\u0394":"D","\u0395":"E","\u0388":"E","\u0396":"Z","\u0397":"I","\u0389":"I","\u0398":"Th","\u0399":"I","\u038a":"I","\u03aa":"I","\u039a":"K","\u039b":"L","\u039c":"M","\u039d":"N","\u039e":"X","\u039f":"O","\u038c":"O","\u03a0":"P","\u03a1":"R","\u03a3":"S","\u03a4":"T","\u03a5":"Y","\u038e":"Y","\u03ab":"Y","\u03a6":"F","\u03a7":"Ch","\u03a8":"Ps","\u03a9":"O","\u038f":"O","\u03b1":"a","\u03ac":"a","\u03b2":"v","\u03b3":"g","\u03b4":"d","\u03b5":"e","\u03ad":"e","\u03b6":"z","\u03b7":"i","\u03ae":"i","\u03b8":"th","\u03b9":"i","\u03af":"i","\u03ca":"i","\u0390":"i","\u03ba":"k","\u03bb":"l","\u03bc":"m","\u03bd":"n","\u03be":"x","\u03bf":"o","\u03cc":"o","\u03c0":"p","\u03c1":"r","\u03c3":"s","\u03c2":"s","\u03c4":"t","\u03c5":"y","\u03cd":"y","\u03cb":"y","\u03b0":"y","\u03c6":"F","\u03c7":"ch","\u03c8":"ps","\u03c9":"o","\u03ce":"o","\u0651":"#","\u062a\u0629":"t'h","\u062a\u0647":"t'h","\u0643\u0629":"k'h","\u0643\u0647":"k'h","\u062f\u0647":"d'h","\u062f\u0629":"d'h","\u0636\u0647":"d'h","\u0636\u0629":"d'h","\u0633\u0647":"s'h","\u0633\u0629":"s'h","\u0635\u0647":"s'h","\u0635\u0629":"s'h","\u064e\u0627":"a","\u064e\u064a":"a","\u064f\u0648":"ou","\u0650\u064a":"ei","\u064b":"an","\u064c":"un","\u064d":"in","\u064e":"a","\u0650":"i","\u064f":"u","\u0627":"a","\u0628":"b","\u062a":"t","\u062b":"th","\u062c":"j","\u062d":"h","\u062e":"kh","\u062f":"d","\u0630":"dh","\u0631":"r","\u0632":"z","\u0633":"s","\u0634":"sh","\u0635":"s","\u0636":"d","\u0637":"t","\u0638":"z","\u0639":"'","\u063a":"gh","\u0641":"f","\u0642":"q","\u0643":"k","\u0644":"l","\u0645":"m","\u0646":"n","\u0647":"h","\u0629":"h","\u0648":"w","\u064a":"y","\u0649":"a","\u0623":"'a","\u0625":"i","\u0621":"'a","\u0624":"u'","\u0626":"'i","\u0622":"'aa","\u0652":"","\u060c":",","\u061f":"?"},translitPre:{"\u042c\u0415":"JE","\u044c\u0415":"jE","\u042c\u0435":"Je","\u044c\u0435":"je","\u0427\u0401":"CHE","\u0447\u0401":"chE","\u0428\u0401":"SHE","\u0448\u0401":"shE","\u0429\u0401":"SHCHE","\u0449\u0401":"shchE","\u0416\u0401":"ZHE","\u0436\u0401":"zhE","\u0427\u0451":"CHe","\u0447\u0451":"che","\u0428\u0451":"SHe","\u0448\u0451":"she","\u0429\u0451":"SHCHe","\u0449\u0451":"shche","\u0416\u0451":"ZHe","\u0436\u0451":"zhe","\u0417\u0413":"ZGH","\u0437\u0413":"zGH","\u0417\u0433":"Zgh","\u0437\u0433":"zgh"},translitRules:{"^\u0627\u0644":"Al-","^\u0625\u0650\u064a":"ei","^\u0639\u0650\u064a":"ei","^\u0639\u064f\u0648":"ou","\u0652\u0639$":"a","\u0650\u064a$":"i","\u064e\u0648$":"aw","\u064e\u064a$":"ay","^\u0639":"a","^\u0623":"a","^\u0622":"aa"},_normalizeProjectName:function(e,h){if(false==e){return""}e=e.strip();var c=e;for(var j in this.translitPre){var a=this.translitPre[j];c=c.replace(new RegExp(j,"g"),a)}c=c.toLowerCase().strip();var g="";for(var b=0;b<c.length;b++){g+=(typeof this.translit[c.charAt(b)]!="undefined"?this.translit[c.charAt(b)]:c.charAt(b))}for(var d in this.translitRules){var a=this.translitRules[d];var f=new RegExp(d,"gi");g=g.replace(f,a)}c=g.replace(/^-/g,"").replace(/^www/g,"-").replace(/webnode/g,"-").replace(/[^a-z0-9]+/g,"-");if(!h){c=c.replace(/-$/g,"")}if(!c){c=e}this.cursorAdjustment=c.length-e.length;return c},setSizeProjectName:function(a){if(true==a){this.projectNameEl.value=this._getProjectName()+"."+this.projectDomainEl.value.strip();if(null!=this.signupDomainEl){this.signupDomainEl.hide()}if(!PortalVersion.is2015()){this.projectNameEl.style.width=this.projectNameFullWidth+"px"}if(Prototype.Browser.IE&&/MSIE 6\.0/.test(navigator.userAgent)){this.projectNameEl.style.marginRight="0"}}else{this.projectNameEl.value=this._getProjectName();this.projectNameEl.className="";if(null!=this.signupDomainEl){this.signupDomainEl.show()}if(null!=this.projectNameWidth){if(!PortalVersion.is2015()){this.projectNameEl.style.width=this.projectNameWidth+"px"}if(Prototype.Browser.IE&&/MSIE 6\.0/.test(navigator.userAgent)&&null!=this.domainTextWidth){this.projectNameEl.style.marginRight=(this.domainTextWidth-17)+"px"}}}}};var SignUp=new SignUpClass();var BottomHeaderClass=Class.create();BottomHeaderClass.prototype={linkEl:null,open:false,initialize:function(){if($("firstBlock")&&$("firstBlock").hasClassName("open")){this.onClick()}else{}},onClick:function(b){if(b){Event.stop(b)}if(this.open){return}this.open=true;$("firstHeader").style.display="block";var c=$("firstBlock");c.style.overflow="visible";c.style.height="auto";var a=c.getHeight();if(Prototype.Browser.IE&&parseInt(navigator.userAgent.substring(navigator.userAgent.indexOf("MSIE")+5))==6){}else{}}};var BottomHeader=new BottomHeaderClass();var DiscussionClass=Class.create();DiscussionClass.prototype={initialize:function(){},replace:function(){var a=$$(".commentText");a.each(function(d){var b=/((((https?|ftp):\/\/(www\.)?|www\.)([\w-]+)+|[\w-]+\.webnode|[\w-]{4,})\.[a-z]{2,6}([\.:;,]?[a-z0-9\/\?&\-=#%])*)/ig;var c=d.innerHTML.replace(b,'<a href="$1" target="_blank">$1</a>');b=/(href=")((?!(https?|ftp):\/\/)[^"]*")/ig;d.innerHTML=c.replace(b,"$1http://$2")})}};var Discussion=new DiscussionClass();var SignUpTrackerClass=Class.create();SignUpTrackerClass.prototype={enabled:false,started:false,saved:false,data:{errors:0,errorReasons:{},submits:0,validSubmit:false,formFields:[],time:{tz:null,load:0,start:0,submit:0,valid:0,unload:0},projectNames:[],steps:{page:0,form:0}},timeFields:{},currentTime:{start:0,field:""},initialize:function(){var a=new Date();this.data.time.load=a.getTime();this.data.time.tz=a.getTimezoneOffset();Event.observe(window,"beforeunload",this._saveOnBeforeUnload.bind(this))},start:function(){if(this.started){return}this.data.time.start=new Date().getTime();this.started=true},startField:function(a){if(this.currentTime.start>0){if(this.currentTime.field==a){return}this.stopField(this.currentTime.field)}this.currentTime.start=new Date().getTime();this.currentTime.field=a},stopField:function(a){if(this.currentTime.field==a){var b=(new Date().getTime())-this.currentTime.start;if(b>100){if("undefined"==typeof this.timeFields[a]){this.timeFields[a]=0}this.timeFields[a]+=b}}this.currentTime.start=0;this.currentTime.field=""},trackError:function(a){this.data.errors++;if(typeof this.data.errorReasons[a]==="undefined"){this.data.errorReasons[a]=0}this.data.errorReasons[a]++;this._saveFormFields(a)},trackSubmit:function(){this.started=true;this.data.time.submit=new Date().getTime();this.data.submits++},trackValidSubmit:function(){if(this.saved){return}this.data.time.valid=new Date().getTime();this.data.validSubmit=true;this._saveFormFields("validSubmit");this._sendData()},trackProjectName:function(a,b){this.data.projectNames.push({time:(new Date().getTime()),name:a,available:b})},_saveOnBeforeUnload:function(){if(this.saved){return}if(!this.started){return}this._saveFormFields("unload");this.data.time.unload=new Date().getTime();this._sendData()},_sendData:function(){if(!this.enabled){return}this.saved=true;var a=Object.toJSON(this.data);new Ajax.Request("/tracking/",{method:"post",parameters:{data:a}})},_saveFormFields:function(a){var d="projectName";if(null!=SignUp.registrantFullNameEl){d="fullName";try{var b=SignUp.registrantFullNameEl.getAttribute("data-abtype");if(null!=b){d+="-"+b}}catch(c){}}this.data.formFields.push({reason:a,time:(new Date().getTime()),project:(SignUp.projectNameEl?SignUp.projectNameEl.value:(SignUp.registrantFullNameEl?SignUp._normalizeProjectName(SignUp.registrantFullNameEl.value):null)),user:(SignUp.userEMailEl?SignUp.userEMailEl.value:null),pwdLen:(SignUp.userPwdEl?SignUp.userPwdEl.value.length:null),terms:(SignUp.termsEl?Boolean(SignUp.termsEl.checked):null),timeFields:this.timeFields,testType:d,testProject:(SignUp.registrantFullNameEl?SignUp.registrantFullNameEl.value:null)});this.timeFields={}},trackLogin:function(){this._saveFormFields("login")}};var SignUpTracker=new SignUpTrackerClass();function directGetTargetElement(b,a){var c=b.target||b.srcElement;if(c.className.indexOf(a)<0){c=c.parentNode;while(c&&typeof(c)=="object"){if(c.className&&c.className.indexOf(a)>-1){break}else{c=c.parentNode;if(!c||c.nodeName=="#document"){c=null;break}}}}return(c)}function html_entity_decode(b){var a=document.createElement("textarea");a.innerHTML=b.replace(/</g,"&lt;").replace(/>/g,"&gt;");return a.value}var FacebookClass=Class.create();FacebookClass.prototype={initialize:function(){},homepageWidget:function homepageWidget(b,c,a){if(null==$("homepageFacebookWidget")){return}$("homepageFacebookWidget").innerHTML='<div id="fb-root"></div><fb:fan profile_id="'+b+'" stream="0" connections="40" width="'+c+'" height="'+a+'" css="http://www.webnode.com/css/hp.facebook.css?1"></fb:fan>';this.load()},columnBoxWidget:function columnBoxWidget(b,c,a){if(null==$("facebookScript")){return}$("facebookScript").innerHTML='<div id="fb-root"></div><fb:fan profile_id="'+b+'" stream="0" connections="10" width="'+c+'" height="'+a+'" css="http://www.webnode.com/css/new.facebook.css?1"></fb:fan>';setTimeout(this.load.bind(this),5000)},load:function load(){if(null!=window.fbAsyncInit){return}(function(c){var b,e="facebook-jssdk",a=c.getElementsByTagName("script")[0];if(c.getElementById(e)){return}b=c.createElement("script");b.id=e;b.async=true;b.src="//connect.facebook.net/en_US/all.js";a.parentNode.insertBefore(b,a)}(document));window.fbAsyncInit=function(){try{FB.init({status:true,cookie:true,xfbml:true})}catch(a){}}}};var Facebook=new FacebookClass();var t=Class.create();t.prototype={s_t:new Date().getTime(),e:[["page_load",0]],er:[],t:"Ows1trd 46 _th Ro/f",id:[["registrantFullName","change"],["registrantFullName","keydown"],["signupUserEMail","change"],["signupUserEMail","keydown"],["signupUserPwd","change"],["signupUserPwd","keydown"],["user","change"],["user","keydown"],["passwd","keydown"],["passwd","keydown"],["signInEmail","change"],["signInEmail","keydown"],["signInPassword","change"],["signInPassword","keydown"]],f:{request_time:new Date().getTime()},initialize:function(){Event.observe(window,"load",this._r.bind(this));try{this._c_c()}catch(a){this.er.push(a)}try{this._g_d()}catch(a){this.er.push(a)}},_r:function(){for(var a=0;a<this.id.length;a++){if($(this.id[a][0])!=null){Event.observe($(this.id[a][0]),this.id[a][1],this._ev.bind(this))}}},_ev:function(b){var a=Event.element(b);this.e.push([a.id+"-"+b.type,new Date().getTime()-this.s_t])},g:function(){this.f.requests=this.e;if(this.er.length>0){this.f.errors=this.er}var d=Object.toJSON(this.f);var e=Math.floor(Math.random()*11);var b=Math.random().toString(36).substring(c)+"|";var c=this._b(b+d);return c+this._b(c).substr(0,8)},_g_d:function(){var b=[];for(var a=0;a<navigator.plugins.length;a++){b.push({name:navigator.plugins[a].name,description:navigator.plugins[a].description,filename:navigator.plugins[a].filename})}b.sort(this._s_b("name",true,function(c){return c.toUpperCase()}));this.f.plugins=b;this.f.resolution=screen.width+"x"+screen.height+"x"+screen.colorDepth;this.f.timezone=new Date().getTimezoneOffset();this.f.browser={};this.f.browser["codename"]=navigator.appCodeName;this.f.browser["name"]=navigator.appName;this.f.browser["version"]=navigator.appVersion;this.f.browser["enabled"]=navigator.cookieEnabled;this.f.browser["language"]=navigator.language;this.f.browser["online"]=navigator.onLine;this.f.browser["platform"]=navigator.platform;this.f.browser["ua_header"]=navigator.userAgent;this.f.browser["ua_language"]=navigator.systemLanguage},_c_c:function(){var d=new Element("canvas");var b=d.getContext("2d");var a=this.t;b.textBaseline="top";b.font="14px 'Arial'";b.textBaseline="alphabetic";b.fillStyle="#f60";b.fillRect(125,1,62,20);b.fillStyle="#069";b.fillText(a,2,15);b.fillStyle="rgba(102, 204, 0, 0.7)";b.fillText(a,4,17);this.f.canvas=d.toDataURL()},_s_b:function(c,b,d){var a=d?function(e){return d(e[c])}:function(e){return e[c]};b=[-1,1][+!!b];return function(f,e){return f=a(f),e=a(e),b*((f>e)-(e>f))}},_b:function(c){var a={_k:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e:function(e){var b="";var m,k,h,l,j,g,f;var d=0;e=a._u_e(e);while(d<e.length){m=e.charCodeAt(d++);k=e.charCodeAt(d++);h=e.charCodeAt(d++);l=m>>2;j=((m&3)<<4)|(k>>4);g=((k&15)<<2)|(h>>6);f=h&63;if(isNaN(k)){g=f=64}else{if(isNaN(h)){f=64}}b=b+this._k.charAt(l)+this._k.charAt(j)+this._k.charAt(g)+this._k.charAt(f)}return b},_u_e:function(d){d=d.replace(/\r\n/g,"\n");var b="";for(var f=0;f<d.length;f++){var e=d.charCodeAt(f);if(e<128){b+=String.fromCharCode(e)}else{if((e>127)&&(e<2048)){b+=String.fromCharCode((e>>6)|192);b+=String.fromCharCode((e&63)|128)}else{b+=String.fromCharCode((e>>12)|224);b+=String.fromCharCode(((e>>6)&63)|128);b+=String.fromCharCode((e&63)|128)}}}return b}};return a.e(c)}};var SignInClass=Class.create();SignInClass.prototype={isFormSent:false,initialize:function(){Event.observe(window,"load",function(c){if(PortalVersion.is2015()){var b=$("signInName");if(b&&b.value){setTimeout(function(){b.parentNode.addClassName("not-empty")},500)}var a=$("signInPassword");if(a&&a.value){setTimeout(function(){a.parentNode.addClassName("not-empty")},500)}}})},onSubmit:function(a){if(this.isFormSent){return false}var b=$$("#"+a.id+" #t_l").length>0?$$("#"+a.id+" #t_l"):$$("#"+a.id+" #t_l2");if(null!=b){b=b[0];try{if(null!=b){b.value=t.g()}}catch(c){b.value=c}}this.isFormSent=true;return true}};var SignIn=new SignInClass();var SimpleToggleClass=Class.create();SimpleToggleClass.prototype={initialize:function(){this.initializeElement("userNameField");this.initializeElement("signupUserPwd");this.initializeElement("signInName");this.initializeElement("signInPassword")},initializeElement:function(b){var c=$(b);var a=$(b+"Row");if(c&&a){Event.observe(c,"focus",this.focus.bind(this,a,c));Event.observe(c,"blur",this.blur.bind(this,a,c))}},toggle:function(c,b){var a=document.getElementsByClassName(c)[0];a.toggleClassName(b);return false},toggleElement:function(a,b){a.toggleClassName(b);return false},focus:function(b,a){b.addClassName("focus")},blur:function(b,a){b.removeClassName("focus");if(a.value.trim()!=""&&!b.hasClassName("not-empty")){b.addClassName("not-empty")}else{if(a.value.trim()==""&&b.hasClassName("not-empty")){b.removeClassName("not-empty")}}if(a.id=="registrantFullName"){SignUp.checkProjectNameFilled(true)}if(a.id=="signupUserPwd"){SignUp.verifyPassword(false)}if(a.id=="signupUserEMail"){SignUp.verifyEmail(false)}},openRegistration:function(){this.toggle("form-reg","open");this.toggle("webnode","active")}};var SimpleToggle=new SimpleToggleClass();var PortalVersionClass=Class.create();PortalVersionClass.prototype={initialize:function(){},getVersion:function(){if(typeof portalVersion=="undefined"){return 2013}return portalVersion},is2015:function(){return this.getVersion()==2015}};var PortalVersion=new PortalVersionClass();var CryptClass=Class.create();CryptClass.prototype={initialize:function(){},sha1:function(r){var c=function(x,j){var i=(x<<j)|(x>>>(32-j));return i};var s=function(z){var y="";var x;var j;for(x=7;x>=0;x--){j=(z>>>(x*4))&15;y+=j.toString(16)}return y};var f;var v,u;var b=new Array(80);var l=1732584193;var h=4023233417;var g=2562383102;var e=271733878;var d=3285377520;var q,p,o,n,m;var w;var a=r.length;var k=[];for(v=0;v<a-3;v+=4){u=r.charCodeAt(v)<<24|r.charCodeAt(v+1)<<16|r.charCodeAt(v+2)<<8|r.charCodeAt(v+3);k.push(u)}switch(a%4){case 0:v=2147483648;break;case 1:v=r.charCodeAt(a-1)<<24|8388608;break;case 2:v=r.charCodeAt(a-2)<<24|r.charCodeAt(a-1)<<16|32768;break;case 3:v=r.charCodeAt(a-3)<<24|r.charCodeAt(a-2)<<16|r.charCodeAt(a-1)<<8|128;break}k.push(v);while((k.length%16)!=14){k.push(0)}k.push(a>>>29);k.push((a<<3)&4294967295);for(f=0;f<k.length;f+=16){for(v=0;v<16;v++){b[v]=k[f+v]}for(v=16;v<=79;v++){b[v]=c(b[v-3]^b[v-8]^b[v-14]^b[v-16],1)}q=l;p=h;o=g;n=e;m=d;for(v=0;v<=19;v++){w=(c(q,5)+((p&o)|(~p&n))+m+b[v]+1518500249)&4294967295;m=n;n=o;o=c(p,30);p=q;q=w}for(v=20;v<=39;v++){w=(c(q,5)+(p^o^n)+m+b[v]+1859775393)&4294967295;m=n;n=o;o=c(p,30);p=q;q=w}for(v=40;v<=59;v++){w=(c(q,5)+((p&o)|(p&n)|(o&n))+m+b[v]+2400959708)&4294967295;m=n;n=o;o=c(p,30);p=q;q=w}for(v=60;v<=79;v++){w=(c(q,5)+(p^o^n)+m+b[v]+3395469782)&4294967295;m=n;n=o;o=c(p,30);p=q;q=w}l=(l+q)&4294967295;h=(h+p)&4294967295;g=(g+o)&4294967295;e=(e+n)&4294967295;d=(d+m)&4294967295}w=s(l)+s(h)+s(g)+s(e)+s(d);return w.toLowerCase()}};var Crypt=new CryptClass();var SessionRefresherClass=Class.create();SessionRefresherClass.prototype={refreshLoginTimer:null,refreshLoginInterval:60*10*1000,sessionCookieIdentifier:"tc",canReloadPage:false,checkIfCanReloadPageCount:0,checkIfCanReloadPageMaxCount:10,initialize:function(){this.canReloadPage=this.isSessionCookieSet();if(!this.canReloadPage){this.checkInLoopIfCanReloadPage()}},checkInLoopIfCanReloadPage:function(){var a=this;setTimeout(function(){a.checkIfCanReloadPageCount++;a.canReloadPage=a.isSessionCookieSet();if(!a.canReloadPage&&a.checkIfCanReloadPageCount<=a.checkIfCanReloadPageMaxCount){a.checkInLoopIfCanReloadPage()}},2000)},initRefreshLoginTimer:function(){this.refreshLoginTimer=window.setInterval(function(){jQuery.ajax({method:"POST",url:location.href,cache:false,data:{ajax_type:"refreshLogin"}})},this.refreshLoginInterval)},initWindowFocusRefresh:function(){var a=this;window.onfocus=function(){if(a.canReloadPage&&!a.isSessionCookieSet()){location.reload()}}},isSessionCookieSet:function(){return document.cookie.indexOf(this.sessionCookieIdentifier+"=")>=0}};var SessionRefresher=new SessionRefresherClass();function PHP_Serializer(UTF8){function serialize(v){var s;switch(v){case null:s="N;";break;default:s=this[this.__sc2s(v)]?this[this.__sc2s(v)](v):this[this.__sc2s(__o)](v);break}return s}function unserialize(s){__c=0;__s=s;return this[__s.substr(__c,1)]()}function stringBytes(s){return s.length}function stringBytesUTF8(s){var c,b=0,l=s.length;while(l){c=s.charCodeAt(--l);b+=(c<128)?1:((c<2048)?2:((c<65536)?3:4))}return b}function __sc2s(v){return v.constructor.toString()}function __sc2sKonqueror(v){var f;switch(typeof(v)){case ("string"||v instanceof String):f="__sString";break;case ("number"||v instanceof Number):f="__sNumber";break;case ("boolean"||v instanceof Boolean):f="__sBoolean";break;case ("function"||v instanceof Function):f="__sFunction";break;default:f=(v instanceof Array)?"__sArray":"__sObject";break}return f}function __sNConstructor(c){return(c==="[function]"||c==="(Internal Function)")}function __sCommonAO(v){var b,n,a=0,s=[];for(b in v){n=v[b]==null;if(n||v[b].constructor!=Function){s[a]=[(!isNaN(b)&&parseInt(b).toString()===b?this.__sNumber(b):this.__sString(b)),(n?"N;":this[this.__sc2s(v[b])]?this[this.__sc2s(v[b])](v[b]):this[this.__sc2s(__o)](v[b]))].join("");++a}}return[a,s.join("")]}function __sBoolean(v){return["b:",(v?"1":"0"),";"].join("")}function __sNumber(v){var s=v.toString();return(s.indexOf(".")<0?["i:",s,";"]:["d:",s,";"]).join("")}function __sString(v){return["s:",v.length,':"',v,'";'].join("")}function __sStringUTF8(v){return["s:",this.stringBytes(v),':"',v,'";'].join("")}function __sArray(v){var s=this.__sCommonAO(v);return["a:",s[0],":{",s[1],"}"].join("")}function __sObject(v){var o=this.__sc2s(v),n=o.substr(__n,(o.indexOf("(")-__n)),s=this.__sCommonAO(v);if(v.getClassName){n=v.getClassName()}return["O:",this.stringBytes(n),':"',n,'":',s[0],":{",s[1],"}"].join("")}function __sObjectIE7(v){var o=this.__sc2s(v),n=o.substr(__n,(o.indexOf("(")-__n)),s=this.__sCommonAO(v);if(n.charAt(0)===" "){n=n.substring(1)}if(v.getClassName){n=v.getClassName()}return["O:",this.stringBytes(n),':"',n,'":',s[0],":{",s[1],"}"].join("")}function __sObjectKonqueror(v){var o=v.constructor.toString(),n=this.__sNConstructor(o)?"Object":o.substr(__n,(o.indexOf("(")-__n)),s=this.__sCommonAO(v);if(v.getClassName){n=v.getClassName()}return["O:",this.stringBytes(n),':"',n,'":',s[0],":{",s[1],"}"].join("")}function __sFunction(v){return""}function __uCommonAO(tmp){var a,k;++__c;a=__s.indexOf(":",++__c);k=parseInt(__s.substr(__c,(a-__c)))+1;__c=a+2;while(--k){tmp[this[__s.substr(__c,1)]()]=this[__s.substr(__c,1)]()}return tmp}function __uBoolean(){var b=__s.substr((__c+2),1)==="1"?true:false;__c+=4;return b}function __uNumber(){var sli=__s.indexOf(";",(__c+1))-2,n=Number(__s.substr((__c+2),(sli-__c)));__c=sli+3;return n}function __uStringUTF8(){var c,sls,sli,vls,pos=0;__c+=2;sls=__s.substr(__c,(__s.indexOf(":",__c)-__c));sli=parseInt(sls);vls=sls=__c+sls.length+2;while(sli){c=__s.charCodeAt(vls);pos+=(c<128)?1:((c<2048)?2:((c<65536)?3:4));++vls;if(pos===sli){sli=0}}pos=(vls-sls);__c=sls+pos+2;return __s.substr(sls,pos)}function __uString(){var sls,sli;__c+=2;sls=__s.substr(__c,(__s.indexOf(":",__c)-__c));sli=parseInt(sls);sls=__c+sls.length+2;__c=sls+sli+2;return __s.substr(sls,sli)}function __uArray(){var a=this.__uCommonAO([]);++__c;return a}function __uObject(){var tmp=["s",__s.substr(++__c,(__s.indexOf(":",(__c+3))-__c))].join(""),a=tmp.indexOf('"'),l=tmp.length-2,o=tmp.substr((a+1),(l-a));if(eval(["typeof(",o,") === 'undefined'"].join(""))){eval(["function ",o,"(){};"].join(""))}__c+=l;eval(["tmp = this.__uCommonAO(new ",o,"());"].join(""));++__c;return tmp}function __uNull(){__c+=2;return null}function __constructorCutLength(){function ie7bugCheck(){}var o1=new ie7bugCheck(),o2=new Object(),c1=__sc2s(o1),c2=__sc2s(o2);if(c1.charAt(0)!==c2.charAt(0)){__ie7=true}return(__ie7||c2.indexOf("(")!==16)?9:10}var __c=0,__ie7=false,__b=__sNConstructor(__c.constructor.toString()),__n=__b?9:__constructorCutLength(),__s="",__a=[],__o={},__f=function(){};PHP_Serializer.prototype.serialize=serialize;PHP_Serializer.prototype.unserialize=unserialize;PHP_Serializer.prototype.stringBytes=UTF8?stringBytesUTF8:stringBytes;if(__b){PHP_Serializer.prototype.__sc2s=__sc2sKonqueror;PHP_Serializer.prototype.__sNConstructor=__sNConstructor;PHP_Serializer.prototype.__sCommonAO=__sCommonAO;PHP_Serializer.prototype[__sc2sKonqueror(__b)]=__sBoolean;PHP_Serializer.prototype.__sNumber=PHP_Serializer.prototype[__sc2sKonqueror(__n)]=__sNumber;PHP_Serializer.prototype.__sString=PHP_Serializer.prototype[__sc2sKonqueror(__s)]=UTF8?__sStringUTF8:__sString;PHP_Serializer.prototype[__sc2sKonqueror(__a)]=__sArray;PHP_Serializer.prototype[__sc2sKonqueror(__o)]=__sObjectKonqueror;PHP_Serializer.prototype[__sc2sKonqueror(__f)]=__sFunction}else{PHP_Serializer.prototype.__sc2s=__sc2s;PHP_Serializer.prototype.__sCommonAO=__sCommonAO;PHP_Serializer.prototype[__sc2s(__b)]=__sBoolean;PHP_Serializer.prototype.__sNumber=PHP_Serializer.prototype[__sc2s(__n)]=__sNumber;PHP_Serializer.prototype.__sString=PHP_Serializer.prototype[__sc2s(__s)]=UTF8?__sStringUTF8:__sString;PHP_Serializer.prototype[__sc2s(__a)]=__sArray;PHP_Serializer.prototype[__sc2s(__o)]=__ie7?__sObjectIE7:__sObject;PHP_Serializer.prototype[__sc2s(__f)]=__sFunction}PHP_Serializer.prototype.__uCommonAO=__uCommonAO;PHP_Serializer.prototype.b=__uBoolean;PHP_Serializer.prototype.i=PHP_Serializer.prototype.d=__uNumber;PHP_Serializer.prototype.s=UTF8?__uStringUTF8:__uString;PHP_Serializer.prototype.a=__uArray;PHP_Serializer.prototype.O=__uObject;PHP_Serializer.prototype.N=__uNull};var PortalAjaxRequestClass=Class.create();PortalAjaxRequestClass.prototype={url:"/",data:null,responseData:new Array(),responseXML:null,requestMethod:"GET",success:null,failure:null,defaultMethod:"getResponse",initialize:function(){this.url=location.href},setRequestMethod:function(a){this.requestMethod=a;return this},setRequestData:function(a){this.data=a;return this},onSuccess:function(a){this.success=a;return this},onFailure:function(a){this.failure=a;return this},sendRequest:function(){if(!this.data.method){this.data.method=this.defaultMethod}var a=new PHP_Serializer(true);new Ajax.Request(this.url,{method:this.requestMethod,onSuccess:this._onSuccess,onFailure:this._onFailure,parameters:{ajax_request:a.serialize(this.data)}})},_onSuccess:function(a){PortalAjaxRequest.responseXML=a.responseXML.documentElement;var b=PortalAjaxRequest.responseXML.getElementsByTagName("formatted-data");PortalAjaxRequest.responseData.response=a;PortalAjaxRequest.responseData.response_xml=PortalAjaxRequest.responseXML;if(b.length>0){PortalAjaxRequest.responseData.formatted_data=b[0].textContent||b[0].innerText||b[0].text}if(PortalAjaxRequest.success){PortalAjaxRequest.success(PortalAjaxRequest.responseData)}},_onFailure:function(a){if(PortalAjaxRequest.failure){PortalAjaxRequest.failure(a)}}};var PortalAjaxRequest=new PortalAjaxRequestClass();var selectBoxIsOpen=new Array();var selectBoxIdentifiers=new Array();var selectedBox=new Array();var highlightBox=new Array();var selecteBoxHeight=new Array();var onSelectFce=new Array();var graphicalSelectAutocomplete=new Array();var graphicalSelectDefault=new Array();var autocompleteSearchInProgress=false;function graphicalSelectInit(b,a,c){if(a){onSelectFce[b]=a}if($(b+"ListButton")){CategoriesFormRow.categories.push($(b+"Row"));if(CategoriesFormRow.categories.length>4){$("addCategoryWrapper").hide()}graphicalSelectDefault[b]=("input"==$(b+"Text").nodeName.toLowerCase()?$(b+"Text").value:$(b+"Text").innerHTML);selectBoxIdentifiers.push(b);selectBoxIsOpen[b]=false;Event.observe(document.body,"click",function(d){if(showSelectBox(b,false)){Element.removeClassName($(b+"ListArrow"),"over");Event.stop(d)}});if(!c){Event.observe($(b+"ListButton"),"click",function(d){showSelectBox(b);Event.stop(d)});Event.observe($(b+"ListButton"),"mouseover",function(d){Element.addClassName($(b+"ListArrow"),"over");Forms.hideHint()});Event.observe($(b+"ListButton"),"mouseout",function(d){if(false==selectBoxIsOpen[b]){Element.removeClassName($(b+"ListArrow"),"over")}})}if(true==c&&"input"==$(b+"Text").nodeName.toLowerCase()){$(b+"Text").setAttribute("autocomplete","off");Event.observe($(b+"Text"),"blur",function(d){if(""==$(b+"Text").value){$(b+"Text").value=graphicalSelectDefault[b]}});Event.observe($(b+"Text"),"keypress",function(d){graphicalSelect.init(d,b,$(b+"Text").value,"press")});Event.observe($(b+"Text"),"keyup",function(d){graphicalSelect.init(d,b,$(b+"Text").value,"up")});Event.observe($(b+"Text"),"click",function(d){if(graphicalSelectDefault[b]==$(b+"Text").value){$(b+"Text").value=""}else{$(b+"Text").select()}})}graphicalSelectReload(b)}}function graphicalSelectReload(b){var e=document.getElementsByClassName("selectListItem",$(b+"ListButton"));var d=e.length;var a=onSelectFce[b];for(var c=0;c<d;c++){if(-1!=e[c].className.search("elected")){selectedBox[b]=e[c]}Event.observe(e[c],"mouseover",function(f){var g=directGetTargetElement(f,"selectListItem");$$("#"+b+"List > .selectListItem").each(function(h){if(h.hasClassName("highlight")){h.removeClassName("highlight")}});Element.addClassName(g,"highlight");highlightBox[b]=g});Event.observe(e[c],"mouseout",function(f){var g=directGetTargetElement(f,"selectListItem");Element.removeClassName(g,"highlight");highlightBox[b]=null});Event.observe(e[c],"click",function(h){var j=directGetTargetElement(h,"selectListItem");var g=new RegExp(b+"Id","g");var f=j.id.replace(g,"");if(f!="__OTHER__"){Element.addClassName(j,"elected");if(selectedBox[b]!=null){Element.removeClassName(selectedBox[b],"elected")}selectedBox[b]=j;$(b).value=f;setSelectBoxTextValue(j.innerHTML,b);if(a){a(f)}}});if(b+"Id"+$(b).value==e[c].id){setSelectBoxTextValue(e[c].innerHTML,b)}}}function setSelectBoxTextValue(c,b){var d=html_entity_decode(c);if(d.indexOf(" > ")!=0){var a=d.split(" > ");$(b+"Text").value=a[a.length-1];$(b+"FormRowInfo").innerHTML=d}else{if("input"==$(b+"Text").nodeName.toLowerCase()){$(b+"Text").value=d}else{$(b+"Text").innerHTML=d}}}var graphicalSelect={identifier:null,keyEvent:null,value:"",foundKeys:new Array(),listEl:null,listElHeight:null,listItems:null,foundItems:new Array(),windowAll:new Array(),autocompleteMaxItems:20,lastSearch:null,init:function(c,b,e,d){this.identifier=b;this.value=e;this.listEl=$(this.identifier+"List");this.listElHeight=selecteBoxHeight[this.identifier];this.listItems=this.listEl.childNodes;this.keyEvent=d;var a=$(this.identifier+"Id__OTHER__");if(this.listItems.length>1&&a){a.remove()}$(this.identifier).value="";if(false==selectBoxIsOpen[this.identifier]&&c.keyCode!=Event.KEY_TAB){if(this.listItems.length>1){showSelectBox(this.identifier,true)}}this._onKeyPress(c)},_onKeyPress:function(a){switch(a.keyCode){case Event.KEY_TAB:case Event.KEY_RETURN:case Event.KEY_LEFT:case Event.KEY_RIGHT:this._selectEntry();Event.stop(a);return;case Event.KEY_ESC:if(true==selectBoxIsOpen[this.identifier]){showSelectBox(this.identifier,false)}Event.stop(a);return;case Event.KEY_UP:this._markPrevious();return;case Event.KEY_DOWN:this._markNext();return;default:if(!autocompleteSearchInProgress){autocompleteSearchInProgress=true;var c=new Array();c.classname="CatalogueAjaxCategories";var b=new Array();b.lang=ScriptInfo.lang;b.text=this.value;b.category_prefix=this.identifier;c.parameters=b;var d=this;PortalAjaxRequest.onSuccess(function(e){$(d.identifier+"List").update(e.formatted_data);graphicalSelectReload(d.identifier);highlightBox[d.identifier]=null;d._updateItems();showSelectBox(d.identifier,true);$(d.identifier+"List").scrollTop=0});if(this.lastSearch!=this.value&&this.value.length>0){setTimeout(function(){if(d.value==b.text){PortalAjaxRequest.setRequestData(c).sendRequest()}},300);this.lastSearch=this.value}if(this.value.length<1){showSelectBox(this.identifier,false)}autocompleteSearchInProgress=false}return}},_updateItems:function(){var c=this.listItems.length;var f=null;var e=0;var d=0;this.foundItems=new Array();for(var b=0;b<c;b++){if(!this.listItems[b].id){continue}f=this.listItems[b].id.replace(this.identifier+"Id","");if(this.listItems[b].offsetHeight==0){this.listItems[b].style.display="block"}this.foundItems.push(this.listItems[b]);d+=this.listItems[b].offsetHeight;e++}if(0==e){$(this.identifier+"List").update('<div class="selectListItem" id="'+this.identifier+'Id__OTHER__">'+graphicalSelectAutocomplete[this.identifier].__OTHER__.name+"</div>");var a=$(this.identifier+"Id__OTHER__");if(a){$(this.identifier+"Id__OTHER__").style.display="inline";d+=$(this.identifier+"Id__OTHER__").offsetHeight}}if(0<d&&d<this.listElHeight){this.listEl.style.height=d+"px"}else{if(this.listElHeight){this.listEl.style.height=this.listElHeight+"px"}}if($(this.identifier+"FormRowInfo")){$(this.identifier+"FormRowInfo").innerHTML=""}},_markPrevious:function(){if("up"!=this.keyEvent){return}var a=0;if(null!=highlightBox[this.identifier]){var c=highlightBox[this.identifier].id.replace(this.identifier+"Id","");a=this._getIndex(highlightBox[this.identifier])-1;if(undefined==this.foundItems[a]){a=0}Element.removeClassName(highlightBox[this.identifier],"highlight")}if(undefined==this.foundItems[a]){return}highlightBox[this.identifier]=this.foundItems[a];Element.addClassName(highlightBox[this.identifier],"highlight");var b=Position.positionedOffset(highlightBox[this.identifier]);if(this.listElHeight>b[1]/2){this.listEl.scrollTop=parseInt(b[1]-this.listElHeight/2,10)}},_markNext:function(){if("up"!=this.keyEvent){return}var a=0;if(null!=highlightBox[this.identifier]){var c=highlightBox[this.identifier].id.replace(this.identifier+"Id","");a=this._getIndex(highlightBox[this.identifier])+1;if(undefined==this.foundItems[a]){a-=1}Element.removeClassName(highlightBox[this.identifier],"highlight")}if(undefined==this.foundItems[a]){return}highlightBox[this.identifier]=this.foundItems[a];Element.addClassName(highlightBox[this.identifier],"highlight");var b=Position.positionedOffset(highlightBox[this.identifier]);if(b[1]>this.listElHeight/2){this.listEl.scrollTop=parseInt(b[1]-this.listElHeight/2,10)}},_getIndex:function(b){var a=this.foundItems.length;for(i=0;i<a;i++){if(b.id==this.foundItems[i].id){return i}}return 0},_selectEntry:function(){Element.addClassName(highlightBox[this.identifier],"elected");if(null!=selectedBox[this.identifier]){Element.removeClassName(selectedBox[this.identifier],"elected")}if(null==highlightBox[this.identifier]){return}selectedBox[this.identifier]=highlightBox[this.identifier];var a=highlightBox[this.identifier].id.replace(this.identifier+"Id","");$(this.identifier).value=a;setSelectBoxTextValue(highlightBox[this.identifier].innerHTML,this.identifier);if(onSelectFce[this.identifier]){onSelectFce[this.identifier](a)}showSelectBox(this.identifier,false)},_unselectEntry:function(){if(null!=selectedBox[this.identifier]){Element.removeClassName(selectedBox[this.identifier],"elected");selectedBox[this.identifier]=null}},selectWin:function(c,b){this.identifier=b||c;var a=$(c+"ItemsWindow");document.body.insertBefore(a,$("bgFade"));a.style.display="block";Lightbox.hideAfterClose=true;Lightbox.open(a);Event.observe(document.body,"keypress",function(d){if(Event.KEY_ESC==d.keyCode){Lightbox.close();Event.stop(d);return}})},selectFromWindow:function(b,a){$(graphicalSelect.identifier+"List").update('<div class="selectListItem" id="'+graphicalSelect.identifier+"Id"+b+'">'+a+"</div>");highlightBox[graphicalSelect.identifier]=$(graphicalSelect.identifier+"Id"+b);this.listEl=$(this.identifier+"List");this.listItems=this.listEl.childNodes;this._updateItems();this._selectEntry();Lightbox.close()}};function showSelectBox(b,a){var h=$(b+"List");if(typeof(a)=="undefined"){a=(Element.hasClassName(h,"show")?false:true)}if(true==a){for(var c in selectBoxIsOpen){if(selectBoxIsOpen[c]==true){Element.removeClassName($(c+"List"),"show");selectBoxIsOpen[c]=false}}if(selectedBox[b]!=null){Element.addClassName(selectedBox[b],"elected")}Element.addClassName(h,"show");h.show();var d=160;var g=Position.cumulativeOffset(h);var f=$("coverPage").offsetHeight;var e=25;if(f<(g[1]+d+e)){d=parseInt(f-g[1],10)-e}if(d<25){d=25}if(0<d&&(h.offsetHeight>d||h.offsetHeight<5)){h.style.maxHeight=d+"px";h.style.overflow="auto";selecteBoxHeight[b]=d}selectBoxIsOpen[b]=true}else{Element.removeClassName(h,"show");selectBoxIsOpen[b]=false}return selectBoxIsOpen[b]}var CategoriesFormRow={container:null,categories:new Array(),new_index:0,init:function(a){this.container=$(a);this.categories.each(function(d,c){var b=d.select(".itemsWindowLink a");if(b.length>0){Event.observe(b[0],"click",function(e){graphicalSelect.selectWin("category","category"+(c>0?c:""));Event.stop(e)})}if(b.length>1){Event.observe(d.select(".itemsWindowLink a")[1],"click",function(e){CategoriesFormRow.removeCategory(c);Event.stop(e)})}});this.new_index=this.categories.length},addCategory:function(){var b=document.createElement("div");b.id="category"+this.new_index+"Wrapper";this.container.appendChild(b);$(b.id).update('<div id="category'+this.new_index+'Row" class="formRow" stlye="z-index:'+(500-this.new_index)+'"><div id="category'+this.new_index+'ListButton" class="inputCase"><input type="hidden" class="graphicalSelectInput" maxlength="255" _obligated="_obligated" value="" name="category[]" id="category'+this.new_index+'"><input autocomplete="off" value="" id="category'+this.new_index+'Text" class="selectText"><div id="category'+this.new_index+'List" class="selectList"><div id="category'+this.new_index+'Id__OTHER__" class="selectListItem">'+LABELS.no_categories+'</div></div><span class="selectStyleEnd"><!--  --></span><i></i></div><div class="itemsWindowLink" id="category'+this.new_index+'ItemsWindowLink"><a href="#">'+LABELS.show_categories+'</a> <span>|</span> <a href="#">'+LABELS.category_remove+'</a></div></div><div class="formRowInfo" id="category'+this.new_index+'FormRowInfo">'+LABELS.category_eg+"</div>");var a=this.new_index;Event.observe(b.select(".itemsWindowLink a")[0],"click",function(c){graphicalSelect.selectWin("category","category"+a);Event.stop(c)});Event.observe(b.select(".itemsWindowLink a")[1],"click",function(c){CategoriesFormRow.removeCategory(a);Event.stop(c)});graphicalSelectAutocomplete["category"+this.new_index]={__OTHER__:{name:LABELS.no_categories,desc:"N"}};graphicalSelectInit("category"+this.new_index,false,1);this.new_index++},removeCategory:function(b){var c=0;var a="category"+b+"Row";CategoriesFormRow.categories.each(function(f,d){if(f.id==a){c=d}});if(c>0){$("category"+b+"Wrapper").remove();CategoriesFormRow.categories.splice(c,1);$("addCategoryWrapper").show()}}};var LABELS=new Array();/*! jQuery v1.11.3 | (c) 2005, 2015 jQuery Foundation, Inc. | jquery.org/license */
!function(d,c){"object"==typeof module&&"object"==typeof module.exports?module.exports=d.document?c(d,!0):function(b){if(!b.document){throw new Error("jQuery requires a window with a document")}return c(b)}:c(d)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l="1.11.3",m=function(a,b){return new m.fn.init(a,b)},n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/^-ms-/,p=/-([\da-z])/gi,q=function(a,b){return b.toUpperCase()};m.fn=m.prototype={jquery:l,constructor:m,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=m.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return m.each(this,a,b)},map:function(a){return this.pushStack(m.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},m.extend=m.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||m.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++){if(null!=(e=arguments[h])){for(d in e){a=g[d],c=e[d],g!==c&&(j&&c&&(m.isPlainObject(c)||(b=m.isArray(c)))?(b?(b=!1,f=a&&m.isArray(a)?a:[]):f=a&&m.isPlainObject(a)?a:{},g[d]=m.extend(j,f,c)):void 0!==c&&(g[d]=c))}}}return g},m.extend({expando:"jQuery"+(l+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===m.type(a)},isArray:Array.isArray||function(a){return"array"===m.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return !m.isArray(a)&&a-parseFloat(a)+1>=0},isEmptyObject:function(a){var b;for(b in a){return !1}return !0},isPlainObject:function(a){var b;if(!a||"object"!==m.type(a)||a.nodeType||m.isWindow(a)){return !1}try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf")){return !1}}catch(c){return !1}if(k.ownLast){for(b in a){return j.call(a,b)}}for(b in a){}return void 0===b||j.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(b){b&&m.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(o,"ms-").replace(p,q)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=r(a);if(c){if(g){for(;f>e;e++){if(d=b.apply(a[e],c),d===!1){break}}}else{for(e in a){if(d=b.apply(a[e],c),d===!1){break}}}}else{if(g){for(;f>e;e++){if(d=b.call(a[e],e,a[e]),d===!1){break}}}else{for(e in a){if(d=b.call(a[e],e,a[e]),d===!1){break}}}}return a},trim:function(a){return null==a?"":(a+"").replace(n,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(r(Object(a))?m.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g){return g.call(b,a,c)}for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++){if(c in b&&b[c]===a){return c}}}return -1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d){a[e++]=b[d++]}if(c!==c){while(void 0!==b[d]){a[e++]=b[d++]}}return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++){d=!b(a[f],f),d!==h&&e.push(a[f])}return e},map:function(a,b,c){var d,f=0,g=a.length,h=r(a),i=[];if(h){for(;g>f;f++){d=b(a[f],f,c),null!=d&&i.push(d)}}else{for(f in a){d=b(a[f],f,c),null!=d&&i.push(d)}}return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),m.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||m.guid++,e):void 0},now:function(){return +new Date},support:k}),m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function r(a){var b="length" in a&&a.length,c=m.type(a);return"function"===c||m.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var s=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++){if(a[c]===b){return c}}return -1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",P=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",Q=new RegExp(L+"+","g"),R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),S=new RegExp("^"+L+"*,"+L+"*"),T=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(P),W=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,aa=/[+~]/,ba=/'|\\/g,ca=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),da=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ea=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fa){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]){}a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType,"string"!=typeof a||!a||1!==k&&9!==k&&11!==k){return d}if(!e&&p){if(11!==k&&(f=_.exec(a))){if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode){return d}if(h.id===j){return d.push(h),d}}else{if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j){return d.push(h),d}}}else{if(f[2]){return H.apply(d,b.getElementsByTagName(a)),d}if((j=f[3])&&c.getElementsByClassName){return H.apply(d,b.getElementsByClassName(j)),d}}}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(ba,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--){o[l]=s+ra(o[l])}w=aa.test(a)&&pa(b.parentNode)||b,x=o.join(",")}if(x){try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}}return i(a.replace(R,"$1"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("div");try{return !!a(b)}catch(c){return !1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){var c=a.split("|"),e=a.length;while(e--){d.attrHandle[c[e]]=b}}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d){return d}if(c){while(c=c.nextSibling){if(c===b){return -1}}}return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return ia(function(b){return b=+b,ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--){c[e=f[g]]&&(c[e]=!(d[e]=c[e]))}})})}function pa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",ea,!1):e.attachEvent&&e.attachEvent("onunload",ea)),p=!f(g),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++]){1===c.nodeType&&d.push(c)}return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){var b=g.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",P)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b){while(b=b.parentNode){if(b===a){return !0}}}return !1},B=b?function(a,b){if(a===b){return l=!0,0}var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b){return l=!0,0}var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f){return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0}if(e===f){return la(a,b)}c=a;while(c=c.parentNode){h.unshift(c)}c=b;while(c=c.parentNode){i.unshift(c)}while(h[d]===i[d]){d++}return d?la(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b))){try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType){return d}}catch(e){}}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++]){b===a[f]&&(e=d.push(f))}while(e--){a.splice(d[e],1)}}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent){return a.textContent}for(a=a.firstChild;a;a=a.nextSibling){c+=e(a)}}else{if(3===f||4===f){return a.nodeValue}}}else{while(b=a[d++]){c+=e(b)}}return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ca,da),a[3]=(a[3]||a[4]||a[5]||"").replace(ca,da),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ca,da).toLowerCase();return"*"===a?function(){return !0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(Q," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return !!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p]){if(h?l.nodeName.toLowerCase()===r:1===l.nodeType){return !1}}o=p="only"===a&&!o&&"nextSibling"}return !0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop()){if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}}else{if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w){m=j[1]}else{while(l=++n&&l&&l[p]||(m=n=0)||o.pop()){if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b)){break}}}}return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--){d=J(a,f[g]),a[d]=!(c[d]=f[g])}}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--){(f=g[h])&&(a[h]=!(b[h]=f))}}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(ca,da),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return W.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(ca,da).toLowerCase(),function(b){var c;do{if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang")){return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-")}}while((b=b.parentNode)&&1===b.nodeType);return !1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling){if(a.nodeType<6){return !1}}return !0},parent:function(a){return !d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:oa(function(){return[0]}),last:oa(function(a,b){return[b-1]}),eq:oa(function(a,b,c){return[0>c?c+b:c]}),even:oa(function(a,b){for(var c=0;b>c;c+=2){a.push(c)}return a}),odd:oa(function(a,b){for(var c=1;b>c;c+=2){a.push(c)}return a}),lt:oa(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;){a.push(d)}return a}),gt:oa(function(a,b,c){for(var d=0>c?c+b:c;++d<b;){a.push(d)}return a})}},d.pseudos.nth=d.pseudos.eq;for(b in {radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){d.pseudos[b]=ma(b)}for(b in {submit:!0,reset:!0}){d.pseudos[b]=na(b)}function qa(){}qa.prototype=d.filters=d.pseudos,d.setFilters=new qa,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k){return b?0:k.slice(0)}h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter){!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length))}if(!c){break}}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function ra(a){for(var b=0,c=a.length,d="";c>b;b++){d+=a[b].value}return d}function sa(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d]){if(1===b.nodeType||e){return a(b,c,f)}}}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d]){if((1===b.nodeType||e)&&a(b,c,g)){return !0}}}else{while(b=b[d]){if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f){return j[2]=h[2]}if(i[d]=j,j[2]=a(b,c,g)){return !0}}}}}}function ta(a){return a.length>1?function(b,c,d){var e=a.length;while(e--){if(!a[e](b,c,d)){return !1}}return !0}:a[0]}function ua(a,b,c){for(var d=0,e=b.length;e>d;d++){ga(a,b[d],c)}return c}function va(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++){(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h))}return g}function wa(a,b,c,d,e,f){return d&&!d[u]&&(d=wa(d)),e&&!e[u]&&(e=wa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ua(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:va(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=va(r,n),d(j,[],h,i),k=j.length;while(k--){(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}}if(f){if(e||a){if(e){j=[],k=r.length;while(k--){(l=r[k])&&j.push(q[k]=l)}e(null,r=[],j,i)}k=r.length;while(k--){(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}}else{r=va(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)}})}function xa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=sa(function(a){return a===b},h,!0),l=sa(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++){if(c=d.relative[a[i].type]){m=[sa(ta(m),c)]}else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++){if(d.relative[a[e].type]){break}}return wa(i>1&&ta(m),i>1&&ra(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&xa(a.slice(i,e)),f>e&&xa(a=a.slice(e)),f>e&&ra(a))}m.push(c)}}return ta(m)}function ya(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||0.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++]){if(o(l,g,h)){i.push(l);break}}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++]){o(r,s,g,h)}if(f){if(p>0){while(q--){r[q]||s[q]||(s[q]=F.call(i))}}s=va(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&ga.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--){f=xa(b[c]),f[u]?d.push(f):e.push(f)}f=A(a,ya(e,d)),f.selector=a}return f},i=ga.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ca,da),b)||[])[0],!b){return e}n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type]){break}if((m=d.find[l])&&(f=m(k.matches[0].replace(ca,da),aa.test(j[0].type)&&pa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&ra(j),!a){return H.apply(e,f),e}break}}}return(n||h(a,o))(f,b,!p,e,aa.test(a)&&pa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);m.find=s,m.expr=s.selectors,m.expr[":"]=m.expr.pseudos,m.unique=s.uniqueSort,m.text=s.getText,m.isXMLDoc=s.isXML,m.contains=s.contains;var t=m.expr.match.needsContext,u=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,v=/^.[^:#\[\.,]*$/;function w(a,b,c){if(m.isFunction(b)){return m.grep(a,function(a,d){return !!b.call(a,d,a)!==c})}if(b.nodeType){return m.grep(a,function(a){return a===b!==c})}if("string"==typeof b){if(v.test(b)){return m.filter(b,a,c)}b=m.filter(b,a)}return m.grep(a,function(a){return m.inArray(a,b)>=0!==c})}m.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?m.find.matchesSelector(d,a)?[d]:[]:m.find.matches(a,m.grep(b,function(a){return 1===a.nodeType}))},m.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a){return this.pushStack(m(a).filter(function(){for(b=0;e>b;b++){if(m.contains(d[b],this)){return !0}}}))}for(b=0;e>b;b++){m.find(a,d[b],c)}return c=this.pushStack(e>1?m.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(w(this,a||[],!1))},not:function(a){return this.pushStack(w(this,a||[],!0))},is:function(a){return !!w(this,"string"==typeof a&&t.test(a)?m(a):a||[],!1).length}});var x,y=a.document,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=m.fn.init=function(a,b){var c,d;if(!a){return this}if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b){return !b||b.jquery?(b||x).find(a):this.constructor(b).find(a)}if(c[1]){if(b=b instanceof m?b[0]:b,m.merge(this,m.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:y,!0)),u.test(c[1])&&m.isPlainObject(b)){for(c in b){m.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c])}}return this}if(d=y.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2]){return x.find(a)}this.length=1,this[0]=d}return this.context=y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):m.isFunction(a)?"undefined"!=typeof x.ready?x.ready(a):a(m):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),m.makeArray(a,this))};A.prototype=m.fn,x=m(y);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};m.extend({dir:function(a,b,c){var d=[],e=a[b];while(e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!m(e).is(c))){1===e.nodeType&&d.push(e),e=e[b]}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling){1===a.nodeType&&a!==b&&c.push(a)}return c}}),m.fn.extend({has:function(a){var b,c=m(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++){if(m.contains(this,c[b])){return !0}}})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=t.test(a)||"string"!=typeof a?m(a,b||this.context):0;e>d;d++){for(c=this[d];c&&c!==b;c=c.parentNode){if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&m.find.matchesSelector(c,a))){f.push(c);break}}}return this.pushStack(f.length>1?m.unique(f):f)},index:function(a){return a?"string"==typeof a?m.inArray(this[0],m(a)):m.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(m.unique(m.merge(this.get(),m(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){do{a=a[b]}while(a&&1!==a.nodeType);return a}m.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return m.dir(a,"parentNode")},parentsUntil:function(a,b,c){return m.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return m.dir(a,"nextSibling")},prevAll:function(a){return m.dir(a,"previousSibling")},nextUntil:function(a,b,c){return m.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return m.dir(a,"previousSibling",c)},siblings:function(a){return m.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return m.sibling(a.firstChild)},contents:function(a){return m.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:m.merge([],a.childNodes)}},function(a,b){m.fn[a]=function(c,d){var e=m.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=m.filter(d,e)),this.length>1&&(C[a]||(e=m.unique(e)),B.test(a)&&(e=e.reverse())),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return m.each(a.match(E)||[],function(a,c){b[c]=!0}),b}m.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):m.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++){if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;!function f(b){m.each(b,function(b,c){var d=m.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&m.each(arguments,function(a,c){var d;while((d=m.inArray(c,h,d))>-1){h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}}),this},has:function(a){return a?m.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return !h},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return !i},fireWith:function(a,c){return !h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return !!d}};return k},m.extend({Deferred:function(a){var b=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return m.Deferred(function(c){m.each(b,function(b,f){var g=m.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&m.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?m.extend(a,d):d}},e={};return d.pipe=d.then,m.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&m.isFunction(a.promise)?e:0,g=1===f?a:m.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1){for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++){c[b]&&m.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f}}return f||g.resolveWith(k,c),g.promise()}});var H;m.fn.ready=function(a){return m.ready.promise().done(a),this},m.extend({isReady:!1,readyWait:1,holdReady:function(a){a?m.readyWait++:m.ready(!0)},ready:function(a){if(a===!0?!--m.readyWait:!m.isReady){if(!y.body){return setTimeout(m.ready)}m.isReady=!0,a!==!0&&--m.readyWait>0||(H.resolveWith(y,[m]),m.fn.triggerHandler&&(m(y).triggerHandler("ready"),m(y).off("ready")))}}});function I(){y.addEventListener?(y.removeEventListener("DOMContentLoaded",J,!1),a.removeEventListener("load",J,!1)):(y.detachEvent("onreadystatechange",J),a.detachEvent("onload",J))}function J(){(y.addEventListener||"load"===event.type||"complete"===y.readyState)&&(I(),m.ready())}m.ready.promise=function(b){if(!H){if(H=m.Deferred(),"complete"===y.readyState){setTimeout(m.ready)}else{if(y.addEventListener){y.addEventListener("DOMContentLoaded",J,!1),a.addEventListener("load",J,!1)}else{y.attachEvent("onreadystatechange",J),a.attachEvent("onload",J);var c=!1;try{c=null==a.frameElement&&y.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!m.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}I(),m.ready()}}()}}}return H.promise(b)};var K="undefined",L;for(L in m(k)){break}k.ownLast="0"!==L,k.inlineBlockNeedsLayout=!1,m(function(){var a,b,c,d;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",k.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=y.createElement("div");if(null==k.deleteExpando){k.deleteExpando=!0;try{delete a.test}catch(b){k.deleteExpando=!1}}a=null}(),m.acceptData=function(a){var b=m.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,N=/([A-Z])/g;function O(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(N,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:M.test(c)?m.parseJSON(c):c}catch(e){}m.data(a,b,c)}else{c=void 0}}return c}function P(a){var b;for(b in a){if(("data"!==b||!m.isEmptyObject(a[b]))&&"toJSON"!==b){return !1}}return !0}function Q(a,b,d,e){if(m.acceptData(a)){var f,g,h=m.expando,i=a.nodeType,j=i?m.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b){return k||(k=i?a[h]=c.pop()||m.guid++:h),j[k]||(j[k]=i?{}:{toJSON:m.noop}),("object"==typeof b||"function"==typeof b)&&(e?j[k]=m.extend(j[k],b):j[k].data=m.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[m.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[m.camelCase(b)])):f=g,f}}}function R(a,b,c){if(m.acceptData(a)){var d,e,f=a.nodeType,g=f?m.cache:a,h=f?a[m.expando]:m.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){m.isArray(b)?b=b.concat(m.map(b,m.camelCase)):b in d?b=[b]:(b=m.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;while(e--){delete d[b[e]]}if(c?!P(d):!m.isEmptyObject(d)){return}}(c||(delete g[h].data,P(g[h])))&&(f?m.cleanData([a],!0):k.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}m.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?m.cache[a[m.expando]]:a[m.expando],!!a&&!P(a)},data:function(a,b,c){return Q(a,b,c)},removeData:function(a,b){return R(a,b)},_data:function(a,b,c){return Q(a,b,c,!0)},_removeData:function(a,b){return R(a,b,!0)}}),m.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=m.data(f),1===f.nodeType&&!m._data(f,"parsedAttrs"))){c=g.length;while(c--){g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=m.camelCase(d.slice(5)),O(f,d,e[d])))}m._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){m.data(this,a)}):arguments.length>1?this.each(function(){m.data(this,a,b)}):f?O(f,a,m.data(f,a)):void 0},removeData:function(a){return this.each(function(){m.removeData(this,a)})}}),m.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=m._data(a,b),c&&(!d||m.isArray(c)?d=m._data(a,b,m.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=m.queue(a,b),d=c.length,e=c.shift(),f=m._queueHooks(a,b),g=function(){m.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return m._data(a,c)||m._data(a,c,{empty:m.Callbacks("once memory").add(function(){m._removeData(a,b+"queue"),m._removeData(a,c)})})}}),m.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?m.queue(this[0],a):void 0===b?this:this.each(function(){var c=m.queue(this,a,b);m._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&m.dequeue(this,a)})},dequeue:function(a){return this.each(function(){m.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=m.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--){c=m._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h))}return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=["Top","Right","Bottom","Left"],U=function(a,b){return a=b||a,"none"===m.css(a,"display")||!m.contains(a.ownerDocument,a)},V=m.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===m.type(c)){e=!0;for(h in c){m.access(a,b,h,c[h],!0,f,g)}}else{if(void 0!==d&&(e=!0,m.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(m(a),c)})),b)){for(;i>h;h++){b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)))}}}return e?a:j?b.call(a):i?b(a[0],c):f},W=/^(?:checkbox|radio)$/i;!function(){var a=y.createElement("input"),b=y.createElement("div"),c=y.createDocumentFragment();if(b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",k.leadingWhitespace=3===b.firstChild.nodeType,k.tbody=!b.getElementsByTagName("tbody").length,k.htmlSerialize=!!b.getElementsByTagName("link").length,k.html5Clone="<:nav></:nav>"!==y.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,c.appendChild(a),k.appendChecked=a.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,k.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){k.noCloneEvent=!1}),b.cloneNode(!0).click()),null==k.deleteExpando){k.deleteExpando=!0;try{delete b.test}catch(d){k.deleteExpando=!1}}}(),function(){var b,c,d=y.createElement("div");for(b in {submit:!0,change:!0,focusin:!0}){c="on"+b,(k[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),k[b+"Bubbles"]=d.attributes[c].expando===!1)}d=null}();var X=/^(?:input|select|textarea)$/i,Y=/^key/,Z=/^(?:mouse|pointer|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=/^([^.]*)(?:\.(.+)|)$/;function aa(){return !0}function ba(){return !1}function ca(){try{return y.activeElement}catch(a){}}m.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=m.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof m===K||a&&m.event.triggered===a.type?void 0:m.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(E)||[""],h=b.length;while(h--){f=_.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=m.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=m.event.special[o]||{},l=m.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&m.expr.match.needsContext.test(e),namespace:p.join(".")},i),(n=g[o])||(n=g[o]=[],n.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?n.splice(n.delegateCount++,0,l):n.push(l),m.event.global[o]=!0)}a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m.hasData(a)&&m._data(a);if(r&&(k=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--){if(h=_.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=m.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,n=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=n.length;while(f--){g=n[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(n.splice(f,1),g.selector&&n.delegateCount--,l.remove&&l.remove.call(a,g))}i&&!n.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||m.removeEvent(a,o,r.handle),delete k[o])}else{for(o in k){m.event.remove(a,o+b[j],c,d,!0)}}}m.isEmptyObject(k)&&(delete r.handle,m._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,n,o=[d||y],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];if(h=l=d=d||y,3!==d.nodeType&&8!==d.nodeType&&!$.test(p+m.event.triggered)&&(p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,b=b[m.expando]?b:new m.Event(p,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:m.makeArray(c,[b]),k=m.event.special[p]||{},e||!k.trigger||k.trigger.apply(d,c)!==!1)){if(!e&&!k.noBubble&&!m.isWindow(d)){for(i=k.delegateType||p,$.test(i+p)||(h=h.parentNode);h;h=h.parentNode){o.push(h),l=h}l===(d.ownerDocument||y)&&o.push(l.defaultView||l.parentWindow||a)}n=0;while((h=o[n++])&&!b.isPropagationStopped()){b.type=n>1?i:k.bindType||p,f=(m._data(h,"events")||{})[b.type]&&m._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&m.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault())}if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&m.acceptData(d)&&g&&d[p]&&!m.isWindow(d)){l=d[g],l&&(d[g]=null),m.event.triggered=p;try{d[p]()}catch(r){}m.event.triggered=void 0,l&&(d[g]=l)}return b.result}},dispatch:function(a){a=m.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(m._data(this,"events")||{})[a.type]||[],k=m.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=m.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,g=0;while((e=f.handlers[g++])&&!a.isImmediatePropagationStopped()){(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,c=((m.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()))}}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type)){for(;i!=this;i=i.parentNode||this){if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++){d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?m(c,this).index(i)>=0:m.find(c,this,null,[i]).length),e[c]&&e.push(d)}e.length&&g.push({elem:i,handlers:e})}}}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[m.expando]){return a}var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=Z.test(e)?this.mouseHooks:Y.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new m.Event(f),b=d.length;while(b--){c=d[b],a[c]=f[c]}return a.target||(a.target=f.srcElement||y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||y,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ca()&&this.focus){try{return this.focus(),!1}catch(a){}}},delegateType:"focusin"},blur:{trigger:function(){return this===ca()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return m.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return m.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=m.extend(new m.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?m.event.trigger(e,null,b):m.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},m.removeEvent=y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===K&&(a[d]=null),a.detachEvent(d,c))},m.Event=function(a,b){return this instanceof m.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?aa:ba):this.type=a,b&&m.extend(this,b),this.timeStamp=a&&a.timeStamp||m.now(),void (this[m.expando]=!0)):new m.Event(a,b)},m.Event.prototype={isDefaultPrevented:ba,isPropagationStopped:ba,isImmediatePropagationStopped:ba,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=aa,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=aa,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=aa,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){m.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!m.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.submitBubbles||(m.event.special.submit={setup:function(){return m.nodeName(this,"form")?!1:void m.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=m.nodeName(b,"input")||m.nodeName(b,"button")?b.form:void 0;c&&!m._data(c,"submitBubbles")&&(m.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),m._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&m.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return m.nodeName(this,"form")?!1:void m.event.remove(this,"._submit")}}),k.changeBubbles||(m.event.special.change={setup:function(){return X.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(m.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),m.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),m.event.simulate("change",this,a,!0)})),!1):void m.event.add(this,"beforeactivate._change",function(a){var b=a.target;X.test(b.nodeName)&&!m._data(b,"changeBubbles")&&(m.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||m.event.simulate("change",this.parentNode,a,!0)}),m._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return m.event.remove(this,"._change"),!X.test(this.nodeName)}}),k.focusinBubbles||m.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){m.event.simulate(b,a.target,m.event.fix(a),!0)};m.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=m._data(d,b);e||d.addEventListener(a,c,!0),m._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=m._data(d,b)-1;e?m._data(d,b,e):(d.removeEventListener(a,c,!0),m._removeData(d,b))}}}),m.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a){this.on(f,b,c,a[f],e)}return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1){d=ba}else{if(!d){return this}}return 1===e&&(g=d,d=function(a){return m().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=m.guid++)),this.each(function(){m.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj){return d=a.handleObj,m(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this}if("object"==typeof a){for(e in a){this.off(e,b,a[e])}return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=ba),this.each(function(){m.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){m.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?m.event.trigger(a,b,c,!0):void 0}});function da(a){var b=ea.split("|"),c=a.createDocumentFragment();if(c.createElement){while(b.length){c.createElement(b.pop())}}return c}var ea="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",fa=/ jQuery\d+="(?:null|\d+)"/g,ga=new RegExp("<(?:"+ea+")[\\s/>]","i"),ha=/^\s+/,ia=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ja=/<([\w:]+)/,ka=/<tbody/i,la=/<|&#?\w+;/,ma=/<(?:script|style|link)/i,na=/checked\s*(?:[^=]|=\s*.checked.)/i,oa=/^$|\/(?:java|ecma)script/i,pa=/^true\/(.*)/,qa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ra={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:k.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},sa=da(y),ta=sa.appendChild(y.createElement("div"));ra.optgroup=ra.option,ra.tbody=ra.tfoot=ra.colgroup=ra.caption=ra.thead,ra.th=ra.td;function ua(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==K?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==K?a.querySelectorAll(b||"*"):void 0;if(!f){for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++){!b||m.nodeName(d,b)?f.push(d):m.merge(f,ua(d,b))}}return void 0===b||b&&m.nodeName(a,b)?m.merge([a],f):f}function va(a){W.test(a.type)&&(a.defaultChecked=a.checked)}function wa(a,b){return m.nodeName(a,"table")&&m.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function xa(a){return a.type=(null!==m.find.attr(a,"type"))+"/"+a.type,a}function ya(a){var b=pa.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function za(a,b){for(var c,d=0;null!=(c=a[d]);d++){m._data(c,"globalEval",!b||m._data(b[d],"globalEval"))}}function Aa(a,b){if(1===b.nodeType&&m.hasData(a)){var c,d,e,f=m._data(a),g=m._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h){for(d=0,e=h[c].length;e>d;d++){m.event.add(b,c,h[c][d])}}}g.data&&(g.data=m.extend({},g.data))}}function Ba(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!k.noCloneEvent&&b[m.expando]){e=m._data(b);for(d in e.events){m.removeEvent(b,d,e.handle)}b.removeAttribute(m.expando)}"script"===c&&b.text!==a.text?(xa(b).text=a.text,ya(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),k.html5Clone&&a.innerHTML&&!m.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&W.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}m.extend({clone:function(a,b,c){var d,e,f,g,h,i=m.contains(a.ownerDocument,a);if(k.html5Clone||m.isXMLDoc(a)||!ga.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(ta.innerHTML=a.outerHTML,ta.removeChild(f=ta.firstChild)),!(k.noCloneEvent&&k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||m.isXMLDoc(a))){for(d=ua(f),h=ua(a),g=0;null!=(e=h[g]);++g){d[g]&&Ba(e,d[g])}}if(b){if(c){for(h=h||ua(a),d=d||ua(f),g=0;null!=(e=h[g]);g++){Aa(e,d[g])}}else{Aa(a,f)}}return d=ua(f,"script"),d.length>0&&za(d,!i&&ua(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,l,n=a.length,o=da(b),p=[],q=0;n>q;q++){if(f=a[q],f||0===f){if("object"===m.type(f)){m.merge(p,f.nodeType?[f]:f)}else{if(la.test(f)){h=h||o.appendChild(b.createElement("div")),i=(ja.exec(f)||["",""])[1].toLowerCase(),l=ra[i]||ra._default,h.innerHTML=l[1]+f.replace(ia,"<$1></$2>")+l[2],e=l[0];while(e--){h=h.lastChild}if(!k.leadingWhitespace&&ha.test(f)&&p.push(b.createTextNode(ha.exec(f)[0])),!k.tbody){f="table"!==i||ka.test(f)?"<table>"!==l[1]||ka.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;while(e--){m.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j)}}m.merge(p,h.childNodes),h.textContent="";while(h.firstChild){h.removeChild(h.firstChild)}h=o.lastChild}else{p.push(b.createTextNode(f))}}}}h&&o.removeChild(h),k.appendChecked||m.grep(ua(p,"input"),va),q=0;while(f=p[q++]){if((!d||-1===m.inArray(f,d))&&(g=m.contains(f.ownerDocument,f),h=ua(o.appendChild(f),"script"),g&&za(h),c)){e=0;while(f=h[e++]){oa.test(f.type||"")&&c.push(f)}}}return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=m.expando,j=m.cache,l=k.deleteExpando,n=m.event.special;null!=(d=a[h]);h++){if((b||m.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events){for(e in g.events){n[e]?m.event.remove(d,e):m.removeEvent(d,e,g.handle)}}j[f]&&(delete j[f],l?delete d[i]:typeof d.removeAttribute!==K?d.removeAttribute(i):d[i]=null,c.push(f))}}}}),m.fn.extend({text:function(a){return V(this,function(a){return void 0===a?m.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wa(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?m.filter(a,this):this,e=0;null!=(c=d[e]);e++){b||1!==c.nodeType||m.cleanData(ua(c)),c.parentNode&&(b&&m.contains(c.ownerDocument,c)&&za(ua(c,"script")),c.parentNode.removeChild(c))}return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&m.cleanData(ua(a,!1));while(a.firstChild){a.removeChild(a.firstChild)}a.options&&m.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return m.clone(this,a,b)})},html:function(a){return V(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a){return 1===b.nodeType?b.innerHTML.replace(fa,""):void 0}if(!("string"!=typeof a||ma.test(a)||!k.htmlSerialize&&ga.test(a)||!k.leadingWhitespace&&ha.test(a)||ra[(ja.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(ia,"<$1></$2>");try{for(;d>c;c++){b=this[c]||{},1===b.nodeType&&(m.cleanData(ua(b,!1)),b.innerHTML=a)}b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,m.cleanData(ua(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,n=this,o=l-1,p=a[0],q=m.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&na.test(p)){return this.each(function(c){var d=n.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)})}if(l&&(i=m.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(g=m.map(ua(i,"script"),xa),f=g.length;l>j;j++){d=i,j!==o&&(d=m.clone(d,!0,!0),f&&m.merge(g,ua(d,"script"))),b.call(this[j],d,j)}if(f){for(h=g[g.length-1].ownerDocument,m.map(g,ya),j=0;f>j;j++){d=g[j],oa.test(d.type||"")&&!m._data(d,"globalEval")&&m.contains(h,d)&&(d.src?m._evalUrl&&m._evalUrl(d.src):m.globalEval((d.text||d.textContent||d.innerHTML||"").replace(qa,"")))}}i=c=null}return this}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){m.fn[a]=function(a){for(var c,d=0,e=[],g=m(a),h=g.length-1;h>=d;d++){c=d===h?this:this.clone(!0),m(g[d])[b](c),f.apply(e,c.get())}return this.pushStack(e)}});var Ca,Da={};function Ea(b,c){var d,e=m(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:m.css(e[0],"display");return e.detach(),f}function Fa(a){var b=y,c=Da[a];return c||(c=Ea(a,b),"none"!==c&&c||(Ca=(Ca||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Ca[0].contentWindow||Ca[0].contentDocument).document,b.write(),b.close(),c=Ea(a,b),Ca.detach()),Da[a]=c),c}!function(){var a;k.shrinkWrapBlocks=function(){if(null!=a){return a}a=!1;var b,c,d;return c=y.getElementsByTagName("body")[0],c&&c.style?(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(y.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var Ga=/^margin/,Ha=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ia,Ja,Ka=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ia=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)},Ja=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ia(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||m.contains(a.ownerDocument,a)||(g=m.style(a,b)),Ha.test(g)&&Ga.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):y.documentElement.currentStyle&&(Ia=function(a){return a.currentStyle},Ja=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ia(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Ha.test(g)&&!Ka.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});function La(a,b){return{get:function(){var c=a();if(null!=c){return c?void delete this.get:(this.get=b).apply(this,arguments)}}}}!function(){var b,c,d,e,f,g,h;if(b=y.createElement("div"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=d&&d.style){c.cssText="float:left;opacity:.5",k.opacity="0.5"===c.opacity,k.cssFloat=!!c.cssFloat,b.style.backgroundClip="content-box",b.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===b.style.backgroundClip,k.boxSizing=""===c.boxSizing||""===c.MozBoxSizing||""===c.WebkitBoxSizing,m.extend(k,{reliableHiddenOffsets:function(){return null==g&&i(),g},boxSizingReliable:function(){return null==f&&i(),f},pixelPosition:function(){return null==e&&i(),e},reliableMarginRight:function(){return null==h&&i(),h}});function i(){var b,c,d,i;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",e=f=!1,h=!0,a.getComputedStyle&&(e="1%"!==(a.getComputedStyle(b,null)||{}).top,f="4px"===(a.getComputedStyle(b,null)||{width:"4px"}).width,i=b.appendChild(y.createElement("div")),i.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",b.style.width="1px",h=!parseFloat((a.getComputedStyle(i,null)||{}).marginRight),b.removeChild(i)),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=b.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",g=0===i[0].offsetHeight,g&&(i[0].style.display="",i[1].style.display="none",g=0===i[0].offsetHeight),c.removeChild(d))}}}(),m.swap=function(a,b,c,d){var e,f,g={};for(f in b){g[f]=a.style[f],a.style[f]=b[f]}e=c.apply(a,d||[]);for(f in b){a.style[f]=g[f]}return e};var Ma=/alpha\([^)]*\)/i,Na=/opacity\s*=\s*([^)]*)/,Oa=/^(none|table(?!-c[ea]).+)/,Pa=new RegExp("^("+S+")(.*)$","i"),Qa=new RegExp("^([+-])=("+S+")","i"),Ra={position:"absolute",visibility:"hidden",display:"block"},Sa={letterSpacing:"0",fontWeight:"400"},Ta=["Webkit","O","Moz","ms"];function Ua(a,b){if(b in a){return b}var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Ta.length;while(e--){if(b=Ta[e]+c,b in a){return b}}return d}function Va(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++){d=a[g],d.style&&(f[g]=m._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&U(d)&&(f[g]=m._data(d,"olddisplay",Fa(d.nodeName)))):(e=U(d),(c&&"none"!==c||!e)&&m._data(d,"olddisplay",e?c:m.css(d,"display"))))}for(g=0;h>g;g++){d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"))}return a}function Wa(a,b,c){var d=Pa.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Xa(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2){"margin"===c&&(g+=m.css(a,c+T[f],!0,e)),d?("content"===c&&(g-=m.css(a,"padding"+T[f],!0,e)),"margin"!==c&&(g-=m.css(a,"border"+T[f]+"Width",!0,e))):(g+=m.css(a,"padding"+T[f],!0,e),"padding"!==c&&(g+=m.css(a,"border"+T[f]+"Width",!0,e)))}return g}function Ya(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ia(a),g=k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Ja(a,b,f),(0>e||null==e)&&(e=a.style[b]),Ha.test(e)){return e}d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Xa(a,b,c||(g?"border":"content"),d,f)+"px"}m.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Ja(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":k.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=m.camelCase(b),i=a.style;if(b=m.cssProps[h]||(m.cssProps[h]=Ua(i,h)),g=m.cssHooks[b]||m.cssHooks[h],void 0===c){return g&&"get" in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]}if(f=typeof c,"string"===f&&(e=Qa.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(m.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||m.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set" in g&&void 0===(c=g.set(a,c,d))))){try{i[b]=c}catch(j){}}}},css:function(a,b,c,d){var e,f,g,h=m.camelCase(b);return b=m.cssProps[h]||(m.cssProps[h]=Ua(a.style,h)),g=m.cssHooks[b]||m.cssHooks[h],g&&"get" in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Ja(a,b,d)),"normal"===f&&b in Sa&&(f=Sa[b]),""===c||c?(e=parseFloat(f),c===!0||m.isNumeric(e)?e||0:f):f}}),m.each(["height","width"],function(a,b){m.cssHooks[b]={get:function(a,c,d){return c?Oa.test(m.css(a,"display"))&&0===a.offsetWidth?m.swap(a,Ra,function(){return Ya(a,b,d)}):Ya(a,b,d):void 0},set:function(a,c,d){var e=d&&Ia(a);return Wa(a,c,d?Xa(a,b,d,k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,e),e):0)}}}),k.opacity||(m.cssHooks.opacity={get:function(a,b){return Na.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=m.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===m.trim(f.replace(Ma,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Ma.test(f)?f.replace(Ma,e):f+" "+e)}}),m.cssHooks.marginRight=La(k.reliableMarginRight,function(a,b){return b?m.swap(a,{display:"inline-block"},Ja,[a,"marginRight"]):void 0}),m.each({margin:"",padding:"",border:"Width"},function(a,b){m.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++){e[a+T[d]+b]=f[d]||f[d-2]||f[0]}return e}},Ga.test(a)||(m.cssHooks[a+b].set=Wa)}),m.fn.extend({css:function(a,b){return V(this,function(a,b,c){var d,e,f={},g=0;if(m.isArray(b)){for(d=Ia(a),e=b.length;e>g;g++){f[b[g]]=m.css(a,b[g],!1,d)}return f}return void 0!==c?m.style(a,b,c):m.css(a,b)},a,b,arguments.length>1)},show:function(){return Va(this,!0)},hide:function(){return Va(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){U(this)?m(this).show():m(this).hide()})}});function Za(a,b,c,d,e){return new Za.prototype.init(a,b,c,d,e)}m.Tween=Za,Za.prototype={constructor:Za,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(m.cssNumber[c]?"":"px")},cur:function(){var a=Za.propHooks[this.prop];return a&&a.get?a.get(this):Za.propHooks._default.get(this)},run:function(a){var b,c=Za.propHooks[this.prop];return this.options.duration?this.pos=b=m.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Za.propHooks._default.set(this),this}},Za.prototype.init.prototype=Za.prototype,Za.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=m.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){m.fx.step[a.prop]?m.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[m.cssProps[a.prop]]||m.cssHooks[a.prop])?m.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Za.propHooks.scrollTop=Za.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},m.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}},m.fx=Za.prototype.init,m.fx.step={};var $a,_a,ab=/^(?:toggle|show|hide)$/,bb=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),cb=/queueHooks$/,db=[ib],eb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=bb.exec(b),f=e&&e[3]||(m.cssNumber[a]?"":"px"),g=(m.cssNumber[a]||"px"!==f&&+d)&&bb.exec(m.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do{h=h||".5",g/=h,m.style(c.elem,a,g+f)}while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function fb(){return setTimeout(function(){$a=void 0}),$a=m.now()}function gb(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b){c=T[e],d["margin"+c]=d["padding"+c]=a}return b&&(d.opacity=d.width=a),d}function hb(a,b,c){for(var d,e=(eb[b]||[]).concat(eb["*"]),f=0,g=e.length;g>f;f++){if(d=e[f].call(c,b,a)){return d}}}function ib(a,b,c){var d,e,f,g,h,i,j,l,n=this,o={},p=a.style,q=a.nodeType&&U(a),r=m._data(a,"fxshow");c.queue||(h=m._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,n.always(function(){n.always(function(){h.unqueued--,m.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height" in b||"width" in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=m.css(a,"display"),l="none"===j?m._data(a,"olddisplay")||Fa(a.nodeName):j,"inline"===l&&"none"===m.css(a,"float")&&(k.inlineBlockNeedsLayout&&"inline"!==Fa(a.nodeName)?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",k.shrinkWrapBlocks()||n.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b){if(e=b[d],ab.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d]){continue}q=!0}o[d]=r&&r[d]||m.style(a,d)}else{j=void 0}}if(m.isEmptyObject(o)){"inline"===("none"===j?Fa(a.nodeName):j)&&(p.display=j)}else{r?"hidden" in r&&(q=r.hidden):r=m._data(a,"fxshow",{}),f&&(r.hidden=!q),q?m(a).show():n.done(function(){m(a).hide()}),n.done(function(){var b;m._removeData(a,"fxshow");for(b in o){m.style(a,b,o[b])}});for(d in o){g=hb(q?r[d]:0,d,n),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}}function jb(a,b){var c,d,e,f,g;for(c in a){if(d=m.camelCase(c),e=b[d],f=a[c],m.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=m.cssHooks[d],g&&"expand" in g){f=g.expand(f),delete a[d];for(c in f){c in a||(a[c]=f[c],b[c]=e)}}else{b[d]=e}}}function kb(a,b,c){var d,e,f=0,g=db.length,h=m.Deferred().always(function(){delete i.elem}),i=function(){if(e){return !1}for(var b=$a||fb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++){j.tweens[g].run(f)}return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:m.extend({},b),opts:m.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$a||fb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=m.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e){return this}for(e=!0;d>c;c++){j.tweens[c].run(1)}return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(jb(k,j.opts.specialEasing);g>f;f++){if(d=db[f].call(j,a,k,j.opts)){return d}}return m.map(k,hb,j),m.isFunction(j.opts.start)&&j.opts.start.call(a,j),m.fx.timer(m.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}m.Animation=m.extend(kb,{tweener:function(a,b){m.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++){c=a[d],eb[c]=eb[c]||[],eb[c].unshift(b)}},prefilter:function(a,b){b?db.unshift(a):db.push(a)}}),m.speed=function(a,b,c){var d=a&&"object"==typeof a?m.extend({},a):{complete:c||!c&&b||m.isFunction(a)&&a,duration:a,easing:c&&b||b&&!m.isFunction(b)&&b};return d.duration=m.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in m.fx.speeds?m.fx.speeds[d.duration]:m.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){m.isFunction(d.old)&&d.old.call(this),d.queue&&m.dequeue(this,d.queue)},d},m.fn.extend({fadeTo:function(a,b,c,d){return this.filter(U).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=m.isEmptyObject(a),f=m.speed(b,c,d),g=function(){var b=kb(this,m.extend({},a),f);(e||m._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=m.timers,g=m._data(this);if(e){g[e]&&g[e].stop&&d(g[e])}else{for(e in g){g[e]&&g[e].stop&&cb.test(e)&&d(g[e])}}for(e=f.length;e--;){f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1))}(b||!c)&&m.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=m._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=m.timers,g=d?d.length:0;for(c.finish=!0,m.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;){f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1))}for(b=0;g>b;b++){d[b]&&d[b].finish&&d[b].finish.call(this)}delete c.finish})}}),m.each(["toggle","show","hide"],function(a,b){var c=m.fn[b];m.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(gb(b,!0),a,d,e)}}),m.each({slideDown:gb("show"),slideUp:gb("hide"),slideToggle:gb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){m.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),m.timers=[],m.fx.tick=function(){var a,b=m.timers,c=0;for($a=m.now();c<b.length;c++){a=b[c],a()||b[c]!==a||b.splice(c--,1)}b.length||m.fx.stop(),$a=void 0},m.fx.timer=function(a){m.timers.push(a),a()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){_a||(_a=setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){clearInterval(_a),_a=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(a,b){return a=m.fx?m.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=y.createElement("div"),b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=y.createElement("select"),e=c.appendChild(y.createElement("option")),a=b.getElementsByTagName("input")[0],d.style.cssText="top:1px",k.getSetAttribute="t"!==b.className,k.style=/top/.test(d.getAttribute("style")),k.hrefNormalized="/a"===d.getAttribute("href"),k.checkOn=!!a.value,k.optSelected=e.selected,k.enctype=!!y.createElement("form").enctype,c.disabled=!0,k.optDisabled=!e.disabled,a=y.createElement("input"),a.setAttribute("value",""),k.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),k.radioValue="t"===a.value}();var lb=/\r/g;m.fn.extend({val:function(a){var b,c,d,e=this[0];if(arguments.length){return d=m.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,m(this).val()):a,null==e?e="":"number"==typeof e?e+="":m.isArray(e)&&(e=m.map(e,function(a){return null==a?"":a+""})),b=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],b&&"set" in b&&void 0!==b.set(this,e,"value")||(this.value=e))})}if(e){return b=m.valHooks[e.type]||m.valHooks[e.nodeName.toLowerCase()],b&&"get" in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(lb,""):null==c?"":c)}}}),m.extend({valHooks:{option:{get:function(a){var b=m.find.attr(a,"value");return null!=b?b:m.trim(m.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++){if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&m.nodeName(c.parentNode,"optgroup"))){if(b=m(c).val(),f){return b}g.push(b)}}return g},set:function(a,b){var c,d,e=a.options,f=m.makeArray(b),g=e.length;while(g--){if(d=e[g],m.inArray(m.valHooks.option.get(d),f)>=0){try{d.selected=c=!0}catch(h){d.scrollHeight}}else{d.selected=!1}}return c||(a.selectedIndex=-1),e}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(a,b){return m.isArray(b)?a.checked=m.inArray(m(a).val(),b)>=0:void 0}},k.checkOn||(m.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var mb,nb,ob=m.expr.attrHandle,pb=/^(?:checked|selected)$/i,qb=k.getSetAttribute,rb=k.input;m.fn.extend({attr:function(a,b){return V(this,m.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){m.removeAttr(this,a)})}}),m.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f){return typeof a.getAttribute===K?m.prop(a,b,c):(1===f&&m.isXMLDoc(a)||(b=b.toLowerCase(),d=m.attrHooks[b]||(m.expr.match.bool.test(b)?nb:mb)),void 0===c?d&&"get" in d&&null!==(e=d.get(a,b))?e:(e=m.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set" in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void m.removeAttr(a,b))}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType){while(c=f[e++]){d=m.propFix[c]||c,m.expr.match.bool.test(c)?rb&&qb||!pb.test(c)?a[d]=!1:a[m.camelCase("default-"+c)]=a[d]=!1:m.attr(a,c,""),a.removeAttribute(qb?c:d)}}},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&m.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),nb={set:function(a,b,c){return b===!1?m.removeAttr(a,c):rb&&qb||!pb.test(c)?a.setAttribute(!qb&&m.propFix[c]||c,c):a[m.camelCase("default-"+c)]=a[c]=!0,c}},m.each(m.expr.match.bool.source.match(/\w+/g),function(a,b){var c=ob[b]||m.find.attr;ob[b]=rb&&qb||!pb.test(b)?function(a,b,d){var e,f;return d||(f=ob[b],ob[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,ob[b]=f),e}:function(a,b,c){return c?void 0:a[m.camelCase("default-"+b)]?b.toLowerCase():null}}),rb&&qb||(m.attrHooks.value={set:function(a,b,c){return m.nodeName(a,"input")?void (a.defaultValue=b):mb&&mb.set(a,b,c)}}),qb||(mb={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},ob.id=ob.name=ob.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},m.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:mb.set},m.attrHooks.contenteditable={set:function(a,b,c){mb.set(a,""===b?!1:b,c)}},m.each(["width","height"],function(a,b){m.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),k.style||(m.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var sb=/^(?:input|select|textarea|button|object)$/i,tb=/^(?:a|area)$/i;m.fn.extend({prop:function(a,b){return V(this,m.prop,a,b,arguments.length>1)},removeProp:function(a){return a=m.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),m.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g){return f=1!==g||!m.isXMLDoc(a),f&&(b=m.propFix[b]||b,e=m.propHooks[b]),void 0!==c?e&&"set" in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get" in e&&null!==(d=e.get(a,b))?d:a[b]}},propHooks:{tabIndex:{get:function(a){var b=m.find.attr(a,"tabindex");return b?parseInt(b,10):sb.test(a.nodeName)||tb.test(a.nodeName)&&a.href?0:-1}}}}),k.hrefNormalized||m.each(["href","src"],function(a,b){m.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),k.optSelected||(m.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this}),k.enctype||(m.propFix.enctype="encoding");var ub=/[\t\r\n\f]/g;m.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(m.isFunction(a)){return this.each(function(b){m(this).addClass(a.call(this,b,this.className))})}if(j){for(b=(a||"").match(E)||[];i>h;h++){if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ub," "):" ")){f=0;while(e=b[f++]){d.indexOf(" "+e+" ")<0&&(d+=e+" ")}g=m.trim(d),c.className!==g&&(c.className=g)}}}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(m.isFunction(a)){return this.each(function(b){m(this).removeClass(a.call(this,b,this.className))})}if(j){for(b=(a||"").match(E)||[];i>h;h++){if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ub," "):"")){f=0;while(e=b[f++]){while(d.indexOf(" "+e+" ")>=0){d=d.replace(" "+e+" "," ")}}g=a?m.trim(d):"",c.className!==g&&(c.className=g)}}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(m.isFunction(a)?function(c){m(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=m(this),f=a.match(E)||[];while(b=f[d++]){e.hasClass(b)?e.removeClass(b):e.addClass(b)}}else{(c===K||"boolean"===c)&&(this.className&&m._data(this,"__className__",this.className),this.className=this.className||a===!1?"":m._data(this,"__className__")||"")}})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++){if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ub," ").indexOf(b)>=0){return !0}}return !1}}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){m.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),m.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var vb=m.now(),wb=/\?/,xb=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;m.parseJSON=function(b){if(a.JSON&&a.JSON.parse){return a.JSON.parse(b+"")}var c,d=null,e=m.trim(b+"");return e&&!m.trim(e.replace(xb,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():m.error("Invalid JSON: "+b)},m.parseXML=function(b){var c,d;if(!b||"string"!=typeof b){return null}try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+b),c};var yb,zb,Ab=/#.*$/,Bb=/([?&])_=[^&]*/,Cb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Db=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Eb=/^(?:GET|HEAD)$/,Fb=/^\/\//,Gb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Hb={},Ib={},Jb="*/".concat("*");try{zb=location.href}catch(Kb){zb=y.createElement("a"),zb.href="",zb=zb.href}yb=Gb.exec(zb.toLowerCase())||[];function Lb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(m.isFunction(c)){while(d=f[e++]){"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}}}function Mb(a,b,c,d){var e={},f=a===Ib;function g(h){var i;return e[h]=!0,m.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Nb(a,b){var c,d,e=m.ajaxSettings.flatOptions||{};for(d in b){void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d])}return c&&m.extend(!0,a,c),a}function Ob(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0]){i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"))}if(e){for(g in h){if(h[g]&&h[g].test(e)){i.unshift(g);break}}}if(i[0] in c){f=i[0]}else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Pb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1]){for(g in a.converters){j[g.toLowerCase()]=a.converters[g]}}f=k.shift();while(f){if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift()){if("*"===f){f=i}else{if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g){for(e in j){if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}}}if(g!==!0){if(g&&a["throws"]){b=g(b)}else{try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}}}}}}return{state:"success",data:b}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:zb,type:"GET",isLocal:Db.test(yb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Nb(Nb(a,m.ajaxSettings),b):Nb(m.ajaxSettings,a)},ajaxPrefilter:Lb(Hb),ajaxTransport:Lb(Ib),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=m.ajaxSetup({},b),l=k.context||k,n=k.context&&(l.nodeType||l.jquery)?m(l):m.event,o=m.Deferred(),p=m.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j){j={};while(b=Cb.exec(f)){j[b[1].toLowerCase()]=b[2]}}b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a){if(2>t){for(b in a){q[b]=[q[b],a[b]]}}else{v.always(a[v.status])}}return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||zb)+"").replace(Ab,"").replace(Fb,yb[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=m.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(c=Gb.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===yb[1]&&c[2]===yb[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(yb[3]||("http:"===yb[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=m.param(k.data,k.traditional)),Mb(Hb,k,b,v),2===t){return v}h=m.event&&k.global,h&&0===m.active++&&m.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Eb.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(wb.test(e)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=Bb.test(e)?e.replace(Bb,"$1_="+vb++):e+(wb.test(e)?"&":"?")+"_="+vb++)),k.ifModified&&(m.lastModified[e]&&v.setRequestHeader("If-Modified-Since",m.lastModified[e]),m.etag[e]&&v.setRequestHeader("If-None-Match",m.etag[e])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Jb+"; q=0.01":""):k.accepts["*"]);for(d in k.headers){v.setRequestHeader(d,k.headers[d])}if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t)){return v.abort()}u="abort";for(d in {success:1,error:1,complete:1}){v[d](k[d])}if(i=Mb(Ib,k,b,v)){v.readyState=1,h&&n.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2>t)){throw w}x(-1,w)}}else{x(-1,"No Transport")}function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Ob(k,v,c)),u=Pb(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(m.lastModified[e]=w),w=v.getResponseHeader("etag"),w&&(m.etag[e]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&n.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(n.trigger("ajaxComplete",[v,k]),--m.active||m.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return m.get(a,b,c,"json")},getScript:function(a,b){return m.get(a,void 0,b,"script")}}),m.each(["get","post"],function(a,b){m[b]=function(a,c,d,e){return m.isFunction(c)&&(e=e||d,d=c,c=void 0),m.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),m._evalUrl=function(a){return m.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},m.fn.extend({wrapAll:function(a){if(m.isFunction(a)){return this.each(function(b){m(this).wrapAll(a.call(this,b))})}if(this[0]){var b=m(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType){a=a.firstChild}return a}).append(this)}return this},wrapInner:function(a){return this.each(m.isFunction(a)?function(b){m(this).wrapInner(a.call(this,b))}:function(){var b=m(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=m.isFunction(a);return this.each(function(c){m(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!k.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||m.css(a,"display"))},m.expr.filters.visible=function(a){return !m.expr.filters.hidden(a)};var Qb=/%20/g,Rb=/\[\]$/,Sb=/\r?\n/g,Tb=/^(?:submit|button|image|reset|file)$/i,Ub=/^(?:input|select|textarea|keygen)/i;function Vb(a,b,c,d){var e;if(m.isArray(b)){m.each(b,function(b,e){c||Rb.test(a)?d(a,e):Vb(a+"["+("object"==typeof e?b:"")+"]",e,c,d)})}else{if(c||"object"!==m.type(b)){d(a,b)}else{for(e in b){Vb(a+"["+e+"]",b[e],c,d)}}}}m.param=function(a,b){var c,d=[],e=function(a,b){b=m.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(a)||a.jquery&&!m.isPlainObject(a)){m.each(a,function(){e(this.name,this.value)})}else{for(c in a){Vb(c,a[c],b,e)}}return d.join("&").replace(Qb,"+")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=m.prop(this,"elements");return a?m.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!m(this).is(":disabled")&&Ub.test(this.nodeName)&&!Tb.test(a)&&(this.checked||!W.test(a))}).map(function(a,b){var c=m(this).val();return null==c?null:m.isArray(c)?m.map(c,function(a){return{name:b.name,value:a.replace(Sb,"\r\n")}}):{name:b.name,value:c.replace(Sb,"\r\n")}}).get()}}),m.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return !this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Zb()||$b()}:Zb;var Wb=0,Xb={},Yb=m.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Xb){Xb[a](void 0,!0)}}),k.cors=!!Yb&&"withCredentials" in Yb,Yb=k.ajax=!!Yb,Yb&&m.ajaxTransport(function(a){if(!a.crossDomain||k.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Wb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields){for(e in a.xhrFields){f[e]=a.xhrFields[e]}}a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c){void 0!==c[e]&&f.setRequestHeader(e,c[e]+"")}f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState)){if(delete Xb[g],b=void 0,f.onreadystatechange=m.noop,e){4!==f.readyState&&f.abort()}else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Xb[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}});function Zb(){try{return new a.XMLHttpRequest}catch(b){}}function $b(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return m.globalEval(a),a}}}),m.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),m.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=y.head||m("head")[0]||y.documentElement;return{send:function(d,e){b=y.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var _b=[],ac=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=_b.pop()||m.expando+"_"+vb++;return this[a]=!0,a}}),m.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(ac.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&ac.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=m.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(ac,"$1"+e):b.jsonp!==!1&&(b.url+=(wb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||m.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,_b.push(e)),g&&m.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),m.parseHTML=function(a,b,c){if(!a||"string"!=typeof a){return null}"boolean"==typeof b&&(c=b,b=!1),b=b||y;var d=u.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m.buildFragment([a],b,e),e&&e.length&&m(e).remove(),m.merge([],d.childNodes))};var bc=m.fn.load;m.fn.load=function(a,b,c){if("string"!=typeof a&&bc){return bc.apply(this,arguments)}var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=m.trim(a.slice(h,a.length)),a=a.slice(0,h)),m.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&m.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?m("<div>").append(m.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){m.fn[b]=function(a){return this.on(b,a)}}),m.expr.filters.animated=function(a){return m.grep(m.timers,function(b){return a===b.elem}).length};var cc=a.document.documentElement;function dc(a){return m.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}m.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=m.css(a,"position"),l=m(a),n={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=m.css(a,"top"),i=m.css(a,"left"),j=("absolute"===k||"fixed"===k)&&m.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),m.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(n.top=b.top-h.top+g),null!=b.left&&(n.left=b.left-h.left+e),"using" in b?b.using.call(a,n):l.css(n)}},m.fn.extend({offset:function(a){if(arguments.length){return void 0===a?this:this.each(function(b){m.offset.setOffset(this,a,b)})}var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f){return b=f.documentElement,m.contains(b,e)?(typeof e.getBoundingClientRect!==K&&(d=e.getBoundingClientRect()),c=dc(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d}},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===m.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),m.nodeName(a[0],"html")||(c=a.offset()),c.top+=m.css(a[0],"borderTopWidth",!0),c.left+=m.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-m.css(d,"marginTop",!0),left:b.left-c.left-m.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||cc;while(a&&!m.nodeName(a,"html")&&"static"===m.css(a,"position")){a=a.offsetParent}return a||cc})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);m.fn[a]=function(d){return V(this,function(a,d,e){var f=dc(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void (f?f.scrollTo(c?m(f).scrollLeft():e,c?e:m(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),m.each(["top","left"],function(a,b){m.cssHooks[b]=La(k.pixelPosition,function(a,c){return c?(c=Ja(a,b),Ha.test(c)?m(a).position()[b]+"px":c):void 0})}),m.each({Height:"height",Width:"width"},function(a,b){m.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){m.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return V(this,function(b,c,d){var e;return m.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?m.css(b,c,g):m.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),m.fn.size=function(){return this.length},m.fn.andSelf=m.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return m});var ec=a.jQuery,fc=a.$;return m.noConflict=function(b){return a.$===m&&(a.$=fc),b&&a.jQuery===m&&(a.jQuery=ec),m},typeof b===K&&(a.jQuery=a.$=m),m});jQuery.noConflict();(function(f,d,a,h){var e="textareaAutoSize";var b="plugin_"+e;var g=function(j){return(j.replace(/\s/g,"").length>0)};function c(k,j){this.element=k;this.$element=f(k);this.init()}c.prototype={init:function(){var j=parseInt(this.$element.css("paddingBottom"))+parseInt(this.$element.css("paddingTop"))+parseInt(this.$element.css("borderTopWidth"))+parseInt(this.$element.css("borderBottomWidth"))||0;if(g(this.element.value)){this.$element.height(this.element.scrollHeight-j+2)}this.$element.on("input keyup",function(l){var m=f(d);var k=m.scrollTop();f(this).height(0).height(this.scrollHeight-j+2);m.scrollTop(k)})}};f.fn[e]=function(j){this.each(function(){if(!f.data(this,b)){f.data(this,b,new c(this,j))}});return this}})(jQuery,window,document);(function(h){function a(){h("html").removeClass("no-js").addClass("js");if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){h("body").addClass("touched")}else{h("html").addClass("pc");h("body").addClass("desktop")}if(navigator.userAgent.match(/IEMobile\/10\.0/)){var p=document.createElement("style");p.appendChild(document.createTextNode("@-ms-viewport{width:auto!important}"));document.querySelector("head").appendChild(p)}if(navigator.userAgent.toLowerCase().indexOf("firefox")>-1){document.getElementsByTagName("html")[0].classList.add("firefox")}}function j(){if(!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")&&!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Shape","1.0")){h(".my-projects .fallback img").each(function(){var p=h(this).attr("src").replace(/\.svg/i,".png");h(this).attr(src,p)})}}function c(){h("a[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var q=h(this.hash);if(q.length>0){q=q.length?q:h("[name="+this.hash.slice(1)+"]");if(q.length){var p=q.offset().top;h("html,body").animate({scrollTop:p},1000);return false}}}})}function o(){if(h(".fullscreen")[0]){var s=400;var r=h(window).height();if(r<s){r=s}h(".fullscreen").css("height",r)}if(h(".header").hasClass("hp-header")){var q=(h(this).width()/h(this).height()).toFixed(2);if(q>2.45){p("extreme-landscape")}else{if(q>1.35){p("landscape")}else{if(q<0.5){p("extreme-portrait")}else{if(q<0.85){p("portrait")}else{p("square")}}}}function p(v){var u=["landscape","extreme-landscape","square","portrait","extreme-portrait"];var t;for(t=0;t<u.length;++t){if(u[t]==v){h(".hp-header").addClass(u[t])}else{h(".hp-header").removeClass(u[t])}}}}}function k(t){var r=h("#headerSignUp");var q=h(t.currentTarget);var u=q.data("template");var p=q.data("module")?q.data("module"):"branch";var s=r.find('input[name="wizard_template"]');if(s.length>0){s.val(u);r.find('input[name="wizard_module"]').val(p)}else{r.append('<input type="hidden" name="wizard_template" value="'+u+'" />');r.append('<input type="hidden" name="wizard_module" value="'+p+'" />')}}function m(t){var r=h("#headerSignUp");var q=h(t.currentTarget);var p=q.data("wizard_category")||"";var s=r.find('input[name="wizard_category"]');if(s.length>0){s.val(p)}else{r.append('<input type="hidden" name="wizard_category" value="'+p+'" />')}}function l(){var p=h("body");var q=h(".side-menu");if(q.hasClass("open")){if(h(window).height()<600){h(p).unbind("touchstart.prohibitTouchScroll");h(q).unbind("touchstart.allowTouchScroll touchmove.allowTouchScroll")}else{h(p).bind("touchstart.prohibitTouchScroll",function(r){if(!h(q).has(h(r.target)).length){r.preventDefault();b()}});h(q).bind("touchstart.allowTouchScroll touchmove.allowTouchScroll",function(r){if(r.type==="touchmove"){r.preventDefault()}r.stopPropagation()})}}else{h(p).unbind("touchstart.prohibitTouchScroll");h(q).unbind("touchstart.allowTouchScroll touchmove.allowTouchScroll")}}function g(q){var p=h("body");switch(q){case"active":p.addClass("active").removeClass("active-menu").removeClass("active-data").removeClass("active-table-data").removeClass("active-preview");break;case"active-menu":p.addClass("active-menu").removeClass("active").removeClass("active-data").removeClass("active-table-data").removeClass("active-preview");break;case"active-data":p.addClass("active-data").removeClass("active").removeClass("active-menu").removeClass("active-table-data").removeClass("active-preview");break;case"active-table-data":p.addClass("active-table-data").removeClass("active").removeClass("active-menu").removeClass("active-data").removeClass("active-preview");break;case"active-preview":p.addClass("active-preview").removeClass("active").removeClass("active-menu").removeClass("active-data").removeClass("active-table-data");break;case"add-active":p.addClass("active");break;case"remove-active":p.removeClass("active");break;default:p.removeClass("active").removeClass("active-menu").removeClass("active-data").removeClass("active-preview").removeClass("active-table-data")}}function b(t){var p=h("body");var r=h(".wrapper");var q=h(".side-menu");h(".open").filter(function(u,v){return !h(v).hasClass("checkout-payment-method")}).removeClass("open");r.css("top","");r.css("bottom","");if(r.attr("last-scroll-top")){window.scrollTo(0,r.attr("last-scroll-top"));r.removeAttr("last-scroll-top")}l();switch(t){case"openMenu":h(".side-menu").addClass("open");g("active-menu");if(h(window).height()>600){window.scrollTo(0,0);l()}break;case"closeMenu":h(".side-menu").removeClass("open");g();break;case"login":case"signup":g("active");if(t=="login"){h(".form-log").addClass("open")}else{h(".form-reg").addClass("open")}if(h(window).height()<480||h(window).width()<600){window.scrollTo(0,0)}if(p.is(".active.touched")&&h(window).height()>480){var s=h("body").scrollTop();r.css("top",-s);r.attr("last-scroll-top",s);r.css("bottom","0")}break;case"openLang":g();h(".lang-modal").addClass("open");break;case"openPreview":g("active-preview");h(".live-preview").addClass("open");break;case"openTableData":g("active-table-data");h(".table-data-modal").addClass("open");e();break;default:g()}}function e(){if(h("body").hasClass("active-table-data")){var v=h(window).height(),r=h(".modal-section:not(.hide) .table-data-modal-header").height(),t=h(".modal-section:not(.hide) .table-data-modal-toolbar").height(),u=40,q=20,s=0.8;if(v<600){s=0.9}var p=(v*s).toFixed()-(2*u)-r-t;if(p>150){h(".modal-section.with-content:not(.hide) .table-data-modal-content").addClass("scroll-shadows").css("maxHeight",p).css("overflowX","hidden").css("overflowY","auto");h(".table-data-modal").removeClass("modal-wrapper-allow-scroll").addClass("modal-content-allow-scroll");h(".table-data-modal-wrapper").removeClass("scroll-shadows").css("height","")}else{h(".modal-section.with-content:not(.hide) .table-data-modal-content").removeClass("scroll-shadows").css("maxHeight","").css("overflowX","").css("overflowY","");h(".table-data-modal").addClass("modal-wrapper-allow-scroll").addClass("modal-content-allow-scroll");h(".table-data-modal-wrapper").css("height",v-(2*q)).addClass("scroll-shadows")}}}function f(){var r=h(".modal-overlay");var q=h(".modal-close");var p=h("body");var s=p.hasClass("portal");h(".signup-submit").off("click").on("click",function(t){t.preventDefault();t.stopImmediatePropagation();t.stopPropagation();keen.addKeenEvent("project_registration_modal",{data:{userHash:SignUpClass.tu}});h("[name='wizard_module'],[name='wizard_template'],[name='wizard_category']").remove();if(s&&h(this).hasClass("select-template")){k(t)}else{if(s&&h(this).hasClass("select-category")){m(t)}}b("signup")});h(".login-submit").off("click").on("click",function(t){t.preventDefault();t.stopImmediatePropagation();t.stopPropagation();b("login")});h(".menu-submit").off("click").on("click",function(t){t.preventDefault();t.stopImmediatePropagation();t.stopPropagation();b("openMenu")});h("#close-menu").off("click").on("click",function(t){t.preventDefault();t.stopImmediatePropagation();t.stopPropagation();b("closeMenu")});h(r).off("click").on("click",function(t){if(p.hasClass("active-preview")&&p.hasClass("active")){g("remove-active");h(".form-reg").removeClass("open")}else{if(h(".form-reg").hasClass("wait")){t.preventDefault();t.stopImmediatePropagation();t.stopPropagation()}else{b()}}});h(q).off("click").on("click",function(t){t.preventDefault();t.stopImmediatePropagation();t.stopPropagation();b()});h(document).keyup(function(t){if(t.keyCode==27){if(p.hasClass("active-preview")&&p.hasClass("active")){g("remove-active");h(".form-reg").removeClass("open")}else{if(p.hasClass("active-preview")){location.reload()}else{b()}}}else{if(t.keyCode==37){if(p.hasClass("active-preview")&&!p.hasClass("active")){h(".live-preview-prev").trigger("click")}}else{if(t.keyCode==39){if(p.hasClass("active-preview")&&!p.hasClass("active")){h(".live-preview-next").trigger("click")}}}}});h(".show-lang").off("click").on("click",function(t){t.preventDefault();t.stopImmediatePropagation();t.stopPropagation();b("openLang")});h(".lang-close").off("click").on("click",function(t){t.preventDefault();t.stopImmediatePropagation();t.stopPropagation();b()});h(".select").off("click").on("click",function(t){t.preventDefault();t.stopImmediatePropagation();t.stopPropagation();if(h(this).hasClass("open")){b()}else{h(".open").removeClass("open");h(p).addClass("active").removeClass("active-menu").removeClass("active-data");h(".templates-filter ul").addClass("open");h(this).addClass("open")}});h(document).on("click",(function(u){var t=h(".templates-filter ul");if(!h(u.target).closest(t).length&&!h(u.target).is(t)&&!h(u.target).is(".category-dropdown")){h(t).removeClass("open")}}));h(".templates-filter ul a").on("click",function(t){n(t.target)});h(".coming").off("click").on("click",function(t){t.preventDefault();t.stopImmediatePropagation();t.stopPropagation();h(this).addClass("show-coming").removeClass("coming")});h(".switch-text-once").off("click").on("click",function(u){u.preventDefault();u.stopImmediatePropagation();u.stopPropagation();var t=h(this);if(t.parent().parent().hasClass("template")){t.parent().removeAttr("href").addClass("not-supported")}else{t.replaceWith("<div>"+h(this).data("text")+"</div>")}});h(".toggle-block").off("click").on("click",function(u){u.preventDefault();u.stopImmediatePropagation();u.stopPropagation();var t=h(this);if(t.hasClass("toggle-hide")){t.removeClass("toggle-hide").addClass("toggle-show")}else{t.removeClass("toggle-show").addClass("toggle-hide")}});h(".data-filter-switch").off("click").on("click",function(u){u.preventDefault();u.stopImmediatePropagation();u.stopPropagation();var t=h(this).next(".data-filter-menu");if(t.hasClass("open")){t.removeClass("open")}else{h(".data-filter-menu").removeClass("open");t.addClass("open")}});h(document).click(function(u){var t=h(".data-filter-selector");if(!h(u.target).closest(t).length&&!h(u.target).is(t)){h(".data-filter-menu").removeClass("open")}});h(".preview-submit").off("click").on("click",function(w){w.preventDefault();w.stopImmediatePropagation();w.stopPropagation();var v={hash:h(this).data("template"),demoUrl:this.href,module:h(this).data("module")};var u=h(".live-preview").data("previews");if(!u){u=[]}var t=-1;for(i in u){if(u[i].hash==v.hash){t=parseInt(i);break}}if(t<0){x(v);h(".live-preview .live-preview-prev").hide();h(".live-preview .live-preview-next").hide()}else{x(u[t]);h(".live-preview-prev").show().off("click").on("click",function(y){y.preventDefault();y.stopImmediatePropagation();y.stopPropagation();t=(t+u.length-1)%u.length;x(u[t])});h(".live-preview-next").show().off("click").on("click",function(y){y.preventDefault();y.stopImmediatePropagation();y.stopPropagation();t=(t+1)%u.length;x(u[t])})}function x(y){if(window.history.pushState&&y.title&&y.detailUrl){window.history.pushState(null,y.title,y.detailUrl)}h(".live-preview-frame").addClass("loading");h(".live-preview-frame iframe").attr("src",y.demoUrl).off("load").on("load",function(){h(".live-preview-frame").removeClass("loading")});h(".live-preview-use").off("click").data("template",y.hash).data("module",y.module).on("click",function(z){z.preventDefault();z.stopImmediatePropagation();z.stopPropagation();h("[name='wizard_module'],[name='wizard_template'],[name='wizard_category']").remove();k(z);g("add-active");h(".form-reg").addClass("open");if(h(window).height()<480||h(window).width()<600){window.scrollTo(0,0)}})}b("openPreview")});h(".live-preview-close").off("click").on("click",function(t){t.preventDefault();t.stopImmediatePropagation();t.stopPropagation();location.reload()});h(".form").on("change focusin focusout mouseenter mouseleave",'.form-file-classic input[type="file"]',function(x){var w=h(this).closest(".form-file-base");if(x.type=="focusout"){w.removeClass("focus")}else{if(x.type=="focusin"){w.addClass("focus")}}if(x.type=="change"){w.removeClass("focus")}if(x.type=="mouseleave"){w.removeClass("hover")}else{if(x.type=="mouseenter"){w.addClass("hover")}else{var u=h(this);var v=u.get(0).files?u.get(0).files.length:1;var t=u.val().replace(/\\/g,"/").replace(/.*\//,"");if(v>1){t=v+" files selected"}h(this).parents().find(".form-file-text").text(t)}}});h(".footer-full .footer-columns .column").on("click","h3",function(v){v.preventDefault();var u=h(this).closest(".column");if(u.hasClass("open")){u.removeClass("open")}else{u.addClass("open")}})}h(".section-faq-item-outer h3").off("click").on("click",function(r){var q=h(this).parent();var p=q.find(".section-faq-item-inner");h(".section-faq-item-inner").not(p).slideUp(250);if(q.hasClass("open")){q.removeClass("open")}else{h(".section-faq-item-outer").removeClass("open");q.addClass("open")}p.stop(false,true).slideToggle(250);r.preventDefault()});
/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license */
window.matchMedia||(window.matchMedia=function(){var q=(window.styleMedia||window.media);if(!q){var r=document.createElement("style"),p=document.getElementsByTagName("script")[0],s=null;r.type="text/css";r.id="matchmediajs-test";p.parentNode.insertBefore(r,p);s=("getComputedStyle" in window)&&window.getComputedStyle(r,null)||r.currentStyle;q={matchMedium:function(t){var u="@media "+t+"{ #matchmediajs-test { width: 1px; } }";if(r.styleSheet){r.styleSheet.cssText=u}else{r.textContent=u}return s.width==="1px"}}}return function(t){return{matches:q.matchMedium(t||"all"),media:t||"all"}}}());h(function(){var u="span[rel~=tooltip], a[rel~=tooltip]";var q=h('<div id="tooltip"></div>');var p=h("main > div.pricelist");var s;var w=500;var r=window.matchMedia("(max-width: 931px)");var v=window.matchMedia("(max-width: 1179px)");if(("ontouchstart" in window)||(navigator.maxTouchPoints>0)||(navigator.msMaxTouchPoints>0)){w=0}q.appendTo("body");h("body").on("mouseenter mouseleave click",u,t);function t(y){var x=function(){clearTimeout(s);q.html("").css({top:0,left:0,opacity:0})};h(document).on("hidewebnodetooltip",x);if(y.type==="mouseenter"){s=setTimeout(function(){var z=function(){var H=h(y.currentTarget);if(H.parent().hasClass("disabled")){return}var F=H.attr("data-title");var B=h("#"+F).html();if(p.length){if(!p.hasClass("two-cols")){if((p.hasClass("three-cols")&&r.matches)||(!p.hasClass("three-cols")&&v.matches)){var J=H.closest("dt");var E=J.next();var K="";if(J.hasClass("pricelist-feature-show-value-in-tooltip")){K=": "+E.text().trim()}var D=H.text().trim()+K;if(D!=""){B="<h3>"+D+"</h3><p>"+B+"</p>"}}}}q.html(B).css({opacity:0});if(h(window).width()<q.outerWidth()*1.5){q.css("max-width",h(window).width()/2)}var G=H.offset().left+(H.outerWidth()/2)-(q.outerWidth()/2);var I=H.offset().top-q.outerHeight()-20;if(G<0){G=H.offset().left+H.outerWidth()/2-20;q.addClass("left")}else{q.removeClass("left")}if(G+q.outerWidth()>h(window).width()){G=H.offset().left-q.outerWidth()+H.outerWidth()/2+20;q.addClass("right")}else{q.removeClass("right")}var C=h("body").scrollTop();if(I<C){I=H.offset().top+H.outerHeight();q.addClass("top")}else{q.removeClass("top")}q.css({left:G,top:I+12,opacity:1})};var A=function(){if(q.css("opacity")=="0"){return false}z()};z();h(window).resize(A);q.on("click",x)},w)}if(y.type==="mouseleave"){x()}}});function n(p){var r=h(".category-dropdown .category-selected, .category-dropdown-old");var q=h(p).text();h(r).text(q)}window.modalControl=b;window.tableDataModalControl=e;function d(){var q=document.querySelectorAll("[data-lazy-img-src]");var r=q.length;for(var p=0;p<r;p++){q[p].src=q[p].getAttribute("data-lazy-img-src")}}h(window).on("load",function(){d()});h(document).ready(function(){a();j();c();window.onProjectsRefresh=f.bind(h);window.onProjectsRefresh();o();e();h("body:not(touched) textarea.js-auto-expand").textareaAutoSize();h(window).on("resize orientationchange",function(){o();l();e();h("body:not(touched) textarea.js-auto-expand").trigger("input")});h(document).on("scroll ready resize orientationchange",function(){var q=h(document).scrollTop();var t=q+h(window).height();var r=h(".lp-section");for(var s=0;s<r.length;s++){var p=r[s];if(h(p).position().top+(h(p).height()/2)<t){h(p).addClass("lp-section-visible")}else{h(p).removeClass("lp-section-visible")}}})})})(jQuery);/*!
 * Chart.js
 * http://chartjs.org/
 * Version: 1.1.1
 *
 *
 *
 * Copyright 2015 Nick Downie
 * Released under the MIT license
 * https://github.com/nnnick/Chart.js/blob/master/LICENSE.md
 */
(function(){var X=this,aj=X.Chart,an=function(b){this.canvas=b.canvas,this.ctx=b;var a=function(d,c){return d["offset"+c]?d["offset"+c]:document.defaultView.getComputedStyle(d).getPropertyValue(c)};this.width=a(b.canvas,"Width")||b.canvas.width,this.height=a(b.canvas,"Height")||b.canvas.height;return this.aspectRatio=this.width/this.height,Y.retinaScale(this),this};an.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipTitleTemplate:"<%= label%>",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= datasetLabel %>: <%= value %>",multiTooltipKeyBackground:"#fff",segmentColorDefault:["#A6CEE3","#1F78B4","#B2DF8A","#33A02C","#FB9A99","#E31A1C","#FDBF6F","#FF7F00","#CAB2D6","#6A3D9A","#B4B482","#B15928"],segmentHighlightColorDefaults:["#CEF6FF","#47A0DC","#DAFFB2","#5BC854","#FFC2C1","#FF4244","#FFE797","#FFA728","#F2DAFE","#9265C2","#DCDCAA","#D98150"],onAnimationProgress:function(){},onAnimationComplete:function(){}}},an.types={};var Y=an.helpers={},af=Y.each=function(b,a,d){var c=Array.prototype.slice.call(arguments,3);if(b){if(b.length===+b.length){var g;for(g=0;g<b.length;g++){a.apply(d,[b[g],g].concat(c))}}else{for(var f in b){a.apply(d,[b[f],f].concat(c))}}}},ae=Y.clone=function(b){var a={};return af(b,function(d,c){b.hasOwnProperty(c)&&(a[c]=d)}),a},ar=Y.extend=function(a){return af(Array.prototype.slice.call(arguments,1),function(b){af(b,function(d,c){b.hasOwnProperty(c)&&(a[c]=d)})}),a},ak=Y.merge=function(b,a){var c=Array.prototype.slice.call(arguments,0);return c.unshift({}),ar.apply(null,c)},ah=Y.indexOf=function(b,a){if(Array.prototype.indexOf){return b.indexOf(a)}for(var c=0;c<b.length;c++){if(b[c]===a){return c}}return -1},aa=(Y.where=function(b,a){var c=[];return Y.each(b,function(d){a(d)&&c.push(d)}),c},Y.findNextWhere=function(b,a,d){d||(d=-1);for(var c=d+1;c<b.length;c++){var f=b[c];if(a(f)){return f}}},Y.findPreviousWhere=function(b,a,d){d||(d=b.length);for(var c=d-1;c>=0;c--){var f=b[c];if(a(f)){return f}}},Y.inherits=function(b){var a=this,d=b&&b.hasOwnProperty("constructor")?b.constructor:function(){return a.apply(this,arguments)},c=function(){this.constructor=d};return c.prototype=a.prototype,d.prototype=new c,d.extend=aa,b&&ar(d.prototype,b),d.__super__=a.prototype,d}),ap=Y.noop=function(){},V=Y.uid=function(){var a=0;return function(){return"chart-"+a++}}(),ao=Y.warn=function(a){window.console&&"function"==typeof window.console.warn&&console.warn(a)},ad=Y.amd="function"==typeof define&&define.amd,am=Y.isNumber=function(a){return !isNaN(parseFloat(a))&&isFinite(a)},al=Y.max=function(a){return Math.max.apply(Math,a)},ag=Y.min=function(a){return Math.min.apply(Math,a)},Q=(Y.cap=function(b,a,c){if(am(a)){if(b>a){return a}}else{if(am(c)&&c>b){return c}}return b},Y.getDecimalPlaces=function(b){if(b%1!==0&&am(b)){var a=b.toString();if(a.indexOf("e-")<0){return a.split(".")[1].length}if(a.indexOf(".")<0){return parseInt(a.split("e-")[1])}var c=a.split(".")[1].split("e-");return c[0].length+parseInt(c[1])}return 0}),D=Y.radians=function(a){return a*(Math.PI/180)},Z=(Y.getAngleFromPoint=function(b,a){var d=a.x-b.x,c=a.y-b.y,g=Math.sqrt(d*d+c*c),f=2*Math.PI+Math.atan2(c,d);return 0>d&&0>c&&(f+=2*Math.PI),{angle:f,distance:g}},Y.aliasPixel=function(a){return a%2===0?0:0.5}),N=(Y.splineCurve=function(d,c,k,g){var m=Math.sqrt(Math.pow(c.x-d.x,2)+Math.pow(c.y-d.y,2)),l=Math.sqrt(Math.pow(k.x-c.x,2)+Math.pow(k.y-c.y,2)),b=g*m/(m+l),f=g*l/(m+l);return{inner:{x:c.x-b*(k.x-d.x),y:c.y-b*(k.y-d.y)},outer:{x:c.x+f*(k.x-d.x),y:c.y+f*(k.y-d.y)}}},Y.calculateOrderOfMagnitude=function(a){return Math.floor(Math.log(a)/Math.LN10)}),K=(Y.calculateScaleRange=function(n,L,R,w,B){var at=2,M=Math.floor(L/(1.5*R)),F=at>=M,z=[];af(n,function(a){null==a||z.push(a)});var W=ag(z),m=al(z);m===W&&(m+=0.5,W>=0.5&&!w?W-=0.5:m+=0.5);for(var T=Math.abs(m-W),A=N(T),P=Math.ceil(m/(1*Math.pow(10,A)))*Math.pow(10,A),k=w?0:Math.floor(W/(1*Math.pow(10,A)))*Math.pow(10,A),b=P-k,x=Math.pow(10,A),g=Math.round(b/x);(g>M||M>2*g)&&!F;){if(g>M){x*=2,g=Math.round(b/x),g%1!==0&&(F=!0)}else{if(B&&A>=0){if(x/2%1!==0){break}x/=2,g=Math.round(b/x)}else{x/=2,g=Math.round(b/x)}}}return F&&(g=at,x=b/g),{steps:g,stepValue:x,min:k,max:k+g*x}},Y.template=function(b,a){function d(g,f){var h=/\W/.test(g)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+g.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):c[g]=c[g];return f?h(f):h}if(b instanceof Function){return b(a)}var c={};return d(b,a)}),aq=(Y.generateLabels=function(b,a,d,c){var f=new Array(a);return b&&af(f,function(e,g){f[g]=K(b,{value:d+c*(g+1)})}),f},Y.easingEffects={linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return -1*a*(a-2)},easeInOutQuad:function(a){return(a/=0.5)<1?0.5*a*a:-0.5*(--a*(a-2)-1)},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return 1*((a=a/1-1)*a*a+1)},easeInOutCubic:function(a){return(a/=0.5)<1?0.5*a*a*a:0.5*((a-=2)*a*a+2)},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return -1*((a=a/1-1)*a*a*a-1)},easeInOutQuart:function(a){return(a/=0.5)<1?0.5*a*a*a*a:-0.5*((a-=2)*a*a*a-2)},easeInQuint:function(a){return 1*(a/=1)*a*a*a*a},easeOutQuint:function(a){return 1*((a=a/1-1)*a*a*a*a+1)},easeInOutQuint:function(a){return(a/=0.5)<1?0.5*a*a*a*a*a:0.5*((a-=2)*a*a*a*a+2)},easeInSine:function(a){return -1*Math.cos(a/1*(Math.PI/2))+1},easeOutSine:function(a){return 1*Math.sin(a/1*(Math.PI/2))},easeInOutSine:function(a){return -0.5*(Math.cos(Math.PI*a/1)-1)},easeInExpo:function(a){return 0===a?1:1*Math.pow(2,10*(a/1-1))},easeOutExpo:function(a){return 1===a?1:1*(-Math.pow(2,-10*a/1)+1)},easeInOutExpo:function(a){return 0===a?0:1===a?1:(a/=0.5)<1?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*--a)+2)},easeInCirc:function(a){return a>=1?a:-1*(Math.sqrt(1-(a/=1)*a)-1)},easeOutCirc:function(a){return 1*Math.sqrt(1-(a=a/1-1)*a)},easeInOutCirc:function(a){return(a/=0.5)<1?-0.5*(Math.sqrt(1-a*a)-1):0.5*(Math.sqrt(1-(a-=2)*a)+1)},easeInElastic:function(b){var a=1.70158,d=0,c=1;return 0===b?0:1==(b/=1)?1:(d||(d=0.3),c<Math.abs(1)?(c=1,a=d/4):a=d/(2*Math.PI)*Math.asin(1/c),-(c*Math.pow(2,10*(b-=1))*Math.sin((1*b-a)*(2*Math.PI)/d)))},easeOutElastic:function(b){var a=1.70158,d=0,c=1;return 0===b?0:1==(b/=1)?1:(d||(d=0.3),c<Math.abs(1)?(c=1,a=d/4):a=d/(2*Math.PI)*Math.asin(1/c),c*Math.pow(2,-10*b)*Math.sin((1*b-a)*(2*Math.PI)/d)+1)},easeInOutElastic:function(b){var a=1.70158,d=0,c=1;return 0===b?0:2==(b/=0.5)?1:(d||(d=1*(0.3*1.5)),c<Math.abs(1)?(c=1,a=d/4):a=d/(2*Math.PI)*Math.asin(1/c),1>b?-0.5*(c*Math.pow(2,10*(b-=1))*Math.sin((1*b-a)*(2*Math.PI)/d)):c*Math.pow(2,-10*(b-=1))*Math.sin((1*b-a)*(2*Math.PI)/d)*0.5+1)},easeInBack:function(b){var a=1.70158;return 1*(b/=1)*b*((a+1)*b-a)},easeOutBack:function(b){var a=1.70158;return 1*((b=b/1-1)*b*((a+1)*b+a)+1)},easeInOutBack:function(b){var a=1.70158;return(b/=0.5)<1?0.5*(b*b*(((a*=1.525)+1)*b-a)):0.5*((b-=2)*b*(((a*=1.525)+1)*b+a)+2)},easeInBounce:function(a){return 1-aq.easeOutBounce(1-a)},easeOutBounce:function(a){return(a/=1)<1/2.75?1*(7.5625*a*a):2/2.75>a?1*(7.5625*(a-=1.5/2.75)*a+0.75):2.5/2.75>a?1*(7.5625*(a-=2.25/2.75)*a+0.9375):1*(7.5625*(a-=2.625/2.75)*a+0.984375)},easeInOutBounce:function(a){return 0.5>a?0.5*aq.easeInBounce(2*a):0.5*aq.easeOutBounce(2*a-1)+0.5}}),O=Y.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return window.setTimeout(a,1000/60)}}(),G=(Y.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(a){return window.clearTimeout(a,1000/60)}}(),Y.animationLoop=function(p,f,k,r,c,b){var m=0,g=aq[k]||aq.linear,d=function(){m++;var h=m/f,a=g(h);p.call(b,a,h,m),r.call(b,a,h),f>m?b.animationFrame=O(d):c.apply(b)};O(d)},Y.getRelativePosition=function(b){var a,d,c=b.originalEvent||b,g=b.currentTarget||b.srcElement,f=g.getBoundingClientRect();return c.touches?(a=c.touches[0].clientX-f.left,d=c.touches[0].clientY-f.top):(a=c.clientX-f.left,d=c.clientY-f.top),{x:a,y:d}},Y.addEvent=function(b,a,c){b.addEventListener?b.addEventListener(a,c):b.attachEvent?b.attachEvent("on"+a,c):b["on"+a]=c}),I=Y.removeEvent=function(b,a,c){b.removeEventListener?b.removeEventListener(a,c,!1):b.detachEvent?b.detachEvent("on"+a,c):b["on"+a]=ap},ai=(Y.bindEvents=function(b,a,c){b.events||(b.events={}),af(a,function(d){b.events[d]=function(){c.apply(b,arguments)},G(b.chart.canvas,d,b.events[d])})},Y.unbindEvents=function(b,a){af(a,function(c,d){I(b.chart.canvas,d,c)})}),U=Y.getMaximumWidth=function(b){var a=b.parentNode,c=parseInt(E(a,"padding-left"))+parseInt(E(a,"padding-right"));return a?a.clientWidth-c:0},ac=Y.getMaximumHeight=function(b){var a=b.parentNode,c=parseInt(E(a,"padding-bottom"))+parseInt(E(a,"padding-top"));return a?a.clientHeight-c:0},E=Y.getStyle=function(b,a){return b.currentStyle?b.currentStyle[a]:document.defaultView.getComputedStyle(b,null).getPropertyValue(a)},q=(Y.getMaximumSize=Y.getMaximumWidth,Y.retinaScale=function(b){var a=b.ctx,d=b.canvas.width,c=b.canvas.height;window.devicePixelRatio&&(a.canvas.style.width=d+"px",a.canvas.style.height=c+"px",a.canvas.height=c*window.devicePixelRatio,a.canvas.width=d*window.devicePixelRatio,a.scale(window.devicePixelRatio,window.devicePixelRatio))}),H=Y.clear=function(a){a.ctx.clearRect(0,0,a.width,a.height)},j=Y.fontString=function(b,a,c){return a+" "+b+"px "+c},J=Y.longestText=function(b,a,d){b.font=a;var c=0;return af(d,function(f){var g=b.measureText(f).width;c=g>c?g:c}),c},ab=Y.drawRoundedRectangle=function(b,a,d,c,g,f){b.beginPath(),b.moveTo(a+f,d),b.lineTo(a+c-f,d),b.quadraticCurveTo(a+c,d,a+c,d+f),b.lineTo(a+c,d+g-f),b.quadraticCurveTo(a+c,d+g,a+c-f,d+g),b.lineTo(a+f,d+g),b.quadraticCurveTo(a,d+g,a,d+g-f),b.lineTo(a,d+f),b.quadraticCurveTo(a,d,a+f,d),b.closePath()};an.instances={},an.Type=function(b,a,c){this.options=a,this.chart=c,this.id=V(),an.instances[this.id]=this,a.responsive&&this.resize(),this.initialize.call(this,b)},ar(an.Type.prototype,{initialize:function(){return this},clear:function(){return H(this.chart),this},stop:function(){return an.animationService.cancelAnimation(this),this},resize:function(b){this.stop();var a=this.chart.canvas,d=U(this.chart.canvas),c=this.options.maintainAspectRatio?d/this.chart.aspectRatio:ac(this.chart.canvas);return a.width=this.chart.width=d,a.height=this.chart.height=c,q(this.chart),"function"==typeof b&&b.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:ap,render:function(b){if(b&&this.reflow(),this.options.animation&&!b){var a=new an.Animation;a.numSteps=this.options.animationSteps,a.easing=this.options.animationEasing,a.render=function(d,c){var f=Y.easingEffects[c.easing],h=c.currentStep/c.numSteps,g=f(h);d.draw(g,h,c.currentStep)},a.onAnimationProgress=this.options.onAnimationProgress,a.onAnimationComplete=this.options.onAnimationComplete,an.animationService.addAnimation(this,a)}else{this.draw(),this.options.onAnimationComplete.call(this)}return this},generateLegend:function(){return Y.template(this.options.legendTemplate,this)},destroy:function(){this.stop(),this.clear(),ai(this,this.events);var a=this.chart.canvas;a.width=this.chart.width,a.height=this.chart.height,a.style.removeProperty?(a.style.removeProperty("width"),a.style.removeProperty("height")):(a.style.removeAttribute("width"),a.style.removeAttribute("height")),delete an.instances[this.id]},showTooltip:function(p,f){"undefined"==typeof this.activeElements&&(this.activeElements=[]);var e=function(c){var a=!1;return c.length!==this.activeElements.length?a=!0:(af(c,function(d,h){d!==this.activeElements[h]&&(a=!0)},this),a)}.call(this,p);if(e||f){if(this.activeElements=p,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1),p.length>0){if(this.datasets&&this.datasets.length>1){for(var m,g,b=this.datasets.length-1;b>=0&&(m=this.datasets[b].points||this.datasets[b].bars||this.datasets[b].segments,g=ah(m,p[0]),-1===g);b--){}var l=[],n=[],k=function(z){var v,w,s,h,y,u=[],c=[],x=[];return Y.each(this.datasets,function(a){v=a.points||a.bars||a.segments,v[g]&&v[g].hasValue()&&u.push(v[g])}),Y.each(u,function(a){c.push(a.x),x.push(a.y),l.push(Y.template(this.options.multiTooltipTemplate,a)),n.push({fill:a._saved.fillColor||a.fillColor,stroke:a._saved.strokeColor||a.strokeColor})},this),y=ag(x),s=al(x),h=ag(c),w=al(c),{x:h>this.chart.width/2?h:w,y:(y+s)/2}}.call(this,g);new an.MultiTooltip({x:k.x,y:k.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:l,legendColors:n,legendColorBackground:this.options.multiTooltipKeyBackground,title:K(this.options.tooltipTitleTemplate,p[0]),chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else{af(p,function(c){var a=c.tooltipPosition();new an.Tooltip({x:Math.round(a.x),y:Math.round(a.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:K(this.options.tooltipTemplate,c),chart:this.chart,custom:this.options.customTooltips}).draw()},this)}}return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),an.Type.extend=function(c){var b=this,d=function(){return b.apply(this,arguments)};if(d.prototype=ae(b.prototype),ar(d.prototype,c),d.extend=an.Type.extend,c.name||b.prototype.name){var e=c.name||b.prototype.name,a=an.defaults[b.prototype.name]?ae(an.defaults[b.prototype.name]):{};an.defaults[e]=ar(a,c.defaults),an.types[e]=d,an.prototype[e]=function(g,f){var h=ak(an.defaults.global,an.defaults[e],f||{});return new d(g,h,this)}}else{ao("Name not provided for this chart, so it hasn't been registered")}return b},an.Element=function(a){ar(this,a),this.initialize.apply(this,arguments),this.save()},ar(an.Element.prototype,{initialize:function(){},restore:function(a){return a?af(a,function(b){this[b]=this._saved[b]},this):ar(this,this._saved),this},save:function(){return this._saved=ae(this),delete this._saved._saved,this},update:function(a){return af(a,function(c,b){this._saved[b]=this[b],this[b]=c},this),this},transition:function(b,a){return af(b,function(c,d){this[d]=(c-this._saved[d])*a+this._saved[d]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return am(this.value)}}),an.Element.extend=aa,an.Point=an.Element.extend({display:!0,inRange:function(b,a){var c=this.hitDetectionRadius+this.radius;return Math.pow(b-this.x,2)+Math.pow(a-this.y,2)<Math.pow(c,2)},draw:function(){if(this.display){var a=this.ctx;a.beginPath(),a.arc(this.x,this.y,this.radius,0,2*Math.PI),a.closePath(),a.strokeStyle=this.strokeColor,a.lineWidth=this.strokeWidth,a.fillStyle=this.fillColor,a.fill(),a.stroke()}}}),an.Arc=an.Element.extend({inRange:function(f,d){var k=Y.getAngleFromPoint(this,{x:f,y:d}),p=k.angle%(2*Math.PI),m=(2*Math.PI+this.startAngle)%(2*Math.PI),c=(2*Math.PI+this.endAngle)%(2*Math.PI)||360,g=m>c?c>=p||p>=m:p>=m&&c>=p,b=k.distance>=this.innerRadius&&k.distance<=this.outerRadius;return g&&b},tooltipPosition:function(){var b=this.startAngle+(this.endAngle-this.startAngle)/2,a=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(b)*a,y:this.y+Math.sin(b)*a}},draw:function(b){var a=this.ctx;a.beginPath(),a.arc(this.x,this.y,this.outerRadius<0?0:this.outerRadius,this.startAngle,this.endAngle),a.arc(this.x,this.y,this.innerRadius<0?0:this.innerRadius,this.endAngle,this.startAngle,!0),a.closePath(),a.strokeStyle=this.strokeColor,a.lineWidth=this.strokeWidth,a.fillStyle=this.fillColor,a.fill(),a.lineJoin="bevel",this.showStroke&&a.stroke()}}),an.Rectangle=an.Element.extend({draw:function(){var b=this.ctx,a=this.width/2,d=this.x-a,c=this.x+a,g=this.base-(this.base-this.y),f=this.strokeWidth/2;this.showStroke&&(d+=f,c-=f,g+=f),b.beginPath(),b.fillStyle=this.fillColor,b.strokeStyle=this.strokeColor,b.lineWidth=this.strokeWidth,b.moveTo(d,this.base),b.lineTo(d,g),b.lineTo(c,g),b.lineTo(c,this.base),b.fill(),this.showStroke&&b.stroke()},height:function(){return this.base-this.y},inRange:function(b,a){return b>=this.x-this.width/2&&b<=this.x+this.width/2&&a>=this.y&&a<=this.base}}),an.Animation=an.Element.extend({currentStep:null,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),an.Tooltip=an.Element.extend({draw:function(){var d=this.chart.ctx;d.font=j(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var c=this.caretPadding=2,g=d.measureText(this.text).width+2*this.xPadding,f=this.fontSize+2*this.yPadding,k=f+this.caretHeight+c;this.x+g/2>this.chart.width?this.xAlign="left":this.x-g/2<0&&(this.xAlign="right"),this.y-k<0&&(this.yAlign="below");var h=this.x-g/2,b=this.y-k;if(d.fillStyle=this.fillColor,this.custom){this.custom(this)}else{switch(this.yAlign){case"above":d.beginPath(),d.moveTo(this.x,this.y-c),d.lineTo(this.x+this.caretHeight,this.y-(c+this.caretHeight)),d.lineTo(this.x-this.caretHeight,this.y-(c+this.caretHeight)),d.closePath(),d.fill();break;case"below":b=this.y+c+this.caretHeight,d.beginPath(),d.moveTo(this.x,this.y+c),d.lineTo(this.x+this.caretHeight,this.y+c+this.caretHeight),d.lineTo(this.x-this.caretHeight,this.y+c+this.caretHeight),d.closePath(),d.fill()}switch(this.xAlign){case"left":h=this.x-g+(this.cornerRadius+this.caretHeight);break;case"right":h=this.x-(this.cornerRadius+this.caretHeight)}ab(d,h,b,g,f,this.cornerRadius),d.fill(),d.fillStyle=this.textColor,d.textAlign="center",d.textBaseline="middle",d.fillText(this.text,h+g/2,b+f/2)}}}),an.MultiTooltip=an.Element.extend({initialize:function(){this.font=j(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=j(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.titleHeight=this.title?1.5*this.titleFontSize:0,this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+this.titleHeight,this.ctx.font=this.titleFont;var b=this.ctx.measureText(this.title).width,a=J(this.ctx,this.font,this.labels)+this.fontSize+3,d=al([a,b]);this.width=d+2*this.xPadding;var c=this.height/2;this.y-c<0?this.y=c:this.y+c>this.chart.height&&(this.y=this.chart.height-c),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(b){var a=this.y-this.height/2+this.yPadding,c=b-1;return 0===b?a+this.titleHeight/3:a+(1.5*this.fontSize*c+this.fontSize/2)+this.titleHeight},draw:function(){if(this.custom){this.custom(this)}else{ab(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var a=this.ctx;a.fillStyle=this.fillColor,a.fill(),a.closePath(),a.textAlign="left",a.textBaseline="middle",a.fillStyle=this.titleTextColor,a.font=this.titleFont,a.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),a.font=this.font,Y.each(this.labels,function(b,c){a.fillStyle=this.textColor,a.fillText(b,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(c+1)),a.fillStyle=this.legendColorBackground,a.fillRect(this.x+this.xPadding,this.getLineHeight(c+1)-this.fontSize/2,this.fontSize,this.fontSize),a.fillStyle=this.legendColors[c].fill,a.fillRect(this.x+this.xPadding,this.getLineHeight(c+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}}),an.Scale=an.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var b=Q(this.stepValue),a=0;a<=this.steps;a++){this.yLabels.push(K(this.templateString,{value:(this.min+a*this.stepValue).toFixed(b)}))}this.yLabelWidth=this.display&&this.showLabels?J(this.ctx,this.font,this.yLabels)+10:0},addXLabel:function(a){this.xLabels.push(a),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var b,a=this.endPoint,c=this.endPoint-this.startPoint;for(this.calculateYRange(c),this.buildYLabels(),this.calculateXLabelRotation();c>this.endPoint-this.startPoint;){c=this.endPoint-this.startPoint,b=this.yLabelWidth,this.calculateYRange(c),this.buildYLabels(),b<this.yLabelWidth&&(this.endPoint=a,this.calculateXLabelRotation())}},calculateXLabelRotation:function(){this.ctx.font=this.font;var d,c,g=this.ctx.measureText(this.xLabels[0]).width,f=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=f/2+3,this.xScalePaddingLeft=g/2>this.yLabelWidth?g/2:this.yLabelWidth,this.xLabelRotation=0,this.display){var k,h=J(this.ctx,this.font,this.xLabels);this.xLabelWidth=h;for(var b=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>b&&0===this.xLabelRotation||this.xLabelWidth>b&&this.xLabelRotation<=90&&this.xLabelRotation>0;){k=Math.cos(D(this.xLabelRotation)),d=k*g,c=k*f,d+this.fontSize/2>this.yLabelWidth&&(this.xScalePaddingLeft=d+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=k*h}this.xLabelRotation>0&&(this.endPoint-=Math.sin(D(this.xLabelRotation))*h+3)}else{this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding}},calculateYRange:ap,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(b){var a=this.drawingArea()/(this.min-this.max);return this.endPoint-a*(b-this.min)},calculateX:function(b){var a=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),d=a/Math.max(this.valuesCount-(this.offsetGridLines?0:1),1),c=d*b+this.xScalePaddingLeft;return this.offsetGridLines&&(c+=d/2),Math.round(c)},update:function(a){Y.extend(this,a),this.fit()},draw:function(){var b=this.ctx,a=(this.endPoint-this.startPoint)/this.steps,c=Math.round(this.xScalePaddingLeft);this.display&&(b.fillStyle=this.textColor,b.font=this.font,af(this.yLabels,function(i,g){var e=this.endPoint-a*g,f=Math.round(e),d=this.showHorizontalLines;b.textAlign="right",b.textBaseline="middle",this.showLabels&&b.fillText(i,c-10,e),0!==g||d||(d=!0),d&&b.beginPath(),g>0?(b.lineWidth=this.gridLineWidth,b.strokeStyle=this.gridLineColor):(b.lineWidth=this.lineWidth,b.strokeStyle=this.lineColor),f+=Y.aliasPixel(b.lineWidth),d&&(b.moveTo(c,f),b.lineTo(this.width,f),b.stroke(),b.closePath()),b.lineWidth=this.lineWidth,b.strokeStyle=this.lineColor,b.beginPath(),b.moveTo(c-5,f),b.lineTo(c,f),b.stroke(),b.closePath()},this),af(this.xLabels,function(f,h){var g=this.calculateX(h)+Z(this.lineWidth),l=this.calculateX(h-(this.offsetGridLines?0.5:0))+Z(this.lineWidth),k=this.xLabelRotation>0,d=this.showVerticalLines;0!==h||d||(d=!0),d&&b.beginPath(),h>0?(b.lineWidth=this.gridLineWidth,b.strokeStyle=this.gridLineColor):(b.lineWidth=this.lineWidth,b.strokeStyle=this.lineColor),d&&(b.moveTo(l,this.endPoint),b.lineTo(l,this.startPoint-3),b.stroke(),b.closePath()),b.lineWidth=this.lineWidth,b.strokeStyle=this.lineColor,b.beginPath(),b.moveTo(l,this.endPoint),b.lineTo(l,this.endPoint+5),b.stroke(),b.closePath(),b.save(),b.translate(g,k?this.endPoint+12:this.endPoint+8),b.rotate(-1*D(this.xLabelRotation)),b.font=this.font,b.textAlign=k?"right":"center",b.textBaseline=k?"middle":"top",b.fillText(f,0,0),b.restore()},this))}}),an.RadialScale=an.Element.extend({initialize:function(){this.size=ag([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(b){var a=this.drawingArea/(this.max-this.min);return(b-this.min)*a},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var b=Q(this.stepValue),a=0;a<=this.steps;a++){this.yLabels.push(K(this.templateString,{value:(this.min+a*this.stepValue).toFixed(b)}))}},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var L,w,z,M,m,k,C,x,v,b,B,F,A=ag([this.height/2-this.pointLabelFontSize-5,this.width/2]),f=this.width,y=0;for(this.ctx.font=j(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),w=0;w<this.valuesCount;w++){L=this.getPointPosition(w,A),z=this.ctx.measureText(K(this.templateString,{value:this.labels[w]})).width+5,0===w||w===this.valuesCount/2?(M=z/2,L.x+M>f&&(f=L.x+M,m=w),L.x-M<y&&(y=L.x-M,C=w)):w<this.valuesCount/2?L.x+z>f&&(f=L.x+z,m=w):w>this.valuesCount/2&&L.x-z<y&&(y=L.x-z,C=w)}v=y,b=Math.ceil(f-this.width),k=this.getIndexAngle(m),x=this.getIndexAngle(C),B=b/Math.sin(k+Math.PI/2),F=v/Math.sin(x+Math.PI/2),B=am(B)?B:0,F=am(F)?F:0,this.drawingArea=A-(F+B)/2,this.setCenterPoint(F,B)},setCenterPoint:function(b,a){var d=this.width-a-this.drawingArea,c=b+this.drawingArea;this.xCenter=(c+d)/2,this.yCenter=this.height/2},getIndexAngle:function(b){var a=2*Math.PI/this.valuesCount;return b*a-Math.PI/2},getPointPosition:function(b,a){var c=this.getIndexAngle(b);return{x:Math.cos(c)*a+this.xCenter,y:Math.sin(c)*a+this.yCenter}},draw:function(){if(this.display){var C=this.ctx;if(af(this.yLabels,function(d,p){if(p>0){var l,t=p*(this.drawingArea/this.steps),r=this.yCenter-t;if(this.lineWidth>0){if(C.strokeStyle=this.lineColor,C.lineWidth=this.lineWidth,this.lineArc){C.beginPath(),C.arc(this.xCenter,this.yCenter,t,0,2*Math.PI),C.closePath(),C.stroke()}else{C.beginPath();for(var c=0;c<this.valuesCount;c++){l=this.getPointPosition(c,this.calculateCenterOffset(this.min+p*this.stepValue)),0===c?C.moveTo(l.x,l.y):C.lineTo(l.x,l.y)}C.closePath(),C.stroke()}}if(this.showLabels){if(C.font=j(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var f=C.measureText(d).width;C.fillStyle=this.backdropColor,C.fillRect(this.xCenter-f/2-this.backdropPaddingX,r-this.fontSize/2-this.backdropPaddingY,f+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}C.textAlign="center",C.textBaseline="middle",C.fillStyle=this.fontColor,C.fillText(d,this.xCenter,r)}}},this),!this.lineArc){C.lineWidth=this.angleLineWidth,C.strokeStyle=this.angleLineColor;for(var n=this.valuesCount-1;n>=0;n--){var x=null,F=null;if(this.angleLineWidth>0&&n%this.angleLineInterval===0&&(x=this.calculateCenterOffset(this.max),F=this.getPointPosition(n,x),C.beginPath(),C.moveTo(this.xCenter,this.yCenter),C.lineTo(F.x,F.y),C.stroke(),C.closePath()),this.backgroundColors&&this.backgroundColors.length==this.valuesCount){null==x&&(x=this.calculateCenterOffset(this.max)),null==F&&(F=this.getPointPosition(n,x));var k=this.getPointPosition(0===n?this.valuesCount-1:n-1,x),A=this.getPointPosition(n===this.valuesCount-1?0:n+1,x),v={x:(k.x+F.x)/2,y:(k.y+F.y)/2},m={x:(F.x+A.x)/2,y:(F.y+A.y)/2};C.beginPath(),C.moveTo(this.xCenter,this.yCenter),C.lineTo(v.x,v.y),C.lineTo(F.x,F.y),C.lineTo(m.x,m.y),C.fillStyle=this.backgroundColors[n],C.fill(),C.closePath()}var b=this.getPointPosition(n,this.calculateCenterOffset(this.max)+5);C.font=j(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),C.fillStyle=this.pointLabelFontColor;var z=this.labels.length,B=this.labels.length/2,y=B/2,g=y>n||n>z-y,w=n===y||n===z-y;0===n?C.textAlign="center":n===B?C.textAlign="center":B>n?C.textAlign="left":C.textAlign="right",w?C.textBaseline="middle":g?C.textBaseline="bottom":C.textBaseline="top",C.fillText(this.labels[n],b.x,b.y)}}}}}),an.animationService={frameDuration:17,animations:[],dropFrames:0,addAnimation:function(b,a){for(var c=0;c<this.animations.length;++c){if(this.animations[c].chartInstance===b){return void (this.animations[c].animationObject=a)}}this.animations.push({chartInstance:b,animationObject:a}),1==this.animations.length&&Y.requestAnimFrame.call(window,this.digestWrapper)},cancelAnimation:function(b){var a=Y.findNextWhere(this.animations,function(c){return c.chartInstance===b});a&&this.animations.splice(a,1)},digestWrapper:function(){an.animationService.startDigest.call(an.animationService)},startDigest:function(){var d=Date.now(),c=0;this.dropFrames>1&&(c=Math.floor(this.dropFrames),this.dropFrames-=c);for(var f=0;f<this.animations.length;f++){null===this.animations[f].animationObject.currentStep&&(this.animations[f].animationObject.currentStep=0),this.animations[f].animationObject.currentStep+=1+c,this.animations[f].animationObject.currentStep>this.animations[f].animationObject.numSteps&&(this.animations[f].animationObject.currentStep=this.animations[f].animationObject.numSteps),this.animations[f].animationObject.render(this.animations[f].chartInstance,this.animations[f].animationObject),this.animations[f].animationObject.currentStep==this.animations[f].animationObject.numSteps&&(this.animations[f].animationObject.onAnimationComplete.call(this.animations[f].chartInstance),this.animations.splice(f,1),f--)}var h=Date.now(),g=h-d-this.frameDuration,b=g/this.frameDuration;b>1&&(this.dropFrames+=b),this.animations.length>0&&Y.requestAnimFrame.call(window,this.digestWrapper)}},Y.addEvent(window,"resize",function(){var a;return function(){clearTimeout(a),a=setTimeout(function(){af(an.instances,function(b){b.options.responsive&&b.resize(b.render,!0)})},50)}}()),ad?define("Chart",[],function(){return an}):"object"==typeof module&&module.exports&&(module.exports=an),X.Chart=an,an.noConflict=function(){return X.Chart=aj,an}}).call(this),function(){var b=this,a=b.Chart,d=a.helpers,c={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span class="<%=name.toLowerCase()%>-legend-icon" style="background-color:<%=datasets[i].fillColor%>"></span><span class="<%=name.toLowerCase()%>-legend-text"><%if(datasets[i].label){%><%=datasets[i].label%><%}%></span></li><%}%></ul>'};a.Type.extend({name:"Bar",defaults:c,initialize:function(e){var f=this.options;this.ScaleClass=a.Scale.extend({offsetGridLines:!0,calculateBarX:function(j,h,k){var m=this.calculateBaseWidth(),l=this.calculateX(k)-m/2,g=this.calculateBarWidth(j);return l+g*h+h*f.barDatasetSpacing+g/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*f.barValueSpacing},calculateBarWidth:function(h){var g=this.calculateBaseWidth()-(h-1)*f.barDatasetSpacing;return g/h}}),this.datasets=[],this.options.showTooltips&&d.bindEvents(this,this.options.tooltipEvents,function(h){var g="mouseout"!==h.type?this.getBarsAtEvent(h):[];this.eachBars(function(i){i.restore(["fillColor","strokeColor"])}),d.each(g,function(i){i&&(i.fillColor=i.highlightFill,i.strokeColor=i.highlightStroke)}),this.showTooltip(g)}),this.BarClass=a.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),d.each(e.datasets,function(g,h){var j={label:g.label||null,fillColor:g.fillColor,strokeColor:g.strokeColor,bars:[]};this.datasets.push(j),d.each(g.data,function(k,i){j.bars.push(new this.BarClass({value:k,label:e.labels[i],datasetLabel:g.label,strokeColor:"object"==typeof g.strokeColor?g.strokeColor[i]:g.strokeColor,fillColor:"object"==typeof g.fillColor?g.fillColor[i]:g.fillColor,highlightFill:g.highlightFill?"object"==typeof g.highlightFill?g.highlightFill[i]:g.highlightFill:"object"==typeof g.fillColor?g.fillColor[i]:g.fillColor,highlightStroke:g.highlightStroke?"object"==typeof g.highlightStroke?g.highlightStroke[i]:g.highlightStroke:"object"==typeof g.strokeColor?g.strokeColor[i]:g.strokeColor}))},this)},this),this.buildScale(e.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(h,g,j){d.extend(h,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,j,g),y:this.scale.endPoint}),h.save()},this),this.render()},update:function(){this.scale.update(),d.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachBars(function(e){e.save()}),this.render()},eachBars:function(e){d.each(this.datasets,function(f,g){d.each(f.bars,e,this,g)},this)},getBarsAtEvent:function(g){for(var f,h=[],k=d.getRelativePosition(g),j=function(i){h.push(i.bars[f])},e=0;e<this.datasets.length;e++){for(f=0;f<this.datasets[e].bars.length;f++){if(this.datasets[e].bars[f].inRange(k.x,k.y)){return d.each(this.datasets,j),h}}}return h},buildScale:function(f){var e=this,g=function(){var i=[];return e.eachBars(function(j){i.push(j.value)}),i},h={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:f.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(k){var j=d.calculateScaleRange(g(),k,this.fontSize,this.beginAtZero,this.integersOnly);d.extend(this,j)},xLabels:f,font:d.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&d.extend(h,{calculateYRange:d.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(h)},addData:function(f,e){d.each(f,function(g,h){this.datasets[h].bars.push(new this.BarClass({value:g,label:e,datasetLabel:this.datasets[h].label,x:this.scale.calculateBarX(this.datasets.length,h,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[h].strokeColor,fillColor:this.datasets[h].fillColor}))},this),this.scale.addXLabel(e),this.update()},removeData:function(){this.scale.removeXLabel(),d.each(this.datasets,function(e){e.bars.shift()},this),this.update()},reflow:function(){d.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var e=d.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(f){var e=f||1;this.clear();this.chart.ctx;this.scale.draw(e),d.each(this.datasets,function(g,h){d.each(g.bars,function(i,j){i.hasValue()&&(i.base=this.scale.endPoint,i.transition({x:this.scale.calculateBarX(this.datasets.length,h,j),y:this.scale.calculateY(i.value),width:this.scale.calculateBarWidth(this.datasets.length)},e).draw())},this)},this)}})}.call(this),function(){var b=this,a=b.Chart,d=a.helpers,c={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span class="<%=name.toLowerCase()%>-legend-icon" style="background-color:<%=segments[i].fillColor%>"></span><span class="<%=name.toLowerCase()%>-legend-text"><%if(segments[i].label){%><%=segments[i].label%><%}%></span></li><%}%></ul>'};a.Type.extend({name:"Doughnut",defaults:c,initialize:function(e){this.segments=[],this.outerRadius=(d.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=a.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&d.bindEvents(this,this.options.tooltipEvents,function(g){var f="mouseout"!==g.type?this.getSegmentsAtEvent(g):[];d.each(this.segments,function(h){h.restore(["fillColor"])}),d.each(f,function(h){h.fillColor=h.highlightColor}),this.showTooltip(f)}),this.calculateTotal(e),d.each(e,function(f,g){f.color||(f.color="hsl("+360*g/e.length+", 100%, 50%)"),this.addData(f,g,!0)},this),this.render()},getSegmentsAtEvent:function(f){var e=[],g=d.getRelativePosition(f);return d.each(this.segments,function(h){h.inRange(g.x,g.y)&&e.push(h)},this),e},addData:function(f,h,g){var i=void 0!==h?h:this.segments.length;"undefined"==typeof f.color&&(f.color=a.defaults.global.segmentColorDefault[i%a.defaults.global.segmentColorDefault.length],f.highlight=a.defaults.global.segmentHighlightColorDefaults[i%a.defaults.global.segmentHighlightColorDefaults.length]),this.segments.splice(i,0,new this.SegmentArc({value:f.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:f.color,highlightColor:f.highlight||f.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(f.value),label:f.label})),g||(this.reflow(),this.update())},calculateCircumference:function(e){return this.total>0?2*Math.PI*(e/this.total):0},calculateTotal:function(e){this.total=0,d.each(e,function(f){this.total+=Math.abs(f.value)},this)},update:function(){this.calculateTotal(this.segments),d.each(this.activeElements,function(e){e.restore(["fillColor"])}),d.each(this.segments,function(e){e.save()}),this.render()},removeData:function(f){var e=d.isNumber(f)?f:this.segments.length-1;this.segments.splice(e,1),this.reflow(),this.update()},reflow:function(){d.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(d.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,d.each(this.segments,function(e){e.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(f){var e=f?f:1;this.clear(),d.each(this.segments,function(g,h){g.transition({circumference:this.calculateCircumference(g.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},e),g.endAngle=g.startAngle+g.circumference,g.draw(),0===h&&(g.startAngle=1.5*Math.PI),h<this.segments.length-1&&(this.segments[h+1].startAngle=g.endAngle)},this)}}),a.types.Doughnut.extend({name:"Pie",defaults:d.merge(c,{percentageInnerCutout:0})})}.call(this),function(){var b=this,a=b.Chart,d=a.helpers,c={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:0.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span class="<%=name.toLowerCase()%>-legend-icon" style="background-color:<%=datasets[i].strokeColor%>"></span><span class="<%=name.toLowerCase()%>-legend-text"><%if(datasets[i].label){%><%=datasets[i].label%><%}%></span></li><%}%></ul>',offsetGridLines:!1};a.Type.extend({name:"Line",defaults:c,initialize:function(e){this.PointClass=a.Point.extend({offsetGridLines:this.options.offsetGridLines,strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(f){return Math.pow(f-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&d.bindEvents(this,this.options.tooltipEvents,function(g){var f="mouseout"!==g.type?this.getPointsAtEvent(g):[];this.eachPoints(function(h){h.restore(["fillColor","strokeColor"])}),d.each(f,function(h){h.fillColor=h.highlightFill,h.strokeColor=h.highlightStroke}),this.showTooltip(f)}),d.each(e.datasets,function(f){var g={label:f.label||null,fillColor:f.fillColor,strokeColor:f.strokeColor,pointColor:f.pointColor,pointStrokeColor:f.pointStrokeColor,points:[]};this.datasets.push(g),d.each(f.data,function(h,i){g.points.push(new this.PointClass({value:h,label:e.labels[i],datasetLabel:f.label,strokeColor:f.pointStrokeColor,fillColor:f.pointColor,highlightFill:f.pointHighlightFill||f.pointColor,highlightStroke:f.pointHighlightStroke||f.pointStrokeColor}))},this),this.buildScale(e.labels),this.eachPoints(function(j,h){d.extend(j,{x:this.scale.calculateX(h),y:this.scale.endPoint}),j.save()},this)},this),this.render()},update:function(){this.scale.update(),d.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachPoints(function(e){e.save()}),this.render()},eachPoints:function(e){d.each(this.datasets,function(f){d.each(f.points,e,this)},this)},getPointsAtEvent:function(f){var e=[],g=d.getRelativePosition(f);return d.each(this.datasets,function(h){d.each(h.points,function(i){i.inRange(g.x,g.y)&&e.push(i)})},this),e},buildScale:function(e){var f=this,h=function(){var i=[];return f.eachPoints(function(j){i.push(j.value)}),i},g={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,offsetGridLines:this.options.offsetGridLines,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:e.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(k){var j=d.calculateScaleRange(h(),k,this.fontSize,this.beginAtZero,this.integersOnly);d.extend(this,j)},xLabels:e,font:d.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&d.extend(g,{calculateYRange:d.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new a.Scale(g)},addData:function(f,e){d.each(f,function(g,h){this.datasets[h].points.push(new this.PointClass({value:g,label:e,datasetLabel:this.datasets[h].label,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[h].pointStrokeColor,fillColor:this.datasets[h].pointColor}))},this),this.scale.addXLabel(e),this.update()},removeData:function(){this.scale.removeXLabel(),d.each(this.datasets,function(e){e.points.shift()},this),this.update()},reflow:function(){var e=d.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(g){var f=g||1;this.clear();var h=this.chart.ctx,k=function(i){return null!==i.value},j=function(m,l,n){return d.findNextWhere(l,k,n)||m},e=function(m,l,n){return d.findPreviousWhere(l,k,n)||m};this.scale&&(this.scale.draw(f),d.each(this.datasets,function(i){var l=d.where(i.points,k);d.each(i.points,function(m,n){m.hasValue()&&m.transition({y:this.scale.calculateY(m.value),x:this.scale.calculateX(n)},f)},this),this.options.bezierCurve&&d.each(l,function(n,m){var o=m>0&&m<l.length-1?this.options.bezierCurveTension:0;n.controlPoints=d.splineCurve(e(n,l,m),n,j(n,l,m),o),n.controlPoints.outer.y>this.scale.endPoint?n.controlPoints.outer.y=this.scale.endPoint:n.controlPoints.outer.y<this.scale.startPoint&&(n.controlPoints.outer.y=this.scale.startPoint),n.controlPoints.inner.y>this.scale.endPoint?n.controlPoints.inner.y=this.scale.endPoint:n.controlPoints.inner.y<this.scale.startPoint&&(n.controlPoints.inner.y=this.scale.startPoint)},this),h.lineWidth=this.options.datasetStrokeWidth,h.strokeStyle=i.strokeColor,h.beginPath(),d.each(l,function(n,m){if(0===m){h.moveTo(n.x,n.y)}else{if(this.options.bezierCurve){var o=e(n,l,m);h.bezierCurveTo(o.controlPoints.outer.x,o.controlPoints.outer.y,n.controlPoints.inner.x,n.controlPoints.inner.y,n.x,n.y)}else{h.lineTo(n.x,n.y)}}},this),this.options.datasetStroke&&h.stroke(),this.options.datasetFill&&l.length>0&&(h.lineTo(l[l.length-1].x,this.scale.endPoint),h.lineTo(l[0].x,this.scale.endPoint),h.fillStyle=i.fillColor,h.closePath(),h.fill()),d.each(l,function(m){m.draw()})},this))}})}.call(this),function(){var b=this,a=b.Chart,d=a.helpers,c={scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span class="<%=name.toLowerCase()%>-legend-icon" style="background-color:<%=segments[i].fillColor%>"></span><span class="<%=name.toLowerCase()%>-legend-text"><%if(segments[i].label){%><%=segments[i].label%><%}%></span></li><%}%></ul>'};a.Type.extend({name:"PolarArea",defaults:c,initialize:function(e){this.segments=[],this.SegmentArc=a.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new a.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:e.length}),this.updateScaleRange(e),this.scale.update(),d.each(e,function(g,f){this.addData(g,f,!0)},this),this.options.showTooltips&&d.bindEvents(this,this.options.tooltipEvents,function(g){var f="mouseout"!==g.type?this.getSegmentsAtEvent(g):[];d.each(this.segments,function(h){h.restore(["fillColor"])}),d.each(f,function(h){h.fillColor=h.highlightColor}),this.showTooltip(f)}),this.render()},getSegmentsAtEvent:function(f){var e=[],g=d.getRelativePosition(f);return d.each(this.segments,function(h){h.inRange(g.x,g.y)&&e.push(h)},this),e},addData:function(g,f,j){var h=f||this.segments.length;this.segments.splice(h,0,new this.SegmentArc({fillColor:g.color,highlightColor:g.highlight||g.color,label:g.label,value:g.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(g.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),j||(this.reflow(),this.update())},removeData:function(f){var e=d.isNumber(f)?f:this.segments.length-1;this.segments.splice(e,1),this.reflow(),this.update()},calculateTotal:function(e){this.total=0,d.each(e,function(f){this.total+=f.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(f){var e=[];d.each(f,function(h){e.push(h.value)});var g=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:d.calculateScaleRange(e,d.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);d.extend(this.scale,g,{size:d.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),d.each(this.segments,function(e){e.save()}),this.reflow(),this.render()},reflow:function(){d.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),d.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),d.each(this.segments,function(e){e.update({outerRadius:this.scale.calculateCenterOffset(e.value)})},this)},draw:function(f){var e=f||1;this.clear(),d.each(this.segments,function(g,h){g.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(g.value)},e),g.endAngle=g.startAngle+g.circumference,0===h&&(g.startAngle=1.5*Math.PI),h<this.segments.length-1&&(this.segments[h+1].startAngle=g.endAngle),g.draw()},this),this.scale.draw()}})}.call(this),function(){var b=this,a=b.Chart,c=a.helpers;a.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,angleLineInterval:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span class="<%=name.toLowerCase()%>-legend-icon" style="background-color:<%=datasets[i].strokeColor%>"></span><span class="<%=name.toLowerCase()%>-legend-text"><%if(datasets[i].label){%><%=datasets[i].label%><%}%></span></li><%}%></ul>'},initialize:function(d){this.PointClass=a.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(d),this.options.showTooltips&&c.bindEvents(this,this.options.tooltipEvents,function(f){var e="mouseout"!==f.type?this.getPointsAtEvent(f):[];this.eachPoints(function(g){g.restore(["fillColor","strokeColor"])}),c.each(e,function(g){g.fillColor=g.highlightFill,g.strokeColor=g.highlightStroke}),this.showTooltip(e)}),c.each(d.datasets,function(e){var f={label:e.label||null,fillColor:e.fillColor,strokeColor:e.strokeColor,pointColor:e.pointColor,pointStrokeColor:e.pointStrokeColor,points:[]};this.datasets.push(f),c.each(e.data,function(g,i){var h;this.scale.animation||(h=this.scale.getPointPosition(i,this.scale.calculateCenterOffset(g))),f.points.push(new this.PointClass({value:g,label:d.labels[i],datasetLabel:e.label,x:this.options.animation?this.scale.xCenter:h.x,y:this.options.animation?this.scale.yCenter:h.y,strokeColor:e.pointStrokeColor,fillColor:e.pointColor,highlightFill:e.pointHighlightFill||e.pointColor,highlightStroke:e.pointHighlightStroke||e.pointStrokeColor}))},this)},this),this.render()},eachPoints:function(d){c.each(this.datasets,function(e){c.each(e.points,d,this)},this)},getPointsAtEvent:function(f){var e=c.getRelativePosition(f),g=c.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},e),j=2*Math.PI/this.scale.valuesCount,h=Math.round((g.angle-1.5*Math.PI)/j),d=[];return(h>=this.scale.valuesCount||0>h)&&(h=0),g.distance<=this.scale.drawingArea&&c.each(this.datasets,function(i){d.push(i.points[h])}),d},buildScale:function(d){this.scale=new a.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backgroundColors:this.options.scaleBackgroundColors,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,angleLineInterval:this.options.angleLineInterval?this.options.angleLineInterval:1,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:d.labels,valuesCount:d.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(d.datasets),this.scale.buildYLabels()},updateScaleRange:function(e){var d=function(){var g=[];return c.each(e,function(h){h.data?g=g.concat(h.data):c.each(h.points,function(i){g.push(i.value)})}),g}(),f=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:c.calculateScaleRange(d,c.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);c.extend(this.scale,f)},addData:function(e,d){this.scale.valuesCount++,c.each(e,function(f,h){var g=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(f));this.datasets[h].points.push(new this.PointClass({value:f,label:d,datasetLabel:this.datasets[h].label,x:g.x,y:g.y,strokeColor:this.datasets[h].pointStrokeColor,fillColor:this.datasets[h].pointColor}))},this),this.scale.labels.push(d),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),c.each(this.datasets,function(d){d.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(d){d.save()}),this.reflow(),this.render()},reflow:function(){c.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:c.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(e){var d=e||1,f=this.chart.ctx;this.clear(),this.scale.draw(),c.each(this.datasets,function(g){c.each(g.points,function(h,i){h.hasValue()&&h.transition(this.scale.getPointPosition(i,this.scale.calculateCenterOffset(h.value)),d)},this),f.lineWidth=this.options.datasetStrokeWidth,f.strokeStyle=g.strokeColor,f.beginPath(),c.each(g.points,function(j,h){0===h?f.moveTo(j.x,j.y):f.lineTo(j.x,j.y)},this),f.closePath(),f.stroke(),f.fillStyle=g.fillColor,this.options.datasetFill&&f.fill(),c.each(g.points,function(h){h.hasValue()&&h.draw()})},this)}})}.call(this);jQuery.noConflict();(function(a){Chart.defaults.global.responsive=true;Chart.defaults.global.maintainAspectRatio=false;a.fn.Charts={charts:{},set:function(c,b){this.charts[c]=b},get:function(b){if(this.charts[b]!==undefined){return this.charts[b]}},draw:function(d,e){var c=this.get(d);if(c!==undefined){c.destroy()}switch(d){case"views":case"visits":c=a(document).Charts.generateLineChart(d,e);break;case"origin":var f=a("#originChart").parent().parent().parent();a(document).toggleNoDataClass(f,e);var b=a("#originLegend").next(".no-data-text");if(jQuery.isEmptyObject(e)){b[0].show()}else{b[0].hide()}c=a(document).Charts.generatePieChart(d,e);a("#"+d+"Legend").html(c.generateLegend());break}this.set(d,c)},generateLineChart:function(e,g){var b=document.getElementById(e+"Chart").getContext("2d");var h=[];var c=[];a.each(g,function(i,j){h.push(i);c.push(j)});var f={labels:h,datasets:[{strokeColor:"#2177d0",pointColor:"#2177d0",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"#2177d0",data:c}]};var d={datasetFill:false,tooltipTemplate:"<%= value %>",tooltipFillColor:"#2177d0",tooltipXPadding:10,scaleFontColor:"#797979",bezierCurveTension:0.2,pointHitDetectionRadius:5,scaleLabel:"<%= ' ' + value%>"};return new Chart(b).Line(f,d)},generatePieChart:function(c,f){var b=document.getElementById(c+"Chart").getContext("2d");var d=0;var e=[];a.each(f,function(g,h){e.push({label:originLabels[g],value:h,color:a(document).Charts.getColorShade("#0d335a",d),highlight:a(document).Charts.getColorShade("#0d335a",d+15)});d+=50});return new Chart(b).Pie(e,{legendTemplate:'<ul><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'})},getColorShade:function(g,d){d=Math.max(-255,Math.min(255,d));g=g.replace("#","");var f=[g.substr(0,2),g.substr(2,2),g.substr(4,2)];var b="";var h="00";for(var e=0;e<f.length;e++){var c=parseInt((f[e]+"").replace(/[^a-f0-9]/gi,""),16);c=Math.max(0,Math.min(255,c+d));c=""+parseInt(c,10).toString(16);b+=h.substring(0,h.length-c.length)+c}return"#"+b}};a.fn.reRenderTable=function(b,d){var c=a("#"+b+"Table");c.empty();var e=c.parent("div");switch(b){case"referrals":a(document).reRenderReferralsTable(d,c);e=e.parent();break;case"pages":a(document).reRenderPagesTable(d,c);break}a(document).toggleNoDataClass(e,d)};a.fn.reRenderReferralsTable=function(d,c){var b=0;a.each(d,function(e,g){var f=e;if(e.indexOf(".")!=-1){f='<a href="'+e+'" target="_blank">'+e+"</a>"}c.append('<tr><td class="count">'+(b+1)+'.</td><td class="item">'+f+'</td><td class="value">'+g+"</td></tr>");b++});if(b<tableMinRow){a(document).addNoDataRow(d,c,b,2)}};a.fn.reRenderPagesTable=function(e,d){var c=0;var b=null;a.each(e,function(f,g){if(b===null){b=g}d.append('<tr><td class="count">'+(c+1)+'.</td><td class="item"><a href="http://'+projectUrl+f+'" target="_blank">'+projectUrl+f+'</a></td><td class="bargraph"><span><span style="width: '+(Math.round(g*100/b))+'%;"></span></span></td><td class="value">'+g+"</td></tr>");c++});if(c<tableMinRow){a(document).addNoDataRow(e,d,c,3)}};a.fn.addNoDataRow=function(k,h,g,c){var b=jQuery.isEmptyObject(k);for(var f=g;f<tableMinRow;f++){var e='<tr class="no-data">';if(b){e+="<td>"+(f===0?noDataLabel:"&nbsp;")+"</td>"}else{e+="<td>"+(f+1)+".</td>";for(var d=0;d<c;d++){e+="<td>&nbsp;</td>"}}e+="</tr>";h.append(e)}};a.fn.toggleNoDataClass=function(b,c){if(b){if(jQuery.isEmptyObject(c)){if(b.hasClass("no-data")===false){b.addClass("no-data")}}else{if(b.hasClass("no-data")){b.removeClass("no-data")}}}};a.fn.reRenderChart=function(c,d){var b=a(document).Charts.get(c);if(b!==undefined){a(document).Charts.draw(c,d)}};a.fn.processResponse=function(b){a.each(b,function(c,d){if(d===null){d={}}switch(c){case"visits":case"views":case"origin":a(document).reRenderChart(c,d);break;case"referrals":case"pages":a(document).reRenderTable(c,d);break;case"orders":a(document).updateStatsTable(c,d);break}})};a.fn.updateStatsTable=function(b,c){var d=document.querySelector(".stats-store-container");Array.prototype.forEach.call(d.querySelectorAll("span[data-order-stats]"),function(e){e.innerHTML=c[e.dataset.orderStats]}.bind(this))};a.fn.checkErrors=function(b){if(b.error=="403"){window.location.reload()}};a(document).ready(function(){a(".visitor-statistic-data-filter a").click(function(c){c.preventDefault();c.stopImmediatePropagation();c.stopPropagation();if(a(this).parent().hasClass("data-filter-menu-selected")){return}a(this).parents(".data-filter-menu-inner").find(".data-filter-menu-selected").removeClass();a(this).parent("li").addClass("data-filter-menu-selected");var b=a(this).parents(".data-filter").next();if(a(this).hasClass("free-project")){a(".data-filter-menu").removeClass("open");if(b.hasClass("get-premium")===false){b.addClass("get-premium");b.append('<div class="premium-label-more">'+premiumLabel+"</div>")}return}if(b.hasClass("waiting")){return}a(this).parents(".data-filter-menu").removeClass("open");a(this).parents(".data-filter").find("a > span").html(a(this).text());b.addClass("waiting");a.get(this.href,function(d){a(document).checkErrors(d);a(document).processResponse(d);b.removeClass("waiting");if(b.hasClass("get-premium")){b.removeClass("get-premium");b.children().remove(".premium-label-more")}})})})})(jQuery);jQuery.noConflict();(function(c){var a="body.forms-data";var e=Class.create();e.prototype={page:0,filter:{},loadingXHR:null,items:{},totalItems:0,orderData:[],elWindow:c(window),elDataTable:c("div.table-data",a),elTable:c("div.table-data-table",this.elDataTable),elTableBody:c("tbody.table-data-tbody",this.elTable),elTableHead:c("thead.table-data-thead",this.elTable),elBulkAllCheckbox:c("th input:checkbox",this.elTableHead),elEmpty:c(".table-data-empty",this.elDataTable),elLoadMore:c(".table-data-load-more",this.elDataTable),texts:{},rowRenderCallback:function(f){},rowClickCallback:function(f,g){},processResponseCallback:function(f){},initialize:function(f){this.texts=f;if(this.elDataTable.length){this.initInfiniteScrolling();this.initLoadMoreButton();this.initRowClick()}this.initBulkOperations()},getText:function(f){return this.texts[f]?this.texts[f]:""},initInfiniteScrolling:function(){var f=this;this.elWindow.scroll(function(){if(this.isTimeForScrollRequest()){f.loadNextPage()}}.bind(this))},initLoadMoreButton:function(){var f=this;this.elLoadMore.click(function(g){g.preventDefault();g.stopImmediatePropagation();g.stopPropagation();f.loadNextPage()}).bind(this)},initRowClick:function(){this.elTableBody.on("click","tr",function(g){var f=g.srcElement||g.target;var h=c(f).closest("tr").data("row_id");if(c(f).closest("label").length){this.handleBulkCheckboxClick(g)}else{if(c(f).closest("td:first-child").length){}else{this.rowClickCallback(g,h)}}}.bind(this))},initBulkOperations:function(){this.elBulkAllCheckbox.closest("label").click(this.handleBulkSelectAllClick.bind(this));this.processChangeBulkCheckboxState()},handleBulkCheckboxClick:function(f){this.elBulkAllCheckbox.prop("checked",false);this.processChangeBulkCheckboxState()},handleBulkSelectAllClick:function(f){if(this.elBulkAllCheckbox.is(":checked")){c("td input:checkbox",this.elTableBody).prop("checked",true)}else{c("td input:checkbox",this.elTableBody).prop("checked",false)}this.processChangeBulkCheckboxState()},processChangeBulkCheckboxState:function(){var f=this.getSelectedRows();var g=f.length;if(g>0){this.showBulkOperations(g)}else{this.hideBulkOperations()}},showBulkOperations:function(f){c(".open-manage-users-search-box").addClass("hide-from-bulk-operations");c(".manage-users-search-box-switch").addClass("hide-from-bulk-operations");c(".manage-users-filter-box").addClass("hide-from-bulk-operations");c(".manage-users-bulk-operations").addClass("open-manage-users-bulk-operations");c(".manage-users-bulk-operations .state var").text(f)},hideBulkOperations:function(){c(".open-manage-users-search-box").removeClass("hide-from-bulk-operations");c(".manage-users-search-box-switch").removeClass("hide-from-bulk-operations");c(".manage-users-filter-box").removeClass("hide-from-bulk-operations");c(".manage-users-bulk-operations").removeClass("open-manage-users-bulk-operations")},completeBulkOperation:function(){this.elBulkAllCheckbox.prop("checked",false);this.processChangeBulkCheckboxState()},setItems:function(f){this.items=f},setTotalItems:function(f){this.totalItems=f},setOrderData:function(f){this.orderData=f},getItem:function(f){return this.items[f]},getNextItemId:function(j,g){var i=Object.keys(this.items);var h=i.indexOf(j.toString());var f=h-1;return i[f]?parseInt(i[f],10):null},getPrevItemId:function(i){var h=Object.keys(this.items);var f=h.indexOf(i.toString());var g=f+1;return h[g]?parseInt(h[g],10):null},getRow:function(f){return c('tr[data-row_id="'+f+'"]',this.elTableBody)},updateItem:function(g,f){if(this.items[g]){c.extend(this.items[g],f)}},insertItem:function(f){if(!f.id){throw Error("Missing 'id' property!")}var g=f.id;this.items[g]=f;this.totalItems++;this.prependTableRow(g);this.processEmptyData()},deleteItem:function(g){var f=this;this.getRow(g).fadeOut(function(){c(this).remove();f.processChangeBulkCheckboxState()});delete this.items[g];delete this.orderData[this.getOrderOfItem(g)];this.totalItems--;this.processEmptyData()},processEmptyData:function(){if(this.isEmpty()){var f=this.getText("tableEmpty");if(window.form.showAllData){f=this.getText("tableEmptyForAll")}var g=this.hasFilter()?this.getText("tableFilterEmpty"):f;this.elEmpty.find("h3").text(g);this.elEmpty.removeClass("hide")}else{this.elEmpty.addClass("hide")}},setRowRenderCallback:function(f){this.rowRenderCallback=f},setRowClickCallback:function(f){this.rowClickCallback=f},setProcessResponseCallback:function(f){this.processResponseCallback=f},setFilter:function(f){c.extend(this.filter,f)},hasFilter:function(){return Object.values(this.filter).filter(function(f){return !!f}).length>0},cancelFilter:function(){this.filter={}},clearTable:function(){this.page=0;this.items=[];this.totalItems=0;this.elTableBody.empty()},renderTableRow:function(g){var f=this.items[g];return this.rowRenderCallback(g,f)},reRenderRow:function(h){var f=c("tr",this.elTableBody).filter('[data-row_id="'+h+'"]');var g=c(this.renderTableRow(h));g.attr("data-row_id",h);f.replaceWith(g)},appendTableRows:function(f){c.each(f,function(g,i){var h=c(this.renderTableRow(i));h.data("row_id",i);h.attr("data-row_id",i);this.elTableBody.append(h)}.bind(this))},prependTableRow:function(g){var f=c(this.renderTableRow(g));f.attr("data-row_id",g);f.hide();this.elTableBody.prepend(f);f.fadeIn()},beforeLoadingData:function(){this.elTable.addClass("waiting");if(this.elTableBody.html()==""){this.elTable.addClass("waiting-empty-table")}this.elLoadMore.hide();this.elEmpty.addClass("hide")},afterLoadingData:function(){this.elTable.removeClass("waiting");this.elTable.removeClass("waiting-empty-table");this.processEmptyData();if(this.getItemsCount()<this.getTotalCount()){this.elLoadMore.show()}},stopLoadData:function(){if(this.loadingXHR){this.loadingXHR.abort();this.loadingXHR=null}},loadData:function(f){if(this.loadingXHR){return}this.beforeLoadingData();this.fetchTableData(function(g){if(g.orderData){this.appendTableRows(g.orderData)}this.afterLoadingData();if(f){f()}}.bind(this))},fetchTableData:function(g){if(this.loadingXHR){return}var f=location.href+"&ajax_type=dataTable&pagination="+this.page+"&"+c.param(this.filter);this.loadingXHR=c.get(f,function(h){this.processResponse(h);this.loadingXHR=null;if(g){g(h.data)}}.bind(this))},processResponse:function(f){if(!f){return}var g=f.data;this.totalItems=g.totalItems;if(c.isPlainObject(g.data)){c.extend(true,this.items,g.data);this.orderData=this.orderData.concat(g.orderData)}this.processResponseCallback(g)},isLoadedAllItems:function(){return this.getItemsCount()>=this.totalItems},isEmpty:function(){return this.totalItems<=0},getTotalCount:function(){return this.totalItems},getOrderOfItem:function(f){return this.orderData.indexOf(f)},getItemsCount:function(){return Object.keys(this.items).length},isTimeForScrollRequest:function(){if(this.loadingXHR){return false}if(this.isLoadedAllItems()){return false}return this.elWindow.scrollTop()+this.elWindow.height()>=this.elLoadMore.offset().top-(this.elWindow.height()/4)},loadNextPage:function(f){this.page++;this.loadData(f)},getSelectedRows:function(){var f=[];c("td input:checkbox:checked",this.elTableBody).each(function(g,h){var i=c(this).closest("tr").data("row_id");f.push(parseInt(i,10))});return f}};var b=Class.create();b.prototype={search:null,dataTable:null,texts:{},elDataTable:c("div.table-data",a),elSearchBox:c("div.manage-users-search-box",this.elDataTable),elSearchBoxForm:c("div.manage-users-search-box form",this.elSearchBox),elOpenFilterMenu:c(".search-filter-selector a",this.elDataTable),elOpenFilterSwitch:c(".data-filter-selector .data-filter-switch",a),elOpenSubmenu:c(".submenu-selector .submenu-switch",this.elDataTable),elFilterMenu:c(".search-filter-menu",this.elSearchBox),elSearchInput:c("div.manage-users-search-box form input[type=text]",this.elSearchBoxForm),elFilterInput:c("div.manage-users-search-box form input[type=radio]",this.elSearchBoxForm),searchInputValue:"",searchInputTimer:null,initialize:function(g,f){this.dataTable=g;this.texts=f;this.elSearchInput.change(this.handleSearchInputChange.bind(this));this.elSearchInput.keyup(this.handleSearchBoxInputKeyUp.bind(this));this.elOpenFilterMenu.off("click").on("click",this.handleSearchBoxDropdownOpen.bind(this));this.elOpenSubmenu.off("click").on("click",this.handleSubmenuDropdownOpen.bind(this));this.elOpenFilterSwitch.off("click").on("click",this.handleFilterSwitchDropdownOpen.bind(this));c(document).click(function(h){var i=c(h.target);if(!i.closest(this.elSearchBox).length&&!i.is(this.elSearchBox)){this.elFilterMenu.removeClass("open")}if(!i||i.attr("id")!=="temp-download"){this.hideSubMenu()}}.bind(this));this.elSearchBoxForm.submit(function(){return false})},handleSearchInputChange:function(f){if(this.elSearchInput.val()===this.searchInputValue){return}this.searchInputValue=this.elSearchInput.val();if(this.searchInputTimer){clearTimeout(this.searchInputTimer);this.searchInputTimer=null}this.dataTable.stopLoadData();this.searchInputTimer=window.setTimeout(function(){this.dataTable.setFilter({search:this.searchInputValue});this.dataTable.stopLoadData();this.dataTable.clearTable();this.dataTable.loadData()}.bind(this),300)},handleSearchBoxInputKeyUp:function(f){if(this.elSearchInput.val()!==this.searchInputValue){this.elSearchInput.trigger("change")}},handleSearchBoxDropdownOpen:function(f){f.preventDefault();f.stopImmediatePropagation();f.stopPropagation();c(".search-filter-menu").addClass("open")},handleSubmenuDropdownOpen:function(f){f.preventDefault();f.stopImmediatePropagation();f.stopPropagation();c(".data-filter-menu").removeClass("open");c(".submenu-selector .submenu").toggleClass("open");c(".task-export").removeClass("done").removeClass("waiting")},handleFilterSwitchDropdownOpen:function(f){f.preventDefault();f.stopImmediatePropagation();f.stopPropagation();c(".data-filter-menu").toggleClass("open");this.hideSubMenu()},hideSubMenu:function(){c(".submenu-selector .submenu").removeClass("open");c(".task-export").removeClass("done").removeClass("waiting")},resetFilter:function(f){this.elSearchInput.val("");this.dataTable.cancelFilter();this.dataTable.clearTable();this.dataTable.stopLoadData();this.dataTable.loadData()}};c.fn.serializeObject=function(){var g={};var f=this.serializeArray();c.each(f,function(){if(g[this.name]!==undefined){if(!g[this.name].push){g[this.name]=[g[this.name]]}g[this.name].push(this.value||"")}else{g[this.name]=this.value||""}});return g};var d=Class.create();d.prototype={dataTable:null,filter:null,texts:{},metadata:{},elNewUserForm:c(".managing-users-add-user-card form"),elSearchBoxSwitch:c(".manage-users-search-box-switch"),elSearchBox:c(".manage-users-search-box"),emailRegExp:/^([a-zA-Z0-9_\.\-])+@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,refreshLoginTimer:null,refreshLoginInterval:10*60,clipboardTimer:null,exportDataInProgress:false,initialize:function(h,f,g){this.dataTable=h;this.filter=f;this.texts=g;this.dataTable.setRowRenderCallback(this.renderTableRow.bind(this));this.dataTable.setProcessResponseCallback(this.afterProcessResponse.bind(this));this.dataTable.setRowClickCallback(this.rowClick.bind(this));this.initRefreshLoginTimer();this.initDataTable()},getText:function(f){return this.texts[f]?this.texts[f]:""},setMetadata:function(f){this.metadata=f},setTitle:function(j,h){var g="";if(window.form.showAllData&&window.form.formNames){g=window.form.formNames[h["form_data.form_id"]]+": "}var f="";if(window.form.isOldFormat){f=this.dataTable.getTotalCount()-this.dataTable.getOrderOfItem(j)}else{f=h["form_data.rank"]}var i=g+this.getText("title")+" "+f;c("#table-data-title").text(i)},setSubTitle:function(g){var f="";if(window.form.visibleExportData){f=this.getText("detailSubtitle").replace("__DATE__",this.escape(g["form_data.create_date"])).replace("__IP_ADDRESS__",this.escape(g["form_data.ip"]))}else{f=this.getText("detailIp")+this.escape(g["form_data.ip"])}c("#table-data-subtitle").text(f)},renderDetail:function(m){var k=this.dataTable.getItem(m);if(!k){return false}c(".modal-top-controls").show();var i=c("#table-data-table");i.empty();this.setTitle(m,k);this.setSubTitle(k);var j="",g="",l=[];var f=this;var h=window.form.isOldFormat?this.metadata:this.metadata[k["form_data.form_id"]];c.each(h,function(n,o){j=k[n]||o.column_type==="FORM_AGREEMENT_CHECKBOX"?f.getValueByColumnType(o.column_type,k[n],true):"";g=o.label?o.label:"";if(!window.form.visibleExportData&&o.column_type==="DATE_TIME"){g=f.getText("deliveryData");i.prepend(f.getDetailTableRow(g,j))}if(o.form_data_col==1){if(o.column_show==0){l.push(f.getDetailTableRow(g,j,true))}else{i.append(f.getDetailTableRow(g,j,false))}}});i.append(l.join(""));this.prepareReadMoreButtons();this.preparePrevNextButtons(m);c(".button-arrow").off("click").on("click",this.handleClickArrow.bind(this,m));c(document).off("keydown").on("keydown",this.handleKeydown.bind(this,m));c(".button-copy-to-clipboard").off("click").on("click",this.handleClickCopyToClipboard.bind(this));c(".text-perex-read-more").off("click").on("click",this.handleClickReadMore.bind(this));c(".table-data-modal-toolbar .button-text-link.delete").off("click").on("click",{id:m},this.handleClickDelete.bind(this));c(".managing-users-confirm-delete .delete").off("click").on("click",{id:m},this.handleClickRemove.bind(this));c(".managing-users-confirm-delete .cancel").off("click").on("click",this.handleClickCancel.bind(this));return true},closeModal:function(){c(".table-data-modal").removeClass("waiting");modalControl()},prepareReadMoreButtons:function(){this.openModal("detail-card");c(".text-perex-collapsed").each(function(){var h=c(this);var g=h.height();var i=h.removeClass("text-perex-collapsed").addClass("text-perex-expanded").height();h.removeClass("text-perex-expanded").addClass("text-perex-collapsed").height();if(g<i){var f=c(this).closest("td").find(".text-perex-read-more");f.removeClass("hide")}})},preparePrevNextButtons:function(f){if(!this.dataTable.getNextItemId(f)&&this.dataTable.isLoadedAllItems()){c(".button-arrow.next").addClass("disabled")}else{c(".button-arrow.next").removeClass("disabled")}if(!this.dataTable.getPrevItemId(f)){c(".button-arrow.previous").addClass("disabled")}else{c(".button-arrow.previous").removeClass("disabled")}},handleClickArrow:function(h,f){f.preventDefault();var g=c(f.target).closest(".button-arrow");if(g.hasClass("previous")){this.goToPrevItem(h)}else{if(g.hasClass("next")){this.goToNextItem(h)}}},handleKeydown:function(g,f){if(f.type=="keydown"){switch(f.keyCode){case 37:case 38:this.goToPrevItem(g);break;case 39:case 40:this.goToNextItem(g);break;default:return}}},goToPrevItem:function(g){var f=this.dataTable.getPrevItemId(g);if(f){this.renderDetail(f)}},goToNextItem:function(g){var f=this.dataTable.getNextItemId(g);if(f){this.renderDetail(f)}else{if(!this.dataTable.isLoadedAllItems()){c(".table-data-modal").addClass("waiting");this.dataTable.loadNextPage(function(){c(".table-data-modal").removeClass("waiting");this.goToNextItem(g)}.bind(this,g))}}},handleClickCopyToClipboard:function(h){h.preventDefault();var f=document.createElement("input");var i=c(h.target).closest("td").find("a").first().text();f.setAttribute("value",i);document.body.appendChild(f);f.select();document.execCommand("copy");document.body.removeChild(f);var g=c(h.target).closest(".button-copy-to-clipboard").find(".button-copy-to-clipboard-state");g.removeClass("hide");if(this.clipboardTimer){clearTimeout(this.clipboardTimer);this.clipboardTimer=null}this.clipboardTimer=setTimeout(function(){g.addClass("hide")},1000)},handleClickReadMore:function(h){h.preventDefault();var j=c(h.target);var g=j.closest("td").find(".text-perex-collapsed");var i=g.css("max-height");g.css({display:"block","max-height":"none"});var f=g.css("height");j.closest(".text-perex-read-more").addClass("hide");g.css({"max-height":i}).animate({"max-height":f},250,"linear",function(){c(this).css({display:"","max-height":""});c(this).removeClass("text-perex-collapsed").addClass("text-perex-expanded")})},handleClickDelete:function(f){f.preventDefault();c(".modal-top-controls").hide();c(".managing-users-detail-card").addClass("hide").css("display","");c(".managing-users-confirm-delete").removeClass("hide").hide().fadeIn(500).queue(function(){c(".modal-section").css("display","");c(window).trigger("resize");c(this).dequeue()});tableDataModalControl()},handleClickCancel:function(f){f.preventDefault();c(".modal-top-controls").show();c(".managing-users-confirm-delete").addClass("hide").css("display","");c(".managing-users-detail-card").removeClass("hide").hide().fadeIn(500).queue(function(){c(".modal-section").css("display","");c(window).trigger("resize");c(this).dequeue()});tableDataModalControl()},handleClickRemove:function(f){f.preventDefault();c(".table-data-modal").addClass("waiting");c.ajax({method:"POST",url:location.href,data:{ajax_type:"formData",action:"DELETE",id:f.data.id}}).done(function(g){c(".table-data-modal").removeClass("waiting");this.afterRemove(f.data.id);this.closeModal()}.bind(this))},escape:function(f){f=f||"";return c("<div/>").text(f).html()},nl2br:function(f){return(f+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1<br />$2")},getValueByColumnType:function(m,l,i){switch(m){case"FORM_EMAIL":if(i){var n="";if(window.form.visibleExportData){n='<span class="button-copy-to-clipboard"><span><a href="#"></a></span><span class="button-copy-to-clipboard-state hide">'+this.getText("copied")+"</span></span>"}l='<a href="mailto:'+this.escape(l)+'">'+this.escape(l)+"</a>"+n}else{l=this.escape(l)}break;case"FORM_FILEINPUT":if(l.name===undefined){l="<span>"+escape(l)+"</span>"}else{if(i){var f=l.url;var j=this.escape(l.name);var k="table-data-modalattach";if(l.name.match(/\.(jpg|jpeg|png|gif)$/)){j='<img src="'+this.escape(f)+'">';k="table-data-modal-image"}l='<a target="_blank" href="'+this.escape(f)+'" class="'+k+'">'+j+"</a>"}else{l=this.escape(l.name)}}break;case"FORM_TEXT":case"FORM_SELECTBOX":case"FROM_NUMBER":case"FORM_PHONE":case"FORM_DATE":l=i?"<span>"+this.escape(l)+"</span>":this.escape(l);break;case"FORM_TEXTAREA":if(i){var h="";var g="";if(window.form.visibleExportData){h='<span class="text-perex-read-more hide"><a href="#">'+this.getText("readMore")+"</a></span>";g="text-perex-collapsed"}l='<span class="'+g+'">'+this.nl2br(this.escape(l))+"</span>"+h}else{l=this.escape(l)}break;case"FORM_RADIOBUTTON":case"FORM_CHECKBOX":l=i?"<span>"+l+"</span>":l;break;case"FORM_AGREEMENT_CHECKBOX":l="<span>"+(l?this.getText("yes"):this.getText("no"))+"</span>";break;default:l=this.escape(l);break}return l},getDetailTableRow:function(g,i,f){var h=f?' class="no-in-form"':"";return"<tr"+h+'><td class="table-data-modal-table-title">'+g+"</td><td>"+i+"</td></tr>"},afterRemove:function(f){this.dataTable.deleteItem(f)},handleBulkOperationDelete:function(h){h.preventDefault();var f=this.dataTable.getSelectedRows();var i="";var g=f.length;switch(g){case 1:i=this.getText("bulkDeleteConfirm1");break;case 2:case 3:case 4:i=this.getText("bulkDeleteConfirm24");break;default:i=this.getText("bulkDeleteConfirm5");break}i=i.replace("_COUNT_",g);c(".managing-users-confirm-delete-bulk h2").text(i);this.openModal("confirm-delete-bulk");c(".managing-users-confirm-delete-bulk .delete").off("click").on("click",function(j){j.preventDefault();this.bulkDelete(f);this.closeModal()}.bind(this));c(".managing-users-confirm-delete-bulk .cancel").off("click").on("click",function(j){j.preventDefault();this.closeModal()}.bind(this))},bulkDelete:function(f){f.forEach(this.afterRemove.bind(this));this.dataTable.hideBulkOperations();c.ajax({method:"POST",url:location.href,data:{ajax_type:"formData",action:"DELETE",id:f}}).done(function(g){this.dataTable.completeBulkOperation()}.bind(this))},handleSearchBoxSwitchClick:function(f){f.preventDefault();f.stopImmediatePropagation();f.stopPropagation();c(".data-filter-menu").removeClass("open");this.filter.hideSubMenu();this.elSearchBoxSwitch.addClass("hide");this.elSearchBox.addClass("open-manage-users-search-box");c("#member-login-search-input").focus()},handleSearchInputBlur:function(f){if(c(f.target).val()==""){this.elSearchBoxSwitch.removeClass("hide");this.elSearchBox.removeClass("open-manage-users-search-box")}},changeModalCard:function(f){c(".modal-section").addClass("hide");c(".managing-users-"+f).removeClass("hide");if(c(".managing-users-"+f).is(".hidden-close")){c(".modal-top-controls").hide()}else{c(".modal-top-controls").show()}tableDataModalControl()},openModal:function(f,g){c(".table-data-modal").removeClass("waiting");c(".managing-users-"+f+" .cancel").off("click").on("click",function(h){h.preventDefault();h.stopPropagation();if(g&&g.onClickCancel){g.onClickCancel()}else{this.closeModal()}}.bind(this));this.changeModalCard(f);modalControl("openTableData")},rowClick:function(f,g){this.renderDetail(g);this.openModal("detail-card")},initRefreshLoginTimer:function(){this.refreshLoginTimer=window.setInterval(function(){c.ajax({method:"POST",url:location.href,cache:false,data:{ajax_type:"refreshLogin"}})},this.refreshLoginInterval*1000)},handleExportDataClick:function(f){f.preventDefault();f.stopPropagation();if(this.exportDataInProgress){return}this.exportDataInProgress=true;var g=c(f.target);g.removeClass("done").addClass("waiting");c.ajax({method:"POST",url:location.href,cache:false,data:{ajax_type:"exportData"}}).done(function(i){g.removeClass("waiting").addClass("done");if(i.data&&i.data["file"]){var h=document.createElement("a");h.id="temp-download";h.href=location.href+"&download="+i.data["file"];h.download=i.data["exportName"];document.body.appendChild(h);h.click();document.body.removeChild(h);this.exportDataInProgress=false}}.bind(this))},initDataTable:function(){c.validator.addMethod("email",function(g,f){return this.emailRegExp.test(g)}.bind(this),"");this.elSearchBoxSwitch.off("click").on("click",this.handleSearchBoxSwitchClick.bind(this));c("input#member-login-search-input").off("blur").on("blur",this.handleSearchInputBlur.bind(this));c(".manage-users-bulk-operations .delete").off("click").on("click",this.handleBulkOperationDelete.bind(this));c("#export-data").off("click").on("click",this.handleExportDataClick.bind(this));this.elNewUserForm.find(".form-input input").off("change").on("change",function(f){f.preventDefault();if(c(this).val()!=""){c(this).closest(".form-input").addClass("not-empty")}else{c(this).closest(".form-input").removeClass("not-empty")}})},afterProcessResponse:function(f){if(c.isPlainObject(f.metadata)){c.extend(this.metadata,f.metadata)}},getTitleValue:function(f){if(f.length>window.form.maxTitleValueLength){f=f.substr(0,window.form.maxTitleValueLength)+"..."}return f},renderTableRow:function(f,n){var o=window.form.maxColumns;var k=[];k.push('<td data-th="'+this.getText("bulkSelectRow")+'"><label title="'+this.getText("bulkSelectRowTitle")+'"><input type="checkbox"><span></span></label></td>');var g=n["form_data.created_at"];var l=n["form_data.create_date"];k.push('<td data-th="'+this.getText("deliveryData")+'" title="'+this.escape(this.getTitleValue(l))+'">'+this.escape(g)+"</td>");var i=n["form_data.email"]?n["form_data.email"]:"";var h=n["form_data.other"]?n["form_data.other"]:"";if(window.form.showAllData){k.push('<td data-th="'+this.getText("email")+'" title="'+this.escape(this.getTitleValue(i))+'">'+this.escape(i)+"</td>");k.push('<td data-th="'+this.getText("otherData")+'" title="'+this.escape(this.getTitleValue(h))+'">'+this.escape(h)+"</td>")}else{var m=this;var j=window.form.isOldFormat?this.metadata:this.metadata[n["form_data.form_id"]];c.each(j,function(p,q){if(q.form_data_col==1&&q.column_show==1){var r="";if(n[p]){r=m.getValueByColumnType(q.column_type,n[p],false)}k.push('<td data-th="'+m.escape(q.label)+'" title="'+m.escape(m.getTitleValue(r))+'">'+r+"</td>");if(k.length>=o){return false}}})}return'<tr data-row_id="'+f+'">'+k.join("")+"</tr>"}};c(document).ready(function(){if(window.form){var h=window.form.texts;c(".hideOnProjectDetail").addClass("hide");var g=new e(h);g.setItems(window.form.data["data"]||[]);g.setOrderData(window.form.data["orderData"]);g.setTotalItems(window.form.data["totalItems"]||0);var f=new b(g,h);var i=new d(g,f,h);i.setMetadata(window.form.data["metadata"]||[])}})})(jQuery);jQuery.noConflict();(function(a){var b=Class.create();b.prototype={emailVerificationSticky:a(".email-verification.sticky"),emailRegExp:/^([a-zA-Z0-9_\.\-+])+@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,initialize:function(){if(this.emailVerificationSticky.length){this.initEmailVerification()}},initEmailVerification:function(){var i=a(".ask-for-verification, .passed-verification",this.emailVerificationSticky);var c=a(".sent-verification",this.emailVerificationSticky);var f=a(".edit-verification",this.emailVerificationSticky);var g=a("a",i);var e=a("a",c);var h=a("a",f);var d=a("form",f);var j=a("h3",f);j.attr("data-label",j.text());i.removeClass("hide").css({height:0,overflow:"hidden",opacity:0}).delay(250).animate({height:i.outerHeight(),opacity:1},250,"linear",function(){a(this).css({height:"",overflow:"",opacity:""})});g.on("click",this.handleSendEmailVerification.bind(this));e.on("click",this.handleChangeMail.bind(this));h.on("click",this.handleCancelEdit.bind(this));d.on("submit",this.handleSubmitEdit.bind(this));if(i.is(".passed-verification")){this.timedHideStart()}window.onblur=function(){window.blurred=true};window.onfocus=function(){window.blurred=false}},initialTimeToCloseMessage:15000,timeToCloseMessage:15000,deltaTimeToCloseMessage:250,timerCloseMessage:null,timedHideStart:function(){if(a(".email-verification-section:not(hide)")){this.timerCloseMessage=setInterval(function(){if(window.blurred){return}this.timeToCloseMessage-=this.deltaTimeToCloseMessage;if(this.timeToCloseMessage>0){return}clearInterval(this.timerCloseMessage);a(".email-verification-section:not(hide)").css({overflow:"hidden"}).animate({height:0,opacity:0},250,"linear",function(){a(this).css({height:"",overflow:"",opacity:""});a(this).addClass("hide").css({display:""})})}.bind(this),this.deltaTimeToCloseMessage)}},timedHideClear:function(){clearInterval(this.timerCloseMessage);this.timeToCloseMessage=this.initialTimeToCloseMessage},handleSendEmailVerification:function(f){f.preventDefault();f.stopPropagation();var d=a(".ask-for-verification",this.emailVerificationSticky);var c=a(".sent-verification",this.emailVerificationSticky);this.sendVerifyEmail();d.addClass("hide");c.removeClass("hide");this.timedHideStart()},handleChangeMail:function(c){c.preventDefault();c.stopPropagation();this.timedHideClear();a(".sent-verification",this.emailVerificationSticky).addClass("hide");a(".edit-verification",this.emailVerificationSticky).removeClass("hide")},handleSubmitEdit:function(h){h.preventDefault();h.stopPropagation();var d=a(".edit-verification",this.emailVerificationSticky);var c=a(".sent-verification",this.emailVerificationSticky);var g=a("#email-address",d);var f=a(".text-fragment-e-mail",c);var i=a("h3",d);if(g.val()==""||!this.emailRegExp.test(g.val())){d.addClass("error");i.text(g.data("validation-error"))}else{d.removeClass("error");i.text(i.attr("data-label"));f.text(g.val());this.sendVerifyEmail(g.val(),function(e){if(e.error){d.addClass("error");i.text(g.data("unique-error"))}else{d.addClass("hide");c.removeClass("hide");this.timedHideStart()}})}},sendVerifyEmail:function(d,f){var e=a(".edit-verification",this.emailVerificationSticky);var c=window.location.pathname+"?ajax_type=verifyEmail";new Ajax.Request(c,{method:"POST",parameters:{newEmail:d||null},onSuccess:function(h){var g=h.responseText.evalJSON();if(f){f(g)}}.bind(this)})},handleCancelEdit:function(c){c.preventDefault();c.stopPropagation();a(".edit-verification",this.emailVerificationSticky).css({overflow:"hidden"}).delay(100).animate({height:0,opacity:0},250,"linear",function(){a(this).css({height:"",overflow:"",opacity:""});a(this).addClass("hide").css({display:""})})}};a.MyProjects=new b()})(jQuery);/*! modernizr 3.3.1 (Custom Build) | MIT *
 * https://modernizr.com/download/?-csspointerevents-flexbox-flexboxlegacy-flexboxtweener-flexwrap-setclasses !*/
!function(aa,R,K){function N(a,b){return typeof a===b}function L(){var h,p,f,g,m,d,c;for(var b in F){if(F.hasOwnProperty(b)){if(h=[],p=F[b],p.name&&(h.push(p.name.toLowerCase()),p.options&&p.options.aliases&&p.options.aliases.length)){for(f=0;f<p.options.aliases.length;f++){h.push(p.options.aliases[f].toLowerCase())}}for(g=N(p.fn,"function")?p.fn():p.fn,m=0;m<h.length;m++){d=h[m],c=d.split("."),1===c.length?A[c[0]]=g:(!A[c[0]]||A[c[0]] instanceof Boolean||(A[c[0]]=new Boolean(A[c[0]])),A[c[0]][c[1]]=g),Y.push((g?"":"no-")+c.join("-"))}}}}function Q(c){var d=G.className,a=A._config.classPrefix||"";if(af&&(d=d.baseVal),A._config.enableJSClass){var b=new RegExp("(^|\\s)"+a+"no-js(\\s|$)");d=d.replace(b,"$1"+a+"js$2")}A._config.enableClasses&&(d+=" "+a+c.join(" "+a),af?G.className.baseVal=d:G.className=d)}function W(){return"function"!=typeof R.createElement?R.createElement(arguments[0]):af?R.createElementNS.call(R,"http://www.w3.org/2000/svg",arguments[0]):R.createElement.apply(R,arguments)}function ae(a,b){return !!~(""+a).indexOf(b)}function V(a){return a.replace(/([a-z])-([a-z])/g,function(c,d,b){return d+b.toUpperCase()}).replace(/^-/,"")}function Z(a,b){return function(){return a.apply(b,arguments)}}function I(c,f,a){var b;for(var d in c){if(c[d] in f){return a===!1?c[d]:(b=f[c[d]],N(b,"function")?Z(b,a||f):b)}}return !1}function ab(a){return a.replace(/([A-Z])/g,function(b,c){return"-"+c.toLowerCase()}).replace(/^ms-/,"-ms-")}function O(){var a=R.body;return a||(a=W(af?"svg":"body"),a.fake=!0),a}function ac(m,x,b,y){var g,v,h,i,w="modernizr",n=W("div"),p=O();if(parseInt(b,10)){for(;b--;){h=W("div"),h.id=y?y[b]:w+(b+1),n.appendChild(h)}}return g=W("style"),g.type="text/css",g.id="s"+w,(p.fake?p:n).appendChild(g),p.appendChild(n),g.styleSheet?g.styleSheet.cssText=m:g.appendChild(R.createTextNode(m)),n.id=w,p.fake&&(p.style.background="",p.style.overflow="hidden",i=G.style.overflow,G.style.overflow="hidden",G.appendChild(p)),v=x(n,m),p.fake?(p.parentNode.removeChild(p),G.style.overflow=i,G.offsetHeight):n.parentNode.removeChild(n),!!v}function U(d,b){var a=d.length;if("CSS" in aa&&"supports" in aa.CSS){for(;a--;){if(aa.CSS.supports(ab(d[a]),b)){return !0}}return !1}if("CSSSupportsRule" in aa){for(var c=[];a--;){c.push("("+ab(d[a])+":"+b+")")}return c=c.join(" or "),ac("@supports ("+c+") { #modernizr { position: absolute; } }",function(f){return"absolute"==getComputedStyle(f,null).position})}return K}function H(t,i,P,b){function r(){w&&(delete q.style,delete q.modElem)}if(b=N(b,"undefined")?!1:b,!N(P,"undefined")){var E=U(t,P);if(!N(E,"undefined")){return E}}for(var w,a,x,C,l,z=["modernizr","tspan","samp"];!q.style&&z.length;){w=!0,q.modElem=W(z.shift()),q.style=q.modElem.style}for(x=t.length,a=0;x>a;a++){if(C=t[a],l=q.style[C],ae(C,"-")&&(C=V(C)),q.style[C]!==K){if(b||N(P,"undefined")){return r(),"pfx"==i?C:!0}try{q.style[C]=P}catch(m){}if(q.style[C]!=l){return r(),"pfx"==i?C:!0}}}return r(),!1}function X(g,l,d,f,h){var c=g.charAt(0).toUpperCase()+g.slice(1),b=(g+" "+k.join(c+" ")+c).split(" ");return N(l,"string")||N(l,"undefined")?H(b,l,f,h):(b=(g+" "+j.join(c+" ")+c).split(" "),I(b,l,d))}function D(b,c,a){return X(b,K,K,c,a)}var Y=[],F=[],M={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(b,c){var a=this;setTimeout(function(){c(a[b])},0)},addTest:function(b,c,a){F.push({name:b,fn:c,options:a})},addAsyncTest:function(a){F.push({name:null,fn:a})}},A=function(){};A.prototype=M,A=new A;var G=R.documentElement,af="svg"===G.nodeName.toLowerCase();A.addTest("csspointerevents",function(){var a=W("a").style;return a.cssText="pointer-events:auto","auto"===a.pointerEvents});var ad="Moz O ms Webkit",k=M._config.usePrefixes?ad.split(" "):[];M._cssomPrefixes=k;var j=M._config.usePrefixes?ad.toLowerCase().split(" "):[];M._domPrefixes=j;var J={elem:W("modernizr")};A._q.push(function(){delete J.elem});var q={style:J.elem.style};A._q.unshift(function(){delete q.style}),M.testAllProps=X,M.testAllProps=D,A.addTest("flexbox",D("flexBasis","1px",!0)),A.addTest("flexboxlegacy",D("boxDirection","reverse",!0)),A.addTest("flexboxtweener",D("flexAlign","end",!0)),A.addTest("flexwrap",D("flexWrap","wrap",!0)),L(),Q(Y),delete M.addTest,delete M.addAsyncTest;for(var B=0;B<A._q.length;B++){A._q[B]()}aa.Modernizr=A}(window,document);/*!
 * jQuery Validation Plugin v1.15.0
 *
 * http://jqueryvalidation.org/
 *
 * Copyright (c) 2016 Jrn Zaefferer
 * Released under the MIT license
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof module==="object"&&module.exports){module.exports=a(require("jquery"))}else{a(jQuery)}}}(function(c){c.extend(c.fn,{validate:function(d){if(!this.length){if(d&&d.debug&&window.console){console.warn("Nothing selected, can't validate, returning nothing.")}return}var e=c.data(this[0],"validator");if(e){return e}this.attr("novalidate","novalidate");e=new c.validator(d,this[0]);c.data(this[0],"validator",e);if(e.settings.onsubmit){this.on("click.validate",":submit",function(f){if(e.settings.submitHandler){e.submitButton=f.target}if(c(this).hasClass("cancel")){e.cancelSubmit=true}if(c(this).attr("formnovalidate")!==undefined){e.cancelSubmit=true}});this.on("submit.validate",function(f){if(e.settings.debug){f.preventDefault()}function g(){var i,h;if(e.settings.submitHandler){if(e.submitButton){i=c("<input type='hidden'/>").attr("name",e.submitButton.name).val(c(e.submitButton).val()).appendTo(e.currentForm)}h=e.settings.submitHandler.call(e,e.currentForm,f);if(e.submitButton){i.remove()}if(h!==undefined){return h}return false}return true}if(e.cancelSubmit){e.cancelSubmit=false;return g()}if(e.form()){if(e.pendingRequest){e.formSubmitted=true;return false}return g()}else{e.focusInvalid();return false}})}e.focusInvalid();return e},valid:function(){var e,d,f;if(c(this[0]).is("form")){e=this.validate().form()}else{f=[];e=true;d=c(this[0].form).validate();this.each(function(){e=d.element(this)&&e;if(!e){f=f.concat(d.errorList)}});d.errorList=f}return e},rules:function(g,d){if(!this.length){return}var i=this[0],f,k,l,h,e,j;if(g){f=c.data(i.form,"validator").settings;k=f.rules;l=c.validator.staticRules(i);switch(g){case"add":c.extend(l,c.validator.normalizeRule(d));delete l.messages;k[i.name]=l;if(d.messages){f.messages[i.name]=c.extend(f.messages[i.name],d.messages)}break;case"remove":if(!d){delete k[i.name];return l}j={};c.each(d.split(/\s/),function(m,n){j[n]=l[n];delete l[n];if(n==="required"){c(i).removeAttr("aria-required")}});return j}}h=c.validator.normalizeRules(c.extend({},c.validator.classRules(i),c.validator.attributeRules(i),c.validator.dataRules(i),c.validator.staticRules(i)),i);if(h.required){e=h.required;delete h.required;h=c.extend({required:e},h);c(i).attr("aria-required","true")}if(h.remote){e=h.remote;delete h.remote;h=c.extend(h,{remote:e})}return h}});c.extend(c.expr[":"],{blank:function(d){return !c.trim(""+c(d).val())},filled:function(d){var e=c(d).val();return e!==null&&!!c.trim(""+e)},unchecked:function(d){return !c(d).prop("checked")}});c.validator=function(d,e){this.settings=c.extend(true,{},c.validator.defaults,d);this.currentForm=e;this.init()};c.validator.format=function(d,e){if(arguments.length===1){return function(){var f=c.makeArray(arguments);f.unshift(d);return c.validator.format.apply(this,f)}}if(e===undefined){return d}if(arguments.length>2&&e.constructor!==Array){e=c.makeArray(arguments).slice(1)}if(e.constructor!==Array){e=[e]}c.each(e,function(f,g){d=d.replace(new RegExp("\\{"+f+"\\}","g"),function(){return g})});return d};c.extend(c.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"span",focusCleanup:false,focusInvalid:true,errorContainer:c([]),errorLabelContainer:c([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(d){this.lastActive=d;if(this.settings.focusCleanup){if(this.settings.unhighlight){this.settings.unhighlight.call(this,d,this.settings.errorClass,this.settings.validClass)}this.hideThese(this.errorsFor(d))}},onfocusout:function(d){if(!this.checkable(d)&&(d.name in this.submitted||!this.optional(d))){this.element(d)}},onkeyup:function(e,f){var d=[16,17,18,20,35,36,37,38,39,40,45,144,225];if(f.which===9&&this.elementValue(e)===""||c.inArray(f.keyCode,d)!==-1){return}else{if(e.name in this.submitted||e.name in this.invalid){this.element(e)}}},onclick:function(d){if(d.name in this.submitted){this.element(d)}else{if(d.parentNode.name in this.submitted){this.element(d.parentNode)}}},highlight:function(f,d,e){c(f).closest(".form-input-classic").addClass(d).removeClass(e)},unhighlight:function(f,d,e){c(f).closest(".form-input-classic").removeClass(d).addClass(e)}},setDefaults:function(d){c.extend(c.validator.defaults,d)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:c.validator.format("Please enter no more than {0} characters."),minlength:c.validator.format("Please enter at least {0} characters."),rangelength:c.validator.format("Please enter a value between {0} and {1} characters long."),range:c.validator.format("Please enter a value between {0} and {1}."),max:c.validator.format("Please enter a value less than or equal to {0}."),min:c.validator.format("Please enter a value greater than or equal to {0}."),step:c.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=c(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||c(this.currentForm);this.containers=c(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var d=(this.groups={}),f;c.each(this.settings.groups,function(g,h){if(typeof h==="string"){h=h.split(/\s/)}c.each(h,function(j,i){d[i]=g})});f=this.settings.rules;c.each(f,function(g,h){f[g]=c.validator.normalizeRule(h)});function e(j){var h=c.data(this.form,"validator"),g="on"+j.type.replace(/^validate/,""),i=h.settings;if(i[g]&&!c(this).is(i.ignore)){i[g].call(h,this,j)}}c(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable]",e).on("click.validate","select, option, [type='radio'], [type='checkbox']",e);if(this.settings.invalidHandler){c(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)}c(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){this.checkForm();c.extend(this.submitted,this.errorMap);this.invalid=c.extend({},this.errorMap);if(!this.valid()){c(this.currentForm).triggerHandler("invalid-form",[this])}this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var d=0,e=(this.currentElements=this.elements());e[d];d++){this.check(e[d])}return this.valid()},element:function(h){var i=this.clean(h),g=this.validationTargetFor(i),f=this,d=true,e,j;if(g===undefined){delete this.invalid[i.name]}else{this.prepareElement(g);this.currentElements=c(g);j=this.groups[g.name];if(j){c.each(this.groups,function(l,k){if(k===j&&l!==g.name){i=f.validationTargetFor(f.clean(f.findByName(l)));if(i&&i.name in f.invalid){f.currentElements.push(i);d=d&&f.check(i)}}})}e=this.check(g)!==false;d=d&&e;if(e){this.invalid[g.name]=false}else{this.invalid[g.name]=true}if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();c(h).attr("aria-invalid",!e)}return d},showErrors:function(e){if(e){var d=this;c.extend(this.errorMap,e);this.errorList=c.map(this.errorMap,function(g,f){return{message:g,element:d.findByName(f)[0]}});this.successList=c.grep(this.successList,function(f){return !(f.name in e)})}if(this.settings.showErrors){this.settings.showErrors.call(this,this.errorMap,this.errorList)}else{this.defaultShowErrors()}},resetForm:function(){if(c.fn.resetForm){c(this.currentForm).resetForm()}this.invalid={};this.submitted={};this.prepareForm();this.hideErrors();var d=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(d)},resetElements:function(e){var d;if(this.settings.unhighlight){for(d=0;e[d];d++){this.settings.unhighlight.call(this,e[d],this.settings.errorClass,"");this.findByName(e[d].name).removeClass(this.settings.validClass)}}else{e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)}},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(f){var e=0,d;for(d in f){if(f[d]){e++}}return e},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(d){d.not(this.containers).text("");this.addWrapper(d).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},isElementInView:function(e){var h=c(window).scrollTop();var g=h+c(window).height();var d=e.offset().top;var f=d+e.height();return f<=g&&d>=h},focusInvalid:function(){if(this.settings.focusInvalid){try{c(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(f){}}var d=c(this.currentForm).find("div.error").first();if(d.length&&!this.isElementInView(d)){c(window).scrollTop(d.offset().top)}},findLastActive:function(){var d=this.lastActive;return d&&c.grep(this.errorList,function(e){return e.element.name===d.name}).length===1&&d},elements:function(){var e=this,d={};return c(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var f=this.name||c(this).attr("name");if(!f&&e.settings.debug&&window.console){console.error("%o has no name assigned",this)}if(this.hasAttribute("contenteditable")){this.form=c(this).closest("form")[0]}if(f in d||!e.objectLength(c(this).rules())){return false}d[f]=true;return true})},clean:function(d){return c(d)[0]},errors:function(){var d=this.settings.errorClass.split(" ").join(".");return c(this.settings.errorElement+"."+d,this.errorContext)},resetInternals:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=c([]);this.toHide=c([])},reset:function(){this.resetInternals();this.currentElements=c([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(d){this.reset();this.toHide=this.errorsFor(d)},elementValue:function(f){var e=c(f),g=f.type,h,d;if(g==="radio"||g==="checkbox"){return this.findByName(f.name).filter(":checked").val()}else{if(g==="number"&&typeof f.validity!=="undefined"){return f.validity.badInput?"NaN":e.val()}}if(f.hasAttribute("contenteditable")){h=e.text()}else{h=e.val()}if(g==="file"){if(h.substr(0,12)==="C:\\fakepath\\"){return h.substr(12)}d=h.lastIndexOf("/");if(d>=0){return h.substr(d+1)}d=h.lastIndexOf("\\");if(d>=0){return h.substr(d+1)}return h}if(typeof h==="string"){return h.replace(/\r/g,"")}return h},check:function(g){g=this.validationTargetFor(this.clean(g));var k=c(g).rules(),i=c.map(k,function(o,e){return e}).length,l=false,f=this.elementValue(g),m,d,j;if(typeof k.normalizer==="function"){f=k.normalizer.call(g,f);if(typeof f!=="string"){throw new TypeError("The normalizer should return a string value.")}delete k.normalizer}for(d in k){j={method:d,parameters:k[d]};try{m=c.validator.methods[d].call(this,f,g,j.parameters);if(m==="dependency-mismatch"&&i===1){l=true;continue}l=false;if(m==="pending"){this.toHide=this.toHide.not(this.errorsFor(g));return}if(!m){this.formatAndAdd(g,j);return false}}catch(h){if(this.settings.debug&&window.console){console.log("Exception occurred when checking element "+g.id+", check the '"+j.method+"' method.",h)}if(h instanceof TypeError){h.message+=".  Exception occurred when checking element "+g.id+", check the '"+j.method+"' method."}throw h}}if(l){return}if(this.objectLength(k)){this.successList.push(g)}return true},customDataMessage:function(d,e){return c(d).data("msg"+e.charAt(0).toUpperCase()+e.substring(1).toLowerCase())||c(d).data("msg")},customMessage:function(e,f){var d=this.settings.messages[e];return d&&(d.constructor===String?d:d[f])},findDefined:function(){for(var d=0;d<arguments.length;d++){if(arguments[d]!==undefined){return arguments[d]}}return undefined},defaultMessage:function(e,g){var f=this.findDefined(this.customMessage(e.name,g.method),this.customDataMessage(e,g.method),!this.settings.ignoreTitle&&e.title||undefined,c.validator.messages[g.method],"<strong>Warning: No message defined for "+e.name+"</strong>"),d=/\$?\{(\d+)\}/g;if(typeof f==="function"){f=f.call(this,g.parameters,e)}else{if(d.test(f)){f=c.validator.format(f.replace(d,"{$1}"),g.parameters)}}return f},formatAndAdd:function(d,f){var e=this.defaultMessage(d,f);this.errorList.push({message:e,element:d,method:f.method});this.errorMap[d.name]=e;this.submitted[d.name]=e},addWrapper:function(d){if(this.settings.wrapper){d=d.add(d.parent(this.settings.wrapper))}return d},defaultShowErrors:function(){var e,f,d;for(e=0;this.errorList[e];e++){d=this.errorList[e];if(this.settings.highlight){this.settings.highlight.call(this,d.element,this.settings.errorClass,this.settings.validClass)}this.showLabel(d.element,d.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(e=0;this.successList[e];e++){this.showLabel(this.successList[e])}}if(this.settings.unhighlight){for(e=0,f=this.validElements();f[e];e++){this.settings.unhighlight.call(this,f[e],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return c(this.errorList).map(function(){return this.element})},showLabel:function(h,n){var f,l,g,m,i=this.errorsFor(h),j=this.idOrName(h),d=c(h).attr("aria-describedby");if(i.length){i.removeClass(this.settings.validClass).addClass(this.settings.errorClass);i.html(n)}else{i=c("<"+this.settings.errorElement+">").attr("id",j+"-error").addClass(this.settings.errorClass).html(n||"");f=i;if(this.settings.wrapper){f=i.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()}if(this.labelContainer.length){this.labelContainer.append(f)}else{if(this.settings.errorPlacement){this.settings.errorPlacement(f,c(h))}else{try{c(h).closest(".form-input-classic").append(f);var k=f.prev();if(k.hasClass("hint")){k.before(f)}}catch(e){f.insertAfter(h)}}}if(i.is("label")){i.attr("for",j)}else{if(i.parents("label[for='"+this.escapeCssMeta(j)+"']").length===0){g=i.attr("id");if(!d){d=g}else{if(!d.match(new RegExp("\\b"+this.escapeCssMeta(g)+"\\b"))){d+=" "+g}}c(h).attr("aria-describedby",d);l=this.groups[h.name];if(l){m=this;c.each(m.groups,function(p,o){if(o===l){c("[name='"+m.escapeCssMeta(p)+"']",m.currentForm).attr("aria-describedby",i.attr("id"))}})}}}}if(!n&&this.settings.success){i.text("");if(typeof this.settings.success==="string"){i.addClass(this.settings.success)}else{this.settings.success(i,h)}}this.toShow=this.toShow.add(i)},errorsFor:function(f){var e=this.escapeCssMeta(this.idOrName(f)),g=c(f).attr("aria-describedby"),d="label[for='"+e+"'], label[for='"+e+"'] *";if(g){d=d+", #"+this.escapeCssMeta(g).replace(/\s+/g,", #")}return this.errors().filter(d)},escapeCssMeta:function(d){return d.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(d){return this.groups[d.name]||(this.checkable(d)?d.name:d.id||d.name)},validationTargetFor:function(d){if(this.checkable(d)){d=this.findByName(d.name)}return c(d).not(this.settings.ignore)[0]},checkable:function(d){return(/radio|checkbox/i).test(d.type)},findByName:function(d){return c(this.currentForm).find("[name='"+this.escapeCssMeta(d)+"']")},getLength:function(e,d){switch(d.nodeName.toLowerCase()){case"select":return c("option:selected",d).length;case"input":if(this.checkable(d)){return this.findByName(d.name).filter(":checked").length}}return e.length},depend:function(e,d){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,d):true},dependTypes:{"boolean":function(d){return d},string:function(e,d){return !!c(e,d.form).length},"function":function(e,d){return e(d)}},optional:function(d){var e=this.elementValue(d);return !c.validator.methods.required.call(this,e,d)&&"dependency-mismatch"},startRequest:function(d){if(!this.pending[d.name]){this.pendingRequest++;c(d).addClass(this.settings.pendingClass);this.pending[d.name]=true}},stopRequest:function(d,e){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0}delete this.pending[d.name];c(d).removeClass(this.settings.pendingClass);if(e&&this.pendingRequest===0&&this.formSubmitted&&this.form()){c(this.currentForm).submit();this.formSubmitted=false}else{if(!e&&this.pendingRequest===0&&this.formSubmitted){c(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}}},previousValue:function(d,e){return c.data(d,"previousValue")||c.data(d,"previousValue",{old:null,valid:true,message:this.defaultMessage(d,{method:e})})},destroy:function(){this.resetForm();c(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},number:{number:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(d,e){if(d.constructor===String){this.classRuleSettings[d]=e}else{c.extend(this.classRuleSettings,d)}},classRules:function(e){var f={},d=c(e).attr("class");if(d){c.each(d.split(" "),function(){if(this in c.validator.classRuleSettings){c.extend(f,c.validator.classRuleSettings[this])}})}return f},normalizeAttributeRule:function(f,d,g,e){if(/min|max|step/.test(g)&&(d===null||/number|range|text/.test(d))){e=Number(e);if(isNaN(e)){e=undefined}}if(e||e===0){f[g]=e}else{if(d===g&&d!=="range"){f[g]=true}}},attributeRules:function(e){var h={},d=c(e),f=e.getAttribute("type"),i,g;for(i in c.validator.methods){if(i==="required"){g=e.getAttribute(i);if(g===""){g=true}g=!!g}else{g=d.attr(i)}this.normalizeAttributeRule(h,f,i,g)}if(h.maxlength&&/-1|2147483647|524288/.test(h.maxlength)){delete h.maxlength}return h},dataRules:function(e){var h={},d=c(e),f=e.getAttribute("type"),i,g;for(i in c.validator.methods){g=d.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase());this.normalizeAttributeRule(h,f,i,g)}return h},staticRules:function(e){var f={},d=c.data(e.form,"validator");if(d.settings.rules){f=c.validator.normalizeRule(d.settings.rules[e.name])||{}}return f},normalizeRules:function(e,d){c.each(e,function(h,g){if(g===false){delete e[h];return}if(g.param||g.depends){var f=true;switch(typeof g.depends){case"string":f=!!c(g.depends,d.form).length;break;case"function":f=g.depends.call(d,d);break}if(f){e[h]=g.param!==undefined?g.param:true}else{c.data(d.form,"validator").resetElements(c(d));delete e[h]}}});c.each(e,function(f,g){e[f]=c.isFunction(g)&&f!=="normalizer"?g(d):g});c.each(["minlength","maxlength"],function(){if(e[this]){e[this]=Number(e[this])}});c.each(["rangelength","range"],function(){var f;if(e[this]){if(c.isArray(e[this])){e[this]=[Number(e[this][0]),Number(e[this][1])]}else{if(typeof e[this]==="string"){f=e[this].replace(/[\[\]]/g,"").split(/[\s,]+/);e[this]=[Number(f[0]),Number(f[1])]}}}});if(c.validator.autoCreateRanges){if(e.min!=null&&e.max!=null){e.range=[e.min,e.max];delete e.min;delete e.max}if(e.minlength!=null&&e.maxlength!=null){e.rangelength=[e.minlength,e.maxlength];delete e.minlength;delete e.maxlength}}return e},normalizeRule:function(e){if(typeof e==="string"){var d={};c.each(e.split(/\s/),function(){d[this]=true});e=d}return e},addMethod:function(d,f,e){c.validator.methods[d]=f;c.validator.messages[d]=e!==undefined?e:c.validator.messages[d];if(f.length<3){c.validator.addClassRules(d,c.validator.normalizeRule(d))}},methods:{required:function(e,d,g){if(!this.depend(g,d)){return"dependency-mismatch"}if(d.nodeName.toLowerCase()==="select"){var f=c(d).val();return f&&f.length>0}if(this.checkable(d)){return this.getLength(e,d)>0}return e.length>0},email:function(e,d){return this.optional(d)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,d){return this.optional(d)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)},date:function(e,d){return this.optional(d)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,d){return this.optional(d)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,d){return this.optional(d)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,d){return this.optional(d)||/^\d+$/.test(e)},minlength:function(f,d,g){var e=c.isArray(f)?f.length:this.getLength(f,d);return this.optional(d)||e>=g},maxlength:function(f,d,g){var e=c.isArray(f)?f.length:this.getLength(f,d);return this.optional(d)||e<=g},rangelength:function(f,d,g){var e=c.isArray(f)?f.length:this.getLength(f,d);return this.optional(d)||(e>=g[0]&&e<=g[1])},min:function(e,d,f){return this.optional(d)||e>=f},max:function(e,d,f){return this.optional(d)||e<=f},range:function(e,d,f){return this.optional(d)||(e>=f[0]&&e<=f[1])},step:function(j,e,k){var g=c(e).attr("type"),d="Step attribute on input type "+g+" is not supported.",i=["text","number","range"],f=new RegExp("\\b"+g+"\\b"),h=g&&!f.test(i.join());if(h){throw new Error(d)}return this.optional(e)||(j%k===0)},equalTo:function(e,d,g){var f=c(g);if(this.settings.onfocusout&&f.not(".validate-equalTo-blur").length){f.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){c(d).valid()})}return e===f.val()},remote:function(i,e,j,k){if(this.optional(e)){return"dependency-mismatch"}k=typeof k==="string"&&k||"remote";var f=this.previousValue(e,k),d,h,g;if(!this.settings.messages[e.name]){this.settings.messages[e.name]={}}f.originalMessage=f.originalMessage||this.settings.messages[e.name][k];this.settings.messages[e.name][k]=f.message;j=typeof j==="string"&&{url:j}||j;g=c.param(c.extend({data:i},j.data));if(f.old===g){return f.valid}f.old=g;d=this;this.startRequest(e);h={};h[e.name]=i;c.ajax(c.extend(true,{mode:"abort",port:"validate"+e.name,dataType:"json",data:h,context:d.currentForm,success:function(m){var o=m===true||m==="true",p,n,l;d.settings.messages[e.name][k]=f.originalMessage;if(o){l=d.formSubmitted;d.resetInternals();d.toHide=d.errorsFor(e);d.formSubmitted=l;d.successList.push(e);d.invalid[e.name]=false;d.showErrors()}else{p={};n=m||d.defaultMessage(e,{method:k,parameters:i});p[e.name]=f.message=n;d.invalid[e.name]=true;d.showErrors(p)}f.valid=o;d.stopRequest(e,o)}},j));return"pending"}}});var a={},b;if(c.ajaxPrefilter){c.ajaxPrefilter(function(f,e,g){var d=f.port;if(f.mode==="abort"){if(a[d]){a[d].abort()}a[d]=g}})}else{b=c.ajax;c.ajax=function(e){var f=("mode" in e?e:c.ajaxSettings).mode,d=("port" in e?e:c.ajaxSettings).port;if(f==="abort"){if(a[d]){a[d].abort()}a[d]=b.apply(this,arguments);return a[d]}return b.apply(this,arguments)}}}));jQuery.noConflict();(function(b){var c=b("#maxFileSizeError");var a="";if(c&&c[0]){a=c.val().replace("%maxSize%","5MB")}b.validator.addMethod("maxFileSize",function(e,d){return !(d.files&&d.files[0]&&d.files[0].size>1024*1024*5)},a);b(document).ready(function(){if(b("#submitTicketForm").length){b("#submitTicketForm").validate({rules:{subject:"required",description:"required",project:"required",attachment:{maxFileSize:true}},messages:{subject:"",description:"",project:""}})}})})(jQuery);jQuery.noConflict();(function(a){a(document).ready(function(){if(a("#newPasswordRequestForm").length){a("#newPasswordRequestForm").validate({rules:{email:{required:true,email:true}},messages:{email:""}})}if(a("#newPasswordForm").length){a("#newPasswordForm").validate({rules:{password1:{required:true,minlength:6},password2:{required:true,equalTo:"#password1"}},messages:{password1:{required:""},password2:{required:""}}})}})})(jQuery);jQuery.noConflict();(function(b){var c=Class.create();c.prototype={page:0,filter:{},loadingXHR:null,items:{},totalItems:0,elWindow:b(window),elDataTable:b("div.table-data"),elTable:b("div.table-data-table",this.elDataTable),elTableBody:b("tbody.table-data-tbody",this.elTable),elTableHead:b("thead.table-data-thead",this.elTable),elBulkAllCheckbox:b("th input:checkbox",this.elTableHead),elEmpty:b(".table-data-empty",this.elDataTable),elLoadMore:b(".table-data-load-more",this.elDataTable),texts:{},rowRenderCallback:function(d){},rowClickCallback:function(d,e){},processResponseCallback:function(d){},initialize:function(d){this.texts=d;if(this.elDataTable.length){this.initInfiniteScrolling();this.initLoadMoreButton();this.initRowClick()}this.initBulkOperations()},getText:function(d){return this.texts[d]?this.texts[d]:""},initInfiniteScrolling:function(){this.elWindow.scroll(function(){if(this.isTimeForScrollRequest()){this.loadNextPage()}}.bind(this))},initLoadMoreButton:function(){this.elLoadMore.click(function(d){d.preventDefault();d.stopImmediatePropagation();d.stopPropagation();this.loadNextPage()}).bind(this)},initRowClick:function(){this.elTableBody.on("click","tr",function(f){var d=f.srcElement||f.target;var g=b(d).closest("tr").data("row_id");if(b(d).closest("label").length){this.handleBulkCheckboxClick(f)}else{if(b(d).closest("td:first-child").length){}else{this.rowClickCallback(f,g)}}}.bind(this))},initBulkOperations:function(){this.elBulkAllCheckbox.closest("label").click(this.handleBulkSelectAllClick.bind(this));this.processChangeBulkCheckboxState()},handleBulkCheckboxClick:function(d){this.elBulkAllCheckbox.prop("checked",false);this.processChangeBulkCheckboxState()},handleBulkSelectAllClick:function(d){if(this.elBulkAllCheckbox.is(":checked")){b("td input:checkbox",this.elTableBody).prop("checked",true)}else{b("td input:checkbox",this.elTableBody).prop("checked",false)}this.processChangeBulkCheckboxState()},processChangeBulkCheckboxState:function(){var d=this.getSelectedRows();var e=d.length;if(e>0){this.showBulkOperations(e)}else{this.hideBulkOperations()}},showBulkOperations:function(d){b(".open-manage-users-search-box").addClass("hide-from-bulk-operations");b(".manage-users-search-box-switch").addClass("hide-from-bulk-operations");b(".manage-users-filter-box").addClass("hide-from-bulk-operations");b(".manage-users-bulk-operations").addClass("open-manage-users-bulk-operations");b(".manage-users-bulk-operations .state var").text(d)},hideBulkOperations:function(){b(".open-manage-users-search-box").removeClass("hide-from-bulk-operations");b(".manage-users-search-box-switch").removeClass("hide-from-bulk-operations");b(".manage-users-filter-box").removeClass("hide-from-bulk-operations");b(".manage-users-bulk-operations").removeClass("open-manage-users-bulk-operations")},completeBulkOperation:function(){this.elBulkAllCheckbox.prop("checked",false);this.processChangeBulkCheckboxState()},setItems:function(d){this.items=d},setTotalItems:function(d){this.totalItems=d},getItem:function(d){return this.items[d]},getNextItemId:function(h,e){var g=Object.keys(this.items);var f=g.indexOf(h.toString());var d=f-1;return g[d]?parseInt(g[d],10):null},getPrevItemId:function(g){var f=Object.keys(this.items);var d=f.indexOf(g.toString());var e=d+1;return f[e]?parseInt(f[e],10):null},getRow:function(d){return b('tr[data-row_id="'+d+'"]',this.elTableBody)},updateItem:function(e,d){if(this.items[e]){b.extend(this.items[e],d)}},insertItem:function(d){if(!d.id){throw Error("Missing 'id' property!")}var e=d.id;this.items[e]=d;this.totalItems++;this.prependTableRow(e);this.processEmptyData()},deleteItem:function(e){var d=this;this.getRow(e).fadeOut(function(){b(this).remove();d.processChangeBulkCheckboxState()});delete this.items[e];this.totalItems--;this.processEmptyData()},processEmptyData:function(){if(this.isEmpty()){var d=this.hasFilter()?this.getText("tableFilterEmpty"):this.getText("tableEmpty");this.elEmpty.find("h3").text(d);this.elEmpty.removeClass("hide")}else{this.elEmpty.addClass("hide")}},setRowRenderCallback:function(d){this.rowRenderCallback=d},setRowClickCallback:function(d){this.rowClickCallback=d},setProcessResponseCallback:function(d){this.processResponseCallback=d},setFilter:function(d){b.extend(this.filter,d)},hasFilter:function(){return Object.values(this.filter).filter(function(d){return !!d}).length>0},cancelFilter:function(){this.filter={}},clearTable:function(){this.page=0;this.items=[];this.totalItems=0;this.elTableBody.empty()},renderTableRow:function(e){var d=this.items[e];return this.rowRenderCallback(d)},reRenderRow:function(f){var d=b("tr",this.elTableBody).filter('[data-row_id="'+f+'"]');var e=b(this.renderTableRow(f));e.attr("data-row_id",f);d.replaceWith(e)},appendTableRows:function(d){b.each(d,function(e,g){var f=b(this.renderTableRow(g));f.data("row_id",g);f.attr("data-row_id",g);this.elTableBody.append(f)}.bind(this))},prependTableRow:function(e){var d=b(this.renderTableRow(e));d.attr("data-row_id",e);d.hide();this.elTableBody.prepend(d);d.fadeIn()},beforeLoadingData:function(){this.elTable.addClass("waiting");if(this.elTableBody.html()==""){this.elTable.addClass("waiting-empty-table")}this.elLoadMore.hide();this.elEmpty.addClass("hide")},afterLoadingData:function(){this.elTable.removeClass("waiting");this.elTable.removeClass("waiting-empty-table");this.processEmptyData();if(this.getItemsCount()<this.getTotalCount()){this.elLoadMore.show()}},stopLoadData:function(){if(this.loadingXHR){this.loadingXHR.abort();this.loadingXHR=null}},loadData:function(d){if(this.loadingXHR){return}this.beforeLoadingData();this.fetchTableData(function(e){if(e.orderData){this.appendTableRows(e.orderData)}this.afterLoadingData();if(d){d()}}.bind(this))},fetchTableData:function(e){if(this.loadingXHR){return}var d=location.href+"&ajax_type=dataTable&pagination="+this.page+"&"+b.param(this.filter);this.loadingXHR=b.get(d,function(f){this.processResponse(f.data);this.loadingXHR=null;if(e){e(f.data)}}.bind(this))},processResponse:function(d){if(!d){return}this.totalItems=d.totalItems;if(b.isPlainObject(d.data)){b.extend(true,this.items,d.data)}this.processResponseCallback(d)},isLoadedAllItems:function(){return this.getItemsCount()>=this.totalItems},isEmpty:function(){return this.totalItems<=0},getTotalCount:function(){return this.totalItems},getItemsCount:function(){return Object.keys(this.items).length},isTimeForScrollRequest:function(){if(this.loadingXHR){return false}if(this.isLoadedAllItems()){return false}return this.elWindow.scrollTop()+this.elWindow.height()>=this.elLoadMore.offset().top-(this.elWindow.height()/4)},loadNextPage:function(d){this.page++;this.loadData(d)},getSelectedRows:function(){var d=[];b("td input:checkbox:checked",this.elTableBody).each(function(e,f){var g=b(this).closest("tr").data("row_id");d.push(parseInt(g,10))});return d}};b.DataTableClass=c;var a=Class.create();a.prototype={search:null,status:null,STATUS_ACTIVE:"ACTIVE",STATUS_DISABLED:"DISABLED",STATUS_SENT_INVITATION:"SENT_INVITATION",STATUS_WAITING_FOR_APPROVAL:"WAITING_FOR_APPROVAL",dataTable:null,texts:{},elDataTable:b("div.table-data"),elSearchBox:b("div.manage-users-search-box",this.elDataTable),elSearchBoxForm:b("div.manage-users-search-box form",this.elSearchBox),elOpenFilterMenu:b(".search-filter-selector a",this.elDataTable),elOpenSubmenu:b(".submenu-selector .submenu-switch",this.elDataTable),elFilterMenu:b(".search-filter-menu",this.elSearchBox),elSearchInput:b("div.manage-users-search-box form input[type=text]",this.elSearchBoxForm),elFilterInput:b("div.manage-users-search-box form input[type=radio]",this.elSearchBoxForm),searchInputValue:"",searchInputTimer:null,initialize:function(e,d){this.dataTable=e;this.texts=d;this.elSearchInput.change(this.handleSearchInputChange.bind(this));this.elSearchInput.keyup(this.handleSearchBoxInputKeyUp.bind(this));this.elOpenFilterMenu.off("click").on("click",this.handleSearchBoxDropdownOpen.bind(this));this.elOpenSubmenu.off("click").on("click",this.handleSubmenuDropdownOpen.bind(this));b(document).click(function(f){var g=b(f.target);if(!g.closest(this.elSearchBox).length&&!g.is(this.elSearchBox)){this.elFilterMenu.removeClass("open")}if(!g||g.attr("id")!=="temp-download"){this.hideSubMenu()}}.bind(this));this.elSearchBoxForm.submit(function(){return false});this.elFilterInput.on("change",this.handleSearchboxDropdownItemClick.bind(this))},handleSearchInputChange:function(d){if(this.elSearchInput.val()===this.searchInputValue){return}this.searchInputValue=this.elSearchInput.val();if(this.searchInputTimer){clearTimeout(this.searchInputTimer);this.searchInputTimer=null}this.dataTable.stopLoadData();this.searchInputTimer=window.setTimeout(function(){this.dataTable.setFilter({search:this.searchInputValue});this.dataTable.stopLoadData();this.dataTable.clearTable();this.dataTable.loadData();keen.addKeenEvent("ml_search")}.bind(this),300)},handleSearchBoxInputKeyUp:function(d){if(this.elSearchInput.val()!==this.searchInputValue){this.elSearchInput.trigger("change")}},handleSearchBoxDropdownOpen:function(d){d.preventDefault();d.stopImmediatePropagation();d.stopPropagation();b(".search-filter-menu").addClass("open")},handleSubmenuDropdownOpen:function(d){d.preventDefault();d.stopImmediatePropagation();d.stopPropagation();b(".submenu-selector .submenu").toggleClass("open");b(".task-export").removeClass("done").removeClass("waiting")},hideSubMenu:function(){b(".submenu-selector .submenu").removeClass("open");b(".task-export").removeClass("done").removeClass("waiting")},handleSearchboxDropdownItemClick:function(h){var f=this.elFilterInput.filter(":checked").val();var g="Hledat";var d=null;switch(f){case"filter-option-users-active":g="Hledat mezi aktivnmi";d=this.STATUS_ACTIVE;break;case"filter-option-users-blocked":g="Hledat mezi blokovanmi";d=this.STATUS_DISABLED;break;case"filter-option-users-waiting":g="Hledat mezi ekajcmi";d=this.STATUS_WAITING_FOR_APPROVAL;break;case"filter-option-users-all":g="Hledat";d=null;break}if(this.elSearchInput.attr("placeholder")!=g){this.elSearchInput.attr("placeholder",g)}if(this.elSearchInput.attr("placeholder")!="Hledat"){this.elSearchInput.addClass("filtered")}else{this.elSearchInput.removeClass("filtered")}b(".search-filter-menu").removeClass("open");this.dataTable.setFilter({status:d});this.dataTable.clearTable();this.dataTable.loadData();this.elSearchInput.focus()},resetFilter:function(){this.elSearchInput.val("");this.dataTable.cancelFilter();this.dataTable.clearTable();this.dataTable.stopLoadData();this.dataTable.loadData()}};b.DataTableFilterClass=a})(jQuery);(function(b){b.fn.serializeObject=function(){var d={};var c=this.serializeArray();b.each(c,function(){if(d[this.name]!==undefined){if(!d[this.name].push){d[this.name]=[d[this.name]]}d[this.name].push(this.value||"")}else{d[this.name]=this.value||""}});return d};var a=Class.create();a.prototype={STATUS_ACTIVE:"ACTIVE",STATUS_DISABLED:"DISABLED",STATUS_SENT_INVITATION:"SENT_INVITATION",STATUS_WAITING_FOR_APPROVAL:"WAITING_FOR_APPROVAL",dataTable:null,filter:null,texts:{},metadata:{},activeUser:{},elNewUserForm:b(".managing-users-add-user-card form"),elSearchBoxSwitch:b(".manage-users-search-box-switch"),elSearchBox:b(".manage-users-search-box"),emailRegExp:/^([a-zA-Z0-9_\.\-])+@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,refreshLoginTimer:null,refreshLoginInterval:10*60,clipboardTimer:null,exportDataInProgress:false,initialize:function(e,c,d){this.dataTable=e;this.filter=c;this.texts=d;this.dataTable.setRowRenderCallback(this.renderTableRow.bind(this));this.dataTable.setProcessResponseCallback(this.afterProcessResponse.bind(this));this.dataTable.setRowClickCallback(this.rowClick.bind(this));this.initRefreshLoginTimer();this.initDataTable()},getText:function(c){return this.texts[c]?this.texts[c]:""},setMetadata:function(c){this.metadata=c},renderDetail:function(h){var g=this.dataTable.getItem(h);if(!g){return false}b(".modal-top-controls").show();var e=b("#table-data-table");e.empty();b("#table-data-title span").text(g["fe_users.full_name"]);if(window.usersManagement.multiLanguage){b("#table-data-title b").attr("class","flag flag-"+g["fe_users.language"])}b("#table-data-subtitle").text(this.getText("detailSubtitle").replace("__DATE__",this.escape(g["fe_users.create_date"])).replace("__IP_ADDRESS__",this.escape(g["fe_users.ip"])));var c,f;c=this.getText("status");f=this.escape(this.getStatusName(g["fe_users.status"]));e.append(this.getDetailTableStatusRow(c,f,h,g["fe_users.status"]));if(g["fe_users.login_date"]){c=this.getText("lastLoginDate");f=this.getValueByColumnType("DATE_TIME",g["fe_users.login_date"]);e.append(this.getDetailTableRow(c,f,false))}c=this.getText("email");f=this.getValueByColumnType("EMAIL",g["fe_users.name"]);e.append(this.getDetailTableRow(c,f,false));var d=["fe_users.created_at","fe_users.create_date","fe_users.login_date","fe_users.approval_date","fe_users.ip"];b.each(this.metadata,function(i,j){if(d.indexOf(i)>=0){return}if(g[i]==undefined||g[i]==""){return}f=g[i]||j.column_type==="FORM_AGREEMENT_CHECKBOX"?this.getValueByColumnType(j.column_type,g[i],true):"";c=j.label?j.label:"";e.append(this.getDetailTableRow(c,f,false))}.bind(this));this.prepareReadMoreButtons();this.preparePrevNextButtons(h);b(".button-arrow").off("click").on("click",this.handleClickArrow.bind(this,h));b(document).off("keydown").on("keydown",this.handleKeydown.bind(this,h));b(".button-copy-to-clipboard").off("click").on("click",this.handleClickCopyToClipboard.bind(this));b(".text-perex-read-more").off("click").on("click",this.handleClickReadMore.bind(this));b(".table-data-modal-toolbar .button-text-link.delete").off("click").on("click",{id:h},this.handleClickDelete.bind(this));b(".managing-users-confirm-delete .delete").off("click").on("click",{id:h},this.handleClickRemove.bind(this));b(".managing-users-confirm-delete .cancel").off("click").on("click",this.handleClickCancel.bind(this));b(".managing-users-detail-card .approve-user").off("click").on("click",this.handleClickActivate.bind(this));b(".managing-users-detail-card .block-user").off("click").on("click",this.handleClickDeactivate.bind(this));keen.addKeenEvent("ml_show_member_detail");return true},closeModal:function(){b(".table-data-modal").removeClass("waiting");modalControl()},prepareReadMoreButtons:function(){this.openModal("detail-card");b(".text-perex-collapsed").each(function(){var e=b(this);var d=e.height();var f=e.removeClass("text-perex-collapsed").addClass("text-perex-expanded").height();e.removeClass("text-perex-expanded").addClass("text-perex-collapsed").height();if(d<f){var c=b(this).closest("td").find(".text-perex-read-more");c.removeClass("hide")}})},preparePrevNextButtons:function(c){if(!this.dataTable.getNextItemId(c)&&this.dataTable.isLoadedAllItems()){b(".button-arrow.next").addClass("disabled")}else{b(".button-arrow.next").removeClass("disabled")}if(!this.dataTable.getPrevItemId(c)){b(".button-arrow.previous").addClass("disabled")}else{b(".button-arrow.previous").removeClass("disabled")}},handleClickArrow:function(e,c){c.preventDefault();var d=b(c.target).closest(".button-arrow");if(d.hasClass("previous")){this.goToPrevItem(e)}else{if(d.hasClass("next")){this.goToNextItem(e)}}},handleKeydown:function(d,c){if(c.type=="keydown"){switch(c.keyCode){case 37:case 38:this.goToPrevItem(d);break;case 39:case 40:this.goToNextItem(d);break;default:return}}},goToPrevItem:function(d){var c=this.dataTable.getPrevItemId(d);if(c){this.renderDetail(c)}},goToNextItem:function(d){var c=this.dataTable.getNextItemId(d);if(c){this.renderDetail(c)}else{if(!this.dataTable.isLoadedAllItems()){b(".table-data-modal").addClass("waiting");this.dataTable.loadNextPage(function(){b(".table-data-modal").removeClass("waiting");this.goToNextItem(d)}.bind(this,d))}}},handleClickCopyToClipboard:function(e){e.preventDefault();var c=document.createElement("input");var f=b(e.target).closest("td").find("a").first().text();c.setAttribute("value",f);document.body.appendChild(c);c.select();document.execCommand("copy");document.body.removeChild(c);var d=b(e.target).closest(".button-copy-to-clipboard").find(".button-copy-to-clipboard-state");d.removeClass("hide");if(this.clipboardTimer){clearTimeout(this.clipboardTimer);this.clipboardTimer=null}this.clipboardTimer=setTimeout(function(){d.addClass("hide")},1000)},handleClickReadMore:function(e){e.preventDefault();var g=b(e.target);var d=g.closest("td").find(".text-perex-collapsed");var f=d.css("max-height");d.css({display:"block","max-height":"none"});var c=d.css("height");g.closest(".text-perex-read-more").addClass("hide");d.css({"max-height":f}).animate({"max-height":c},250,"linear",function(){b(this).css({display:"","max-height":""});b(this).removeClass("text-perex-collapsed").addClass("text-perex-expanded")})},handleClickDelete:function(c){c.preventDefault();keen.addKeenEvent("ml_remove_member",{data:{type:"detail"}});if(this.isActiveUsersLimitExceeded()){this.openModal("upgrade-plan",{onClickCancel:function(){this.openModal("detail-card")}.bind(this)});return}b(".modal-top-controls").hide();b(".managing-users-detail-card").addClass("hide").css("display","");b(".managing-users-confirm-delete").removeClass("hide").hide().fadeIn(500).queue(function(){b(".modal-section").css("display","");b(window).trigger("resize");b(this).dequeue()});tableDataModalControl()},handleClickCancel:function(c){c.preventDefault();b(".modal-top-controls").show();b(".managing-users-confirm-delete").addClass("hide").css("display","");b(".managing-users-detail-card").removeClass("hide").hide().fadeIn(500).queue(function(){b(".modal-section").css("display","");b(window).trigger("resize");b(this).dequeue()});tableDataModalControl()},handleClickRemove:function(c){c.preventDefault();b(".table-data-modal").addClass("waiting");keen.addKeenEvent("ml_remove_member",{data:{type:"detail"}});b.ajax({method:"POST",url:location.href,data:{ajax_type:"feUser",action:"DELETE",id:c.data.id}}).done(function(d){b(".table-data-modal").removeClass("waiting");if(this.isPremiumServicesErrorResponse(d)){this.openModal("upgrade-plan",{onClickCancel:function(){this.openModal("detail-card")}.bind(this)});return}this.afterRemove(c.data.id);this.closeModal();this.updateActiveUsersCounter(d.data["activeUsers"])}.bind(this))},handleClickActivate:function(e,g){e.preventDefault();var f=g?g:"detail";keen.addKeenEvent("ml_approve_member",{data:{type:f}});var d=b(e.target).closest("td");var h=d.data("id");d.addClass("waiting");var c=d.closest("tbody").hasClass("table-data-tbody");b.ajax({method:"POST",url:location.href,data:{ajax_type:"feUser",action:"ACTIVATE",id:h}}).done(function(i){if(i.error){d.closest("td").removeClass("waiting");if(this.isPremiumServicesErrorResponse(i)){this.openModal("upgrade-plan",!c?{onClickCancel:function(){this.openModal("detail-card")}.bind(this)}:null)}return}this.dataTable.updateItem(h,{"fe_users.status":this.STATUS_ACTIVE});d.closest("tr").removeClass("unread");d.closest("td").removeClass("waiting").find(".text-td-user-state").text(this.getStatusName(this.STATUS_ACTIVE));d.closest("td").find(".button-td-text").addClass("hide");if(!c){d.closest("td").find(".block-user").removeClass("hide");this.renderDetail(h);this.dataTable.reRenderRow(h)}this.updateActiveUsersCounter(i.data["activeUsers"])}.bind(this))},handleClickDeactivate:function(e,g){e.preventDefault();var f=g?g:"detail";keen.addKeenEvent("ml_block_member",{data:{type:f}});var d=b(e.target).closest("td");var h=d.data("id");d.addClass("waiting");var c=d.closest("tbody").hasClass("table-data-tbody");b.ajax({method:"POST",url:location.href,data:{ajax_type:"feUser",action:"DEACTIVATE",id:h}}).done(function(i){if(i.error){d.closest("td").removeClass("waiting");if(this.isPremiumServicesErrorResponse(i)){this.openModal("upgrade-plan",!c?{onClickCancel:function(){this.openModal("detail-card")}.bind(this)}:null)}return}this.dataTable.updateItem(h,{"fe_users.status":this.STATUS_DISABLED});d.closest("tr").removeClass("unread");d.closest("td").removeClass("waiting").find(".text-td-user-state").text(this.getStatusName(this.STATUS_DISABLED));d.closest("td").find(".button-td-text").addClass("hide");if(!c){d.closest("td").find(".approve-user").removeClass("hide");this.renderDetail(h);this.dataTable.reRenderRow(h)}this.updateActiveUsersCounter(i.data["activeUsers"])}.bind(this))},getStatusName:function(d){var c={ACTIVE:this.getText("statusActive"),DISABLED:this.getText("statusDisabled"),SENT_INVITATION:this.getText("statusSentInvitation"),WAITING_FOR_APPROVAL:this.getText("statusWaitingForApproval")};return c[d]?c[d]:""},escape:function(c){c=c||"";return b("<div/>").text(c).html()},nl2br:function(c){return(c+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1<br />$2")},getValueByColumnType:function(j,i,f){switch(j){case"EMAIL":var k="";if(window.usersManagement.visibleExportData){k='<span class="button-copy-to-clipboard"><span><a href="#"></a></span><span class="button-copy-to-clipboard-state hide">'+this.getText("copied")+"</span></span>"}i='<a href="mailto:'+this.escape(i)+'">'+this.escape(i)+"</a>"+k;break;case"FORM_FILEINPUT":if(f){var c=i.url;var g=this.escape(i.name);var h="table-data-modalattach";if(i.name.match(/\.(jpg|jpeg|png|gif)$/)){g='<img src="'+this.escape(c)+'">';h="table-data-modal-image"}i='<a target="_blank" href="'+this.escape(c)+'" class="'+h+'">'+g+"</a>"}else{i="<span>"+this.escape(i.name)+"</span>"}break;case"FORM_TEXT":case"FORM_SELECTBOX":i="<span>"+this.escape(i)+"</span>";break;case"FORM_TEXTAREA":var e="";var d="";if(window.usersManagement.visibleExportData){e='<span class="text-perex-read-more hide"><a href="#">'+this.getText("readMore")+"</a></span>";d="text-perex-collapsed"}i='<span class="'+d+'">'+this.nl2br(this.escape(i))+"</span>"+e;break;case"FORM_RADIOBUTTON":case"FORM_CHECKBOX":i="<span>"+i+"</span>";break;case"FORM_AGREEMENT_CHECKBOX":i="<span>"+(i?this.getText("yes"):this.getText("no"))+"</span>";break;default:i=this.escape(i);break}return i},getDetailTableRow:function(d,f,c){var e=c?' class="no-in-form"':"";return"<tr"+e+'><td class="table-data-modal-table-title">'+d+"</td><td>"+f+"</td></tr>"},getDetailTableStatusRow:function(e,g,i,c){var h=c===this.STATUS_ACTIVE;var d=c===this.STATUS_WAITING_FOR_APPROVAL;var f=['<span class="text-td-user-state">'+g+"</span>",'<span class="button-td-text approve-user'+(h?" hide":"")+'"><a href="#">'+(d?this.getText("buttonActivate"):this.getText("detailButtonActivate"))+"</a></span>",'<span class="button-td-text block-user'+((!h&&!d)?" hide":"")+'"><a href="#">'+this.getText("detailButtonDeactivate")+"</a></span>"];return'<tr><td class="table-data-modal-table-title">'+this.escape(e)+'</td><td class="text-td-user-control-cell" data-id="'+this.escape(i)+'">'+f.join("")+"</td></tr>"},beforeChangeStatus:function(d){var c=b("tr[data-row_id="+d+"] td.text-td-user-control-cell");c.addClass("waiting")},afterRemove:function(c){this.dataTable.deleteItem(c)},afterChangeStatus:function(e){var c=this.dataTable.getRow(e);var d=c.find("td.text-td-user-control-cell");d.closest("td").removeClass("waiting");c.find('td input[type="checkbox"]').prop("checked",false)},afterSuccessChangeStatus:function(d,f){var c=this.dataTable.getRow(f);var e=c.find("td.text-td-user-control-cell");this.dataTable.updateItem(f,{"fe_users.status":d});e.closest("td").find(".text-td-user-state").text(this.getStatusName(d));e.closest("td").find(".button-td-text").addClass("hide");e.closest("tr").removeClass("unread")},handleBulkOperationApprove:function(c){c.preventDefault();keen.addKeenEvent("ml_approve_member",{data:{type:"bulk"}});this.bulkUpdateStatus("ACTIVATE",this.STATUS_ACTIVE)},handleBulkOperationBlock:function(c){c.preventDefault();keen.addKeenEvent("ml_block_member",{data:{type:"bulk"}});this.bulkUpdateStatus("DEACTIVATE",this.STATUS_DISABLED)},bulkUpdateStatus:function(f,c){var e=this.dataTable.getSelectedRows();var g=e.filter(function(h){return this.dataTable.getItem(h)["fe_users.status"]!=c}.bind(this));var d=e.filter(function(h){return this.dataTable.getItem(h)["fe_users.status"]==c}.bind(this));this.dataTable.hideBulkOperations();d.forEach(this.afterChangeStatus.bind(this));if(g.length==0){this.dataTable.completeBulkOperation();return}g.forEach(this.beforeChangeStatus.bind(this));b.ajax({method:"POST",url:location.href,data:{ajax_type:"feUser",action:f,id:g}}).done(function(i){g.forEach(this.afterChangeStatus.bind(this));var h=i.data["affected"];h.forEach(this.afterSuccessChangeStatus.bind(this,c));if(i.data["activeUsers"]){this.updateActiveUsersCounter(i.data["activeUsers"])}if(this.isPremiumServicesErrorResponse(i)){this.openModal("upgrade-plan")}this.dataTable.completeBulkOperation()}.bind(this))},handleBulkOperationDelete:function(f){f.preventDefault();keen.addKeenEvent("ml_remove_member",{data:{type:"bulk"}});if(this.isActiveUsersLimitExceeded()){this.openModal("upgrade-plan");return}var c=this.dataTable.getSelectedRows();var g="";var d=c.length;switch(d){case 1:g=this.getText("bulkDeleteConfirm1");break;case 2:case 3:case 4:g=this.getText("bulkDeleteConfirm24");break;default:g=this.getText("bulkDeleteConfirm5");break}g=g.replace("_COUNT_",d);b(".managing-users-confirm-delete-bulk h2").text(g);this.openModal("confirm-delete-bulk");b(".managing-users-confirm-delete-bulk .delete").off("click").on("click",function(h){h.preventDefault();if(this.isActiveUsersLimitExceeded()){this.openModal("upgrade-plan")}else{this.bulkDelete(c);this.closeModal()}}.bind(this));b(".managing-users-confirm-delete-bulk .cancel").off("click").on("click",function(h){h.preventDefault();this.closeModal()}.bind(this))},bulkDelete:function(c){c.forEach(this.afterRemove.bind(this));this.dataTable.hideBulkOperations();b.ajax({method:"POST",url:location.href,data:{ajax_type:"feUser",action:"DELETE",id:c}}).done(function(d){this.dataTable.completeBulkOperation();if(this.isPremiumServicesErrorResponse(d)){this.openModal("upgrade-plan");return}this.updateActiveUsersCounter(d.data["activeUsers"])}.bind(this))},updateActiveUsersCounter:function(d){this.activeUser=d;var c=this.activeUser?this.activeUser.count:0;b("#active-users-counter").text(c)},isActiveUsersLimitExceeded:function(){return this.activeUser&&this.activeUser.count>=this.activeUser.limit},handleSearchBoxSwitchClick:function(c){c.preventDefault();c.stopImmediatePropagation();c.stopPropagation();this.filter.hideSubMenu();this.elSearchBoxSwitch.addClass("hide");this.elSearchBox.addClass("open-manage-users-search-box");b("#member-login-search-input").focus()},handleSearchInputBlur:function(c){if(b(c.target).val()==""){this.elSearchBoxSwitch.removeClass("hide");this.elSearchBox.removeClass("open-manage-users-search-box")}},handleAddNewUserSwitchClick:function(c){c.preventDefault();c.stopImmediatePropagation();c.stopPropagation();if(this.isActiveUsersLimitExceeded()){this.openModal("upgrade-plan");return}this.elNewUserForm[0].reset();this.elNewUserForm.validate().resetForm();this.elNewUserForm.find(".form-input").removeClass("valid").removeClass("wrong").removeClass("not-empty");this.elNewUserForm.find("input#field-username").focus();this.openModal("add-user-card")},changeModalCard:function(c){b(".modal-section").addClass("hide");b(".managing-users-"+c).removeClass("hide");if(b(".managing-users-"+c).is(".hidden-close")){b(".modal-top-controls").hide()}else{b(".modal-top-controls").show()}tableDataModalControl()},openModal:function(c,d){b(".table-data-modal").removeClass("waiting");b(".managing-users-"+c+" .cancel").off("click").on("click",function(e){e.preventDefault();e.stopPropagation();if(d&&d.onClickCancel){d.onClickCancel()}else{this.closeModal()}}.bind(this));this.changeModalCard(c);modalControl("openTableData");if(c=="upgrade-plan"){keen.addKeenEvent("ml_show_premium_popup_buy_package")}},rowClick:function(d,e){var c=d.srcElement||d.target;if(b(c).closest("span").hasClass("block-user")){keen.addKeenEvent("ml_block_member",{data:{type:"list"}});this.handleClickDeactivate(d,"list")}else{if(b(c).closest("span").hasClass("approve-user")){this.handleClickActivate(d,"list")}else{this.renderDetail(e);this.openModal("detail-card")}}},initRefreshLoginTimer:function(){this.refreshLoginTimer=window.setInterval(function(){b.ajax({method:"POST",url:location.href,cache:false,data:{ajax_type:"refreshLogin"}})},this.refreshLoginInterval*1000)},handleExportDataClick:function(c){c.preventDefault();c.stopPropagation();if(this.exportDataInProgress){return}this.exportDataInProgress=true;var d=b(c.target);d.removeClass("done").addClass("waiting");b.ajax({method:"POST",url:location.href,cache:false,data:{ajax_type:"exportData"}}).done(function(f){d.removeClass("waiting").addClass("done");if(f.data&&f.data["file"]){var e=document.createElement("a");e.id="temp-download";e.href=location.href+"&download="+f.data["file"];e.download=f.data["exportName"];document.body.appendChild(e);e.click();document.body.removeChild(e);this.exportDataInProgress=false}}.bind(this))},initDataTable:function(){b.validator.addMethod("email",function(d,c){return this.emailRegExp.test(d)}.bind(this),"");this.elSearchBoxSwitch.off("click").on("click",this.handleSearchBoxSwitchClick.bind(this));b("input#member-login-search-input").off("blur").on("blur",this.handleSearchInputBlur.bind(this));b(".manage-users-bulk-operations .approve").off("click").on("click",this.handleBulkOperationApprove.bind(this));b(".manage-users-bulk-operations .block").off("click").on("click",this.handleBulkOperationBlock.bind(this));b(".manage-users-bulk-operations .delete").off("click").on("click",this.handleBulkOperationDelete.bind(this));b(".manage-users-add-new-user-switch").off("click").on("click",this.handleAddNewUserSwitchClick.bind(this));b("#export-data").off("click").on("click",this.handleExportDataClick.bind(this));this.elNewUserForm.validate({debug:true,submitHandler:this.handleFrmNewUserSubmit.bind(this),onfocusout:function(c){if(b(c).valid()){b(c).closest(".form-input").removeClass("wrong");b(c).closest(".form-input").removeClass("valid");if(b(c).val()!=""){b(c).closest(".form-input").addClass("valid")}}else{b(c).closest(".form-input").addClass("wrong");b(c).closest(".form-input").removeClass("valid")}},rules:{email:{required:true,email:true},passwd:{required:true,minlength:6}},messages:{email:"",passwd:""},invalidHandler:function(d,c){b.each(c.invalidElements(),function(f,e){b(e).closest(".form-input").addClass("wrong")});b.each(c.validElements(),function(f,e){b(e).closest(".form-input").removeClass("wrong");if(b(e).val()!=""){b(e).closest(".form-input").addClass("valid")}})}});this.elNewUserForm.find(".form-input input").off("change").on("change",function(c){c.preventDefault();if(b(this).val()!=""){b(this).closest(".form-input").addClass("not-empty")}else{b(this).closest(".form-input").removeClass("not-empty")}});b(".managing-users-add-user-card .add-user").off("click").on("click",function(c){c.preventDefault();c.stopPropagation();this.elNewUserForm.submit()}.bind(this))},handleFrmNewUserSubmit:function(){var c=this.elNewUserForm.serializeObject();b(".table-data-modal").addClass("waiting");b.ajax({method:"POST",url:location.href,data:{ajax_type:"feUser",action:"INSERT",data:c}}).done(function(d){b(".table-data-modal").removeClass("waiting");if(this.isPremiumServicesErrorResponse(d)){this.openModal("upgrade-plan")}else{if(d.error&&d.error.code==100){b("#field-email").closest(".form-input").removeClass("valid").addClass("wrong")}else{if(d.data){if(d.data.activeUsers){this.updateActiveUsersCounter(d.data.activeUsers);delete d.data.activeUsers}if(this.dataTable.hasFilter()){this.dataTable.stopLoadData();this.dataTable.cancelFilter();this.dataTable.fetchTableData(function(e){this.filter.elSearchInput.val("");this.elSearchBoxSwitch.removeClass("hide");this.elSearchBox.removeClass("open-manage-users-search-box");this.dataTable.elTableBody.empty();this.dataTable.appendTableRows(e.orderData);this.dataTable.afterLoadingData();this.dataTable.getRow(d.data.created["id"]).hide().fadeIn();this.closeModal()}.bind(this))}else{this.dataTable.insertItem(d.data.created);this.closeModal()}}}}}.bind(this))},isPremiumServicesErrorResponse:function(c){return c.error&&c.error["code"]==6000},afterProcessResponse:function(c){if(b.isPlainObject(c.metadata)){b.extend(this.metadata,c.metadata)}},renderTableRow:function(e){var f=[];f.push('<td data-th="'+this.getText("bulkSelectRow")+'"><label title="'+this.getText("bulkSelectRowTitle")+'"><input type="checkbox"><span></span></label></td>');f.push('<td data-th="'+this.getText("registrationDate")+'" title="'+this.escape(e["fe_users.created_at"])+'">'+e["fe_users.created_at"]+"</td>");f.push('<td data-th="'+this.getText("fullName")+'" title="'+this.escape(e["fe_users.full_name"])+'">'+this.escape(e["fe_users.full_name"])+"</td>");f.push('<td data-th="'+this.getText("email")+'" title="'+this.escape(e["fe_users.name"])+'">'+this.escape(e["fe_users.name"])+"</td>");var c=e["fe_users.status"]===this.STATUS_WAITING_FOR_APPROVAL;var d=['<span class="text-td-user-state">'+this.getStatusName(e["fe_users.status"])+"</span>",'<span class="button-td-text approve-user'+(!c?" hide":"")+'"><a href="#">'+this.getText("buttonActivate")+"</a></span>",'<span class="button-td-text block-user'+(!c?" hide":"")+'"><a href="#">'+this.getText("buttonDeactivate")+"</a></span>"];f.push('<td class="text-td-user-control-cell" data-id="'+this.escape(e.id)+'" data-th="'+this.getText("status")+'" title="'+this.getStatusName(e["fe_users.status"])+'">'+d.join("")+"</td>");return"<tr"+(c?' class="unread"':"")+">"+f.join("")+"</tr>"}};b(document).ready(function(){if(window.usersManagement){window.__insp=window.__insp||[];window.__insp.push(["tagSession","member login users management"]);var f=window.usersManagement.texts;b(".hideOnProjectDetail").addClass("hide");var e=new b.DataTableClass(f);e.setItems(window.usersManagement.data["data"]||[]);e.setTotalItems(window.usersManagement.data["totalItems"]||0);var d=new b.DataTableFilterClass(e,f);var c=new a(e,d,f);c.setMetadata(window.usersManagement.data["metadata"]||[]);c.updateActiveUsersCounter(window.usersManagement.data["activeUsers"]||null)}})})(jQuery);jQuery.noConflict();(function(a){a.validator.addMethod("email",function(c,b){return/^([a-zA-Z0-9_\.\-+])+@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(c)},"Please enter a valid email address.");a(document).ready(function(){if(a("#pageLoginForm").length){a("#pageLoginForm").validate({rules:{user:{required:true,email:true},passwd:{required:true}},messages:{user:{required:"",email:""},passwd:{required:""}}})}})})(jQuery);